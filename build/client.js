/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./client/const.ts":
/*!*************************!*\
  !*** ./client/const.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"__IS_CLIENT__\": () => (/* binding */ __IS_CLIENT__),\n/* harmony export */   \"FRAME\": () => (/* binding */ FRAME),\n/* harmony export */   \"MIN_FRAME_DELTA\": () => (/* binding */ MIN_FRAME_DELTA),\n/* harmony export */   \"MAX_FRAME_DELTA\": () => (/* binding */ MAX_FRAME_DELTA),\n/* harmony export */   \"KEY_BACKSPACE\": () => (/* binding */ KEY_BACKSPACE),\n/* harmony export */   \"KEY_TAB\": () => (/* binding */ KEY_TAB),\n/* harmony export */   \"KEY_ENTER\": () => (/* binding */ KEY_ENTER),\n/* harmony export */   \"KEY_ESCAPE\": () => (/* binding */ KEY_ESCAPE),\n/* harmony export */   \"KEY_SPACE\": () => (/* binding */ KEY_SPACE),\n/* harmony export */   \"KEY_LEFT\": () => (/* binding */ KEY_LEFT),\n/* harmony export */   \"KEY_UP\": () => (/* binding */ KEY_UP),\n/* harmony export */   \"KEY_RIGHT\": () => (/* binding */ KEY_RIGHT),\n/* harmony export */   \"KEY_DOWN\": () => (/* binding */ KEY_DOWN),\n/* harmony export */   \"KEY_FULLSCREEN\": () => (/* binding */ KEY_FULLSCREEN),\n/* harmony export */   \"KEY_MUTE\": () => (/* binding */ KEY_MUTE),\n/* harmony export */   \"KEY_START\": () => (/* binding */ KEY_START),\n/* harmony export */   \"FIELD_BUGS\": () => (/* binding */ FIELD_BUGS),\n/* harmony export */   \"FIELD_NAME\": () => (/* binding */ FIELD_NAME),\n/* harmony export */   \"FIELD_QUICK_GAME\": () => (/* binding */ FIELD_QUICK_GAME),\n/* harmony export */   \"FIELD_MAX_PLAYERS\": () => (/* binding */ FIELD_MAX_PLAYERS),\n/* harmony export */   \"FIELD_LEVEL_SET\": () => (/* binding */ FIELD_LEVEL_SET),\n/* harmony export */   \"FIELD_POWERUPS\": () => (/* binding */ FIELD_POWERUPS),\n/* harmony export */   \"FIELD_PRIVATE\": () => (/* binding */ FIELD_PRIVATE),\n/* harmony export */   \"FIELD_XSS\": () => (/* binding */ FIELD_XSS),\n/* harmony export */   \"KEY_TO_DIRECTION\": () => (/* binding */ KEY_TO_DIRECTION),\n/* harmony export */   \"GAME_LEFT\": () => (/* binding */ GAME_LEFT),\n/* harmony export */   \"GAME_TOP\": () => (/* binding */ GAME_TOP),\n/* harmony export */   \"MENU_LEFT\": () => (/* binding */ MENU_LEFT),\n/* harmony export */   \"MENU_TOP\": () => (/* binding */ MENU_TOP),\n/* harmony export */   \"MENU_WIDTH\": () => (/* binding */ MENU_WIDTH),\n/* harmony export */   \"MENU_WRAP\": () => (/* binding */ MENU_WRAP),\n/* harmony export */   \"MENU_TITLE_HEIGHT\": () => (/* binding */ MENU_TITLE_HEIGHT),\n/* harmony export */   \"DOM_EVENT_KEYPRESS\": () => (/* binding */ DOM_EVENT_KEYPRESS),\n/* harmony export */   \"DOM_EVENT_KEYDOWN\": () => (/* binding */ DOM_EVENT_KEYDOWN),\n/* harmony export */   \"DOM_EVENT_KEYUP\": () => (/* binding */ DOM_EVENT_KEYUP),\n/* harmony export */   \"HASH_ROOM\": () => (/* binding */ HASH_ROOM),\n/* harmony export */   \"NS_DEBUG\": () => (/* binding */ NS_DEBUG),\n/* harmony export */   \"NS_ANIM\": () => (/* binding */ NS_ANIM),\n/* harmony export */   \"NS_ACTION\": () => (/* binding */ NS_ACTION),\n/* harmony export */   \"NS_BETWEEN_GAME\": () => (/* binding */ NS_BETWEEN_GAME),\n/* harmony export */   \"NS_EXPLOSION\": () => (/* binding */ NS_EXPLOSION),\n/* harmony export */   \"NS_FLOW\": () => (/* binding */ NS_FLOW),\n/* harmony export */   \"NS_CHAT\": () => (/* binding */ NS_CHAT),\n/* harmony export */   \"NS_DIALOG\": () => (/* binding */ NS_DIALOG),\n/* harmony export */   \"NS_INPUT\": () => (/* binding */ NS_INPUT),\n/* harmony export */   \"NS_GAME\": () => (/* binding */ NS_GAME),\n/* harmony export */   \"NS_MSGBOX\": () => (/* binding */ NS_MSGBOX),\n/* harmony export */   \"NS_ROOM\": () => (/* binding */ NS_ROOM),\n/* harmony export */   \"NS_ROUND\": () => (/* binding */ NS_ROUND),\n/* harmony export */   \"NS_ROUND_SET\": () => (/* binding */ NS_ROUND_SET),\n/* harmony export */   \"NS_PRE_GAME\": () => (/* binding */ NS_PRE_GAME),\n/* harmony export */   \"NS_SCORE\": () => (/* binding */ NS_SCORE),\n/* harmony export */   \"NS_SNAKE\": () => (/* binding */ NS_SNAKE),\n/* harmony export */   \"NS_SNAKE_CONTROLS\": () => (/* binding */ NS_SNAKE_CONTROLS),\n/* harmony export */   \"NS_HEARTBEAT\": () => (/* binding */ NS_HEARTBEAT),\n/* harmony export */   \"NS_SOCKET\": () => (/* binding */ NS_SOCKET),\n/* harmony export */   \"NS_SPAWN\": () => (/* binding */ NS_SPAWN),\n/* harmony export */   \"NS_STAGES\": () => (/* binding */ NS_STAGES),\n/* harmony export */   \"EV_GAME_TICK\": () => (/* binding */ EV_GAME_TICK),\n/* harmony export */   \"EV_WIN_FOCUS_CHANGE\": () => (/* binding */ EV_WIN_FOCUS_CHANGE),\n/* harmony export */   \"EV_FONT_LOAD\": () => (/* binding */ EV_FONT_LOAD),\n/* harmony export */   \"EV_PLAYERS_UPDATED\": () => (/* binding */ EV_PLAYERS_UPDATED),\n/* harmony export */   \"STORAGE_MUTE\": () => (/* binding */ STORAGE_MUTE),\n/* harmony export */   \"STORAGE_NAME\": () => (/* binding */ STORAGE_NAME),\n/* harmony export */   \"STORAGE_XSS\": () => (/* binding */ STORAGE_XSS),\n/* harmony export */   \"STORAGE_COLOR\": () => (/* binding */ STORAGE_COLOR),\n/* harmony export */   \"STORAGE_PREFS\": () => (/* binding */ STORAGE_PREFS),\n/* harmony export */   \"UC_ARR_LEFT\": () => (/* binding */ UC_ARR_LEFT),\n/* harmony export */   \"UC_ARR_UP\": () => (/* binding */ UC_ARR_UP),\n/* harmony export */   \"UC_ARR_RIGHT\": () => (/* binding */ UC_ARR_RIGHT),\n/* harmony export */   \"UC_ARR_DOWN\": () => (/* binding */ UC_ARR_DOWN),\n/* harmony export */   \"UC_CODE\": () => (/* binding */ UC_CODE),\n/* harmony export */   \"UC_ELECTRIC\": () => (/* binding */ UC_ELECTRIC),\n/* harmony export */   \"UC_HOURGLASS\": () => (/* binding */ UC_HOURGLASS),\n/* harmony export */   \"UC_ENTER_KEY\": () => (/* binding */ UC_ENTER_KEY),\n/* harmony export */   \"UC_SQUARE\": () => (/* binding */ UC_SQUARE),\n/* harmony export */   \"UC_TR_LEFT\": () => (/* binding */ UC_TR_LEFT),\n/* harmony export */   \"UC_TR_RIGHT\": () => (/* binding */ UC_TR_RIGHT),\n/* harmony export */   \"UC_TR_UP\": () => (/* binding */ UC_TR_UP),\n/* harmony export */   \"UC_TR_DOWN\": () => (/* binding */ UC_TR_DOWN),\n/* harmony export */   \"UC_APPLE\": () => (/* binding */ UC_APPLE),\n/* harmony export */   \"UC_SKULL\": () => (/* binding */ UC_SKULL),\n/* harmony export */   \"UC_FROWNY_FACE\": () => (/* binding */ UC_FROWNY_FACE),\n/* harmony export */   \"UC_HAPPY_FACE\": () => (/* binding */ UC_HAPPY_FACE),\n/* harmony export */   \"UC_WHITE_HEART\": () => (/* binding */ UC_WHITE_HEART),\n/* harmony export */   \"UC_BLACK_HEART\": () => (/* binding */ UC_BLACK_HEART),\n/* harmony export */   \"UC_MUSIC\": () => (/* binding */ UC_MUSIC),\n/* harmony export */   \"UC_YES\": () => (/* binding */ UC_YES),\n/* harmony export */   \"UC_NO\": () => (/* binding */ UC_NO),\n/* harmony export */   \"UC_BULB\": () => (/* binding */ UC_BULB),\n/* harmony export */   \"UC_BUG\": () => (/* binding */ UC_BUG),\n/* harmony export */   \"UC_FONT\": () => (/* binding */ UC_FONT),\n/* harmony export */   \"UC_LOCK\": () => (/* binding */ UC_LOCK)\n/* harmony export */ });\n/* harmony import */ var _shared_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shared/const */ \"./shared/const.ts\");\n// Client-only extension of server/shared/const.js\n\nconst __IS_CLIENT__ = true;\nconst FRAME = 1000 / 60;\nconst MIN_FRAME_DELTA = 5;\nconst MAX_FRAME_DELTA = 250;\nconst KEY_BACKSPACE = 8;\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_ESCAPE = 27;\nconst KEY_SPACE = 32;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_FULLSCREEN = 70; // F key\nconst KEY_MUTE = 77; // M key\nconst KEY_START = 83; // S key\nconst FIELD_BUGS = -1;\nconst FIELD_NAME = 0;\nconst FIELD_QUICK_GAME = 1;\nconst FIELD_MAX_PLAYERS = 2;\nconst FIELD_LEVEL_SET = 3;\nconst FIELD_POWERUPS = 4;\nconst FIELD_PRIVATE = 5;\nconst FIELD_XSS = 6;\nconst KEY_TO_DIRECTION = [];\nKEY_TO_DIRECTION[KEY_LEFT] = _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_LEFT;\nKEY_TO_DIRECTION[KEY_UP] = _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_UP;\nKEY_TO_DIRECTION[KEY_RIGHT] = _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_RIGHT;\nKEY_TO_DIRECTION[KEY_DOWN] = _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_DOWN;\nconst GAME_LEFT = 2;\nconst GAME_TOP = 2;\nconst MENU_LEFT = 44;\nconst MENU_TOP = 48;\nconst MENU_WIDTH = 167;\nconst MENU_WRAP = 176;\nconst MENU_TITLE_HEIGHT = 20;\nconst DOM_EVENT_KEYPRESS = \"keypress\";\nconst DOM_EVENT_KEYDOWN = \"keydown\";\nconst DOM_EVENT_KEYUP = \"keyup\";\nconst HASH_ROOM = \"room\";\nconst NS_DEBUG = \"DEBUG\";\nconst NS_ANIM = \"ANM\";\nconst NS_ACTION = \"ACT\";\nconst NS_BETWEEN_GAME = \"BGM\";\nconst NS_EXPLOSION = \"EXPL\";\nconst NS_FLOW = \"FLW\";\nconst NS_CHAT = \"CHT\";\nconst NS_DIALOG = \"DLG\";\nconst NS_INPUT = \"INP\";\nconst NS_GAME = \"GAM\";\nconst NS_MSGBOX = \"MSG\";\nconst NS_ROOM = \"ROM\";\nconst NS_ROUND = \"RND\";\nconst NS_ROUND_SET = \"RST\";\nconst NS_PRE_GAME = \"PGM\";\nconst NS_SCORE = \"SCR\";\nconst NS_SNAKE = \"SNK\";\nconst NS_SNAKE_CONTROLS = \"SNKC\";\nconst NS_HEARTBEAT = \"HBT\";\nconst NS_SOCKET = \"SOK\";\nconst NS_SPAWN = \"SPN\";\nconst NS_STAGES = \"STG\";\nconst EV_GAME_TICK = \"TIK\";\nconst EV_WIN_FOCUS_CHANGE = \"WFC\";\nconst EV_FONT_LOAD = \"FLD\";\nconst EV_PLAYERS_UPDATED = \"PU\";\nconst STORAGE_MUTE = \"MUT\";\nconst STORAGE_NAME = \"NME\";\nconst STORAGE_XSS = \"XSS\";\nconst STORAGE_COLOR = \"CLR\";\nconst STORAGE_PREFS = \"PRF\";\nconst UC_ARR_LEFT = \"\\u2190\";\nconst UC_ARR_UP = \"\\u2191\";\nconst UC_ARR_RIGHT = \"\\u2192\";\nconst UC_ARR_DOWN = \"\\u2193\";\nconst UC_CODE = \"\\u2263\";\nconst UC_ELECTRIC = \"\\u2301\";\nconst UC_HOURGLASS = \"\\u231B\";\nconst UC_ENTER_KEY = \"\\u23ce\";\nconst UC_SQUARE = \"\\u25a0\";\nconst UC_TR_LEFT = \"\\u25c0\";\nconst UC_TR_RIGHT = \"\\u25b6\";\nconst UC_TR_UP = \"\\u25b2\";\nconst UC_TR_DOWN = \"\\u25bc\";\nconst UC_APPLE = \"\\u25ce\"; // Bullseye\nconst UC_SKULL = \"\\u2620\";\nconst UC_FROWNY_FACE = \"\\u2639\";\nconst UC_HAPPY_FACE = \"\\u263A\";\nconst UC_WHITE_HEART = \"\\u2661\";\nconst UC_BLACK_HEART = \"\\u2665\";\nconst UC_MUSIC = \"\\u266b\";\nconst UC_YES = \"\\u2714\";\nconst UC_NO = \"\\u2717\";\nconst UC_BULB = \"\\u2800\"; // Braille range.\nconst UC_BUG = \"\\u2801\";\nconst UC_FONT = \"\\u2802\";\nconst UC_LOCK = \"\\u2803\";\n\n\n//# sourceURL=webpack://xssnake/./client/const.ts?");

/***/ }),

/***/ "./client/copy/copy.ts":
/*!*****************************!*\
  !*** ./client/copy/copy.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"COPY_AWAITING_PLAYERS_HEADER\": () => (/* binding */ COPY_AWAITING_PLAYERS_HEADER),\n/* harmony export */   \"COPY_AWAITING_PLAYERS_BODY\": () => (/* binding */ COPY_AWAITING_PLAYERS_BODY),\n/* harmony export */   \"COPY_AWAITING_PLAYERS_START_NOW\": () => (/* binding */ COPY_AWAITING_PLAYERS_START_NOW),\n/* harmony export */   \"COPY_CONFIRM_START_HEADER\": () => (/* binding */ COPY_CONFIRM_START_HEADER),\n/* harmony export */   \"COPY_CONFIRM_START_BODY\": () => (/* binding */ COPY_CONFIRM_START_BODY),\n/* harmony export */   \"COPY_CONFIRM_EXIT_HEADER\": () => (/* binding */ COPY_CONFIRM_EXIT_HEADER),\n/* harmony export */   \"COPY_CONFIRM_EXIT_BODY\": () => (/* binding */ COPY_CONFIRM_EXIT_BODY),\n/* harmony export */   \"COPY_CONFIRM_EXIT_BODY_DRAMATIC\": () => (/* binding */ COPY_CONFIRM_EXIT_BODY_DRAMATIC),\n/* harmony export */   \"COPY_ERROR\": () => (/* binding */ COPY_ERROR),\n/* harmony export */   \"COPY_DIALOG_OK\": () => (/* binding */ COPY_DIALOG_OK),\n/* harmony export */   \"COPY_DIALOG_CANCEL\": () => (/* binding */ COPY_DIALOG_CANCEL),\n/* harmony export */   \"COPY_LEVELSET_BASIC\": () => (/* binding */ COPY_LEVELSET_BASIC),\n/* harmony export */   \"COPY_LEVELSET_MOVING\": () => (/* binding */ COPY_LEVELSET_MOVING),\n/* harmony export */   \"COPY_LEVELSET_MAZE\": () => (/* binding */ COPY_LEVELSET_MAZE),\n/* harmony export */   \"COPY_LEVELSET_GAME\": () => (/* binding */ COPY_LEVELSET_GAME),\n/* harmony export */   \"COPY_COMMA_SPACE\": () => (/* binding */ COPY_COMMA_SPACE),\n/* harmony export */   \"COPY_SPACE_AND_SPACE\": () => (/* binding */ COPY_SPACE_AND_SPACE),\n/* harmony export */   \"COPY_ELLIPSIS\": () => (/* binding */ COPY_ELLIPSIS),\n/* harmony export */   \"COPY_JOINER\": () => (/* binding */ COPY_JOINER),\n/* harmony export */   \"COPY_DEF\": () => (/* binding */ COPY_DEF),\n/* harmony export */   \"COPY_MAIN_INSTRUCT\": () => (/* binding */ COPY_MAIN_INSTRUCT),\n/* harmony export */   \"COPY_FORM_INSTRUCT\": () => (/* binding */ COPY_FORM_INSTRUCT),\n/* harmony export */   \"COPY_COUNTDOWN_TITLE\": () => (/* binding */ COPY_COUNTDOWN_TITLE),\n/* harmony export */   \"COPY_COUNTDOWN_BODY\": () => (/* binding */ COPY_COUNTDOWN_BODY),\n/* harmony export */   \"COPY_SOCKET_CONNECTION_LOST\": () => (/* binding */ COPY_SOCKET_CONNECTION_LOST),\n/* harmony export */   \"COPY_SOCKET_CANNOT_CONNECT\": () => (/* binding */ COPY_SOCKET_CANNOT_CONNECT),\n/* harmony export */   \"COPY_SOCKET_SERVER_AWAY\": () => (/* binding */ COPY_SOCKET_SERVER_AWAY),\n/* harmony export */   \"COPY_FIELD_TRUE\": () => (/* binding */ COPY_FIELD_TRUE),\n/* harmony export */   \"COPY_FIELD_FALSE\": () => (/* binding */ COPY_FIELD_FALSE),\n/* harmony export */   \"COPY_FIELD_LEVEL_SET\": () => (/* binding */ COPY_FIELD_LEVEL_SET),\n/* harmony export */   \"COPY_OPTIONS_STAGE_HEADER\": () => (/* binding */ COPY_OPTIONS_STAGE_HEADER),\n/* harmony export */   \"COPY_FIELD_POWERUPS\": () => (/* binding */ COPY_FIELD_POWERUPS),\n/* harmony export */   \"COPY_FIELD_PRIVATE\": () => (/* binding */ COPY_FIELD_PRIVATE),\n/* harmony export */   \"COPY_FIELD_XSS\": () => (/* binding */ COPY_FIELD_XSS),\n/* harmony export */   \"COPY_FIELD_MAX_PLAYERS\": () => (/* binding */ COPY_FIELD_MAX_PLAYERS),\n/* harmony export */   \"COPY_FIELD_BUGS\": () => (/* binding */ COPY_FIELD_BUGS),\n/* harmony export */   \"COPY_FIELD_TRUE_OPT1\": () => (/* binding */ COPY_FIELD_TRUE_OPT1),\n/* harmony export */   \"COPY_FIELD_TRUE_OPT2\": () => (/* binding */ COPY_FIELD_TRUE_OPT2),\n/* harmony export */   \"COPY_FIELD_TRUE_OPT3\": () => (/* binding */ COPY_FIELD_TRUE_OPT3),\n/* harmony export */   \"COPY_FIELD_TRUE_OPT4\": () => (/* binding */ COPY_FIELD_TRUE_OPT4),\n/* harmony export */   \"COPY_FIELD_TRUE_OPT5\": () => (/* binding */ COPY_FIELD_TRUE_OPT5),\n/* harmony export */   \"COPY_FIELD_TRUE_OPT6\": () => (/* binding */ COPY_FIELD_TRUE_OPT6),\n/* harmony export */   \"COPY_FIELD_TRUE_OPT7\": () => (/* binding */ COPY_FIELD_TRUE_OPT7),\n/* harmony export */   \"COPY_FIELD_TRUE_OPT8\": () => (/* binding */ COPY_FIELD_TRUE_OPT8),\n/* harmony export */   \"COPY_FIELD_TRUE_OPT9\": () => (/* binding */ COPY_FIELD_TRUE_OPT9),\n/* harmony export */   \"COPY_BOOL\": () => (/* binding */ COPY_BOOL),\n/* harmony export */   \"COPY_AUTOJOIN_HEADER\": () => (/* binding */ COPY_AUTOJOIN_HEADER),\n/* harmony export */   \"COPY_AUTOJOIN_CONNECTING\": () => (/* binding */ COPY_AUTOJOIN_CONNECTING),\n/* harmony export */   \"COPY_AUTOJOIN_FETCHING\": () => (/* binding */ COPY_AUTOJOIN_FETCHING),\n/* harmony export */   \"COPY_AUTOJOIN_PLAYERS\": () => (/* binding */ COPY_AUTOJOIN_PLAYERS),\n/* harmony export */   \"COPY_AUTOJOIN_ENTER_NAME\": () => (/* binding */ COPY_AUTOJOIN_ENTER_NAME),\n/* harmony export */   \"COPY_CHAT_INSTRUCT\": () => (/* binding */ COPY_CHAT_INSTRUCT),\n/* harmony export */   \"COPY_CONNECTING\": () => (/* binding */ COPY_CONNECTING),\n/* harmony export */   \"COPY_PLAYER_JOINED\": () => (/* binding */ COPY_PLAYER_JOINED),\n/* harmony export */   \"COPY_PLAYER_QUIT\": () => (/* binding */ COPY_PLAYER_QUIT),\n/* harmony export */   \"COPY_SNAKE_CRASHED\": () => (/* binding */ COPY_SNAKE_CRASHED),\n/* harmony export */   \"COPY_ROUND_DRAW_TITLE\": () => (/* binding */ COPY_ROUND_DRAW_TITLE),\n/* harmony export */   \"COPY_ROUND_WINNER_TITLE\": () => (/* binding */ COPY_ROUND_WINNER_TITLE),\n/* harmony export */   \"COPY_ROUND_NEW_BODY\": () => (/* binding */ COPY_ROUND_NEW_BODY)\n/* harmony export */ });\n/* harmony import */ var _shared_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/const */ \"./shared/const.ts\");\n/* harmony import */ var _util_clientUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/clientUtil */ \"./client/util/clientUtil.ts\");\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../const */ \"./client/const.ts\");\n\n\n\nconst COPY_AWAITING_PLAYERS_HEADER = \"Msg your friends\";\nconst COPY_AWAITING_PLAYERS_BODY = \"You can fit {0} more player{1} in this room! Share the current page URL with your online friends to allow direct access.\";\nconst COPY_AWAITING_PLAYERS_START_NOW = \"Press S to start now.\";\nconst COPY_CONFIRM_START_HEADER = \"Confirm start\";\nconst COPY_CONFIRM_START_BODY = \"Do you really want to start the game before the room is full?\";\nconst COPY_CONFIRM_EXIT_HEADER = \"Confirm exit\";\nconst COPY_CONFIRM_EXIT_BODY = \"Do you really want to leave this room?\";\nconst COPY_CONFIRM_EXIT_BODY_DRAMATIC = \"Do you REALLY want to leave that other player ALL ALONE in this room?\";\n// Invalid room.\nconst COPY_ERROR = [];\nCOPY_ERROR[_shared_const__WEBPACK_IMPORTED_MODULE_0__.ROOM_INVALID_KEY] = \"Invalid room key\".toUpperCase();\nCOPY_ERROR[_shared_const__WEBPACK_IMPORTED_MODULE_0__.ROOM_NOT_FOUND] = \"Room not found\".toUpperCase();\nCOPY_ERROR[_shared_const__WEBPACK_IMPORTED_MODULE_0__.ROOM_FULL] = \"The room is full!\".toUpperCase();\nCOPY_ERROR[_shared_const__WEBPACK_IMPORTED_MODULE_0__.ROOM_IN_PROGRESS] = \"Game in progress\".toUpperCase();\nCOPY_ERROR[_shared_const__WEBPACK_IMPORTED_MODULE_0__.ROOM_UNKNOWN_ERROR] = \"Unknown errooshiii#^%^\".toUpperCase();\n// Dialog common.\nconst COPY_DIALOG_OK = \"Ok\".toUpperCase();\nconst COPY_DIALOG_CANCEL = \"Cancel\".toUpperCase();\n// Level sets.\nconst COPY_LEVELSET_BASIC = \"Basic\";\nconst COPY_LEVELSET_MOVING = \"Moving\";\nconst COPY_LEVELSET_MAZE = \"Mazes\";\nconst COPY_LEVELSET_GAME = \"Pactris\";\n// Stages misc.\nconst COPY_COMMA_SPACE = \", \";\nconst COPY_SPACE_AND_SPACE = \" & \";\nconst COPY_ELLIPSIS = \" …\";\nconst COPY_JOINER = \" …\\n\";\nconst COPY_DEF = \":  \";\n// Main stage.\nconst COPY_MAIN_INSTRUCT = [\n    \"M to mute/unmute sounds\",\n    ((0,_util_clientUtil__WEBPACK_IMPORTED_MODULE_1__.isMac)() ? \"Cmd+Ctrl+F11\" : \"F11\") + \" to enter/exit fullscreen\",\n    \"Arrow keys, Esc and \" + _const__WEBPACK_IMPORTED_MODULE_2__.UC_ENTER_KEY + \" to navigate\"\n].join(COPY_JOINER);\n// Form stage.\nconst COPY_FORM_INSTRUCT = [\n    _const__WEBPACK_IMPORTED_MODULE_2__.UC_ARR_UP + \" & \" + _const__WEBPACK_IMPORTED_MODULE_2__.UC_ARR_DOWN + \" to select an option\",\n    _const__WEBPACK_IMPORTED_MODULE_2__.UC_ARR_LEFT + \" & \" + _const__WEBPACK_IMPORTED_MODULE_2__.UC_ARR_RIGHT + \" to change the value\",\n    _const__WEBPACK_IMPORTED_MODULE_2__.UC_ENTER_KEY + \" to continue\"\n].join(COPY_JOINER);\n// Pre-game dialog.\nconst COPY_COUNTDOWN_TITLE = \"Get ready!\";\nconst COPY_COUNTDOWN_BODY = \"Game starting in: {0}\";\n// Lost connection.\nconst COPY_SOCKET_CONNECTION_LOST = \"Connection lost\";\nconst COPY_SOCKET_CANNOT_CONNECT = \"Cannot connect\";\nconst COPY_SOCKET_SERVER_AWAY = \"Server went away\";\n// Game options stage.\nconst COPY_FIELD_TRUE = \"Yes\";\nconst COPY_FIELD_FALSE = \"No\";\nconst COPY_FIELD_LEVEL_SET = \"Level Set\";\nconst COPY_OPTIONS_STAGE_HEADER = \"Game Options\";\nconst COPY_FIELD_POWERUPS = \"Power-Ups\";\nconst COPY_FIELD_PRIVATE = \"Private Room\";\nconst COPY_FIELD_XSS = \"Winner fires XSS\";\nconst COPY_FIELD_MAX_PLAYERS = \"Max Players\";\nconst COPY_FIELD_BUGS = \"WEIRD BUGS \" + _const__WEBPACK_IMPORTED_MODULE_2__.UC_BUG;\nconst COPY_FIELD_TRUE_OPT1 = COPY_FIELD_TRUE;\nconst COPY_FIELD_TRUE_OPT2 = \"Enable\";\nconst COPY_FIELD_TRUE_OPT3 = \"OK\";\nconst COPY_FIELD_TRUE_OPT4 = \"True\";\nconst COPY_FIELD_TRUE_OPT5 = \"Accept\";\nconst COPY_FIELD_TRUE_OPT6 = \"Hao\";\nconst COPY_FIELD_TRUE_OPT7 = \"Oui!\";\nconst COPY_FIELD_TRUE_OPT8 = \"Si Senor\";\nconst COPY_FIELD_TRUE_OPT9 = _const__WEBPACK_IMPORTED_MODULE_2__.UC_YES;\nconst COPY_BOOL = [COPY_FIELD_FALSE, COPY_FIELD_TRUE];\n// Join room by key.\nconst COPY_AUTOJOIN_HEADER = \"Auto-Join room\".toUpperCase();\nconst COPY_AUTOJOIN_CONNECTING = \"Connecting to server…\";\nconst COPY_AUTOJOIN_FETCHING = \"Getting room properties…\";\nconst COPY_AUTOJOIN_PLAYERS = \"Players ({0})\";\nconst COPY_AUTOJOIN_ENTER_NAME = \"Enter your name to join: \";\nconst COPY_CHAT_INSTRUCT = \"Press \" + _const__WEBPACK_IMPORTED_MODULE_2__.UC_ENTER_KEY + \" to chat.\";\n// Game stage connecting\nconst COPY_CONNECTING = \"Connecting...\";\n// Chat.\nconst COPY_PLAYER_JOINED = \"{0} joined.\";\nconst COPY_PLAYER_QUIT = \"{0} quit.\";\n// Notify snake crashes.\nconst COPY_SNAKE_CRASHED = \" crashed.\";\n// Round winner.\nconst COPY_ROUND_DRAW_TITLE = \"Round ended in a draw\".toUpperCase();\nconst COPY_ROUND_WINNER_TITLE = \"{0} won!\".toUpperCase();\nconst COPY_ROUND_NEW_BODY = \"New round starting in: {0}\";\n\n\n//# sourceURL=webpack://xssnake/./client/copy/copy.ts?");

/***/ }),

/***/ "./client/index.ts":
/*!*************************!*\
  !*** ./client/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _shared_levels_debug_crosshair__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shared/levels/debug/crosshair */ \"./shared/levels/debug/crosshair.ts\");\n/* harmony import */ var _shared_levels_debug_lines__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/levels/debug/lines */ \"./shared/levels/debug/lines.ts\");\n/* harmony import */ var _shared_levelset_registry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/levelset/registry */ \"./shared/levelset/registry.ts\");\n/* harmony import */ var _shared_levelsets_basic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shared/levelsets/basic */ \"./shared/levelsets/basic.ts\");\n/* harmony import */ var _netcode_eventHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./netcode/eventHandler */ \"./client/netcode/eventHandler.ts\");\n/* harmony import */ var _stage_stageFlow__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./stage/stageFlow */ \"./client/stage/stageFlow.ts\");\n/* harmony import */ var _state_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./state/state */ \"./client/state/state.ts\");\n/* harmony import */ var _ui_audioPlayer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ui/audioPlayer */ \"./client/ui/audioPlayer.ts\");\n/* harmony import */ var _ui_canvas__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ui/canvas */ \"./client/ui/canvas.ts\");\n\n\n\n\n\n\n\n\n\nconst basic = new _shared_levelsets_basic__WEBPACK_IMPORTED_MODULE_3__.Basic();\nbasic.register(_shared_levels_debug_lines__WEBPACK_IMPORTED_MODULE_1__.LinesLevel);\nbasic.register(_shared_levels_debug_crosshair__WEBPACK_IMPORTED_MODULE_0__.CrosshairLevel);\n_state_state__WEBPACK_IMPORTED_MODULE_6__.State.levelsetRegistry = new _shared_levelset_registry__WEBPACK_IMPORTED_MODULE_2__.Registry();\n_state_state__WEBPACK_IMPORTED_MODULE_6__.State.levelsetRegistry.register(basic);\n_state_state__WEBPACK_IMPORTED_MODULE_6__.State.levelsetRegistry.preloadLevels();\n_state_state__WEBPACK_IMPORTED_MODULE_6__.State.shapes = {};\n_state_state__WEBPACK_IMPORTED_MODULE_6__.State.events = new _netcode_eventHandler__WEBPACK_IMPORTED_MODULE_4__.EventHandler();\n_state_state__WEBPACK_IMPORTED_MODULE_6__.State.canvas = new _ui_canvas__WEBPACK_IMPORTED_MODULE_8__.Canvas();\n_state_state__WEBPACK_IMPORTED_MODULE_6__.State.audio = new _ui_audioPlayer__WEBPACK_IMPORTED_MODULE_7__.AudioPlayer();\n_state_state__WEBPACK_IMPORTED_MODULE_6__.State.flow = new _stage_stageFlow__WEBPACK_IMPORTED_MODULE_5__.StageFlow();\nwindow.onerror = (error) => {\n    console.error(error);\n    _state_state__WEBPACK_IMPORTED_MODULE_6__.State.canvas.error = true; // Stop the paint!\n};\n\n\n//# sourceURL=webpack://xssnake/./client/index.ts?");

/***/ }),

/***/ "./client/level/imageDecoder.ts":
/*!**************************************!*\
  !*** ./client/level/imageDecoder.ts ***!
  \**************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (32:10)\\nFile was processed with these loaders:\\n * ./node_modules/ts-loader/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n| void {\\n|     // TODO: uses async\\n>     this: .successFn = successFn\\n| };\\n| \");\n\n//# sourceURL=webpack://xssnake/./client/level/imageDecoder.ts?");

/***/ }),

/***/ "./client/netcode/eventHandler.ts":
/*!****************************************!*\
  !*** ./client/netcode/eventHandler.ts ***!
  \****************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: The keyword 'let' is reserved (12:4)\\nFile was processed with these loaders:\\n * ./node_modules/ts-loader/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n| }\\n| void {\\n>     let, topicKeys, topics = this._topics[topic],\\n|     if(topics) {\\n|         topicKeys = Object.keys(topics);\");\n\n//# sourceURL=webpack://xssnake/./client/netcode/eventHandler.ts?");

/***/ }),

/***/ "./client/stage/stageFlow.ts":
/*!***********************************!*\
  !*** ./client/stage/stageFlow.ts ***!
  \***********************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: The keyword 'let' is reserved (51:4)\\nFile was processed with these loaders:\\n * ./node_modules/ts-loader/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n| }\\n| void {\\n>     let, switchToStage,\\n|     if(Stage) { }\\n| } && !options.back;\");\n\n//# sourceURL=webpack://xssnake/./client/stage/stageFlow.ts?");

/***/ }),

/***/ "./client/state/state.ts":
/*!*******************************!*\
  !*** ./client/state/state.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"State\": () => (/* binding */ State)\n/* harmony export */ });\nclass State {\n}\nState.keysBlocked = false;\n\n\n//# sourceURL=webpack://xssnake/./client/state/state.ts?");

/***/ }),

/***/ "./client/ui/audioPlayer.ts":
/*!**********************************!*\
  !*** ./client/ui/audioPlayer.ts ***!
  \**********************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (21:4)\\nFile was processed with these loaders:\\n * ./node_modules/ts-loader/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n| }\\n| void {\\n>     : .files &&\\n|         this.files[file] &&\\n|         !storage(STORAGE_MUTE) &&\");\n\n//# sourceURL=webpack://xssnake/./client/ui/audioPlayer.ts?");

/***/ }),

/***/ "./client/ui/canvas.ts":
/*!*****************************!*\
  !*** ./client/ui/canvas.ts ***!
  \*****************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (31:10)\\nFile was processed with these loaders:\\n * ./node_modules/ts-loader/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n| }\\n| void {\\n>     this: .tile.setColorScheme(colorScheme),\\n|     this: ._flushShapeCache()\\n| };\");\n\n//# sourceURL=webpack://xssnake/./client/ui/canvas.ts?");

/***/ }),

/***/ "./client/ui/clientShapeGenerator.ts":
/*!*******************************************!*\
  !*** ./client/ui/clientShapeGenerator.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"tooltip\": () => (/* binding */ tooltip),\n/* harmony export */   \"tooltipName\": () => (/* binding */ tooltipName),\n/* harmony export */   \"showAction\": () => (/* binding */ showAction),\n/* harmony export */   \"innerBorder\": () => (/* binding */ innerBorder),\n/* harmony export */   \"outerBorder\": () => (/* binding */ outerBorder),\n/* harmony export */   \"xssnakeHeader\": () => (/* binding */ xssnakeHeader),\n/* harmony export */   \"explosion\": () => (/* binding */ explosion)\n/* harmony export */ });\n/* harmony import */ var _shared_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/const */ \"./shared/const.ts\");\n/* harmony import */ var _shared_pixelCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/pixelCollection */ \"./shared/pixelCollection.ts\");\n/* harmony import */ var _shared_shape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/shape */ \"./shared/shape.ts\");\n/* harmony import */ var _shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/shapeGenerator */ \"./shared/shapeGenerator.ts\");\n/* harmony import */ var _shared_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/util */ \"./shared/util.ts\");\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../const */ \"./client/const.ts\");\n/* harmony import */ var _state_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../state/state */ \"./client/state/state.ts\");\n/* harmony import */ var _font__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./font */ \"./client/ui/font.ts\");\n/* harmony import */ var _shapeClient__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./shapeClient */ \"./client/ui/shapeClient.ts\");\n/* harmony import */ var _transformClient__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./transformClient */ \"./client/ui/transformClient.ts\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @param {string} text\n * @param {number} x\n * @param {number} y\n * @param {number} direction\n * @return {Shape}\n */\nfunction tooltip(text, x, y, direction) {\n    let width;\n    let shape;\n    let hw;\n    width = (0,_font__WEBPACK_IMPORTED_MODULE_7__.fontWidth)(text);\n    switch (direction) {\n        case 0:\n            shape = (0,_font__WEBPACK_IMPORTED_MODULE_7__.font)(text, x - width - 6, y - 4);\n            // Left\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - width - 9, y - 5, x - width - 9, y + 3));\n            // Top\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - width - 8, y - 6, x - 6, y - 6));\n            // Bottoms\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - width - 9, y + 4, x - 5, y + 4));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - width - 8, y + 5, x - 6, y + 5));\n            // Top 1px\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 5, y - 5, x - 5, y - 5));\n            // Pointer\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 5, y - 4, x - 2, y - 1));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 5, y + 2, x - 2, y - 1));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 5, y + 3, x - 2, y));\n            break;\n        case 1:\n            hw = Math.ceil(width / 2);\n            shape = (0,_font__WEBPACK_IMPORTED_MODULE_7__.font)(text, x - hw, y - 13);\n            // Top\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - hw - 2, y - 15, x + hw + 1, y - 15));\n            // Left\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - hw - 3, y - 5, x - hw - 3, y - 14));\n            // Bottoms\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + -hw - 2, y - 4, x + hw + 1, y - 4));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + -hw - 2, y - 5, x + hw + 1, y - 5));\n            // Right\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + hw + 2, y - 5, x + hw + 2, y - 14));\n            // Pointer\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 1, y - 1, x - 4, y - 4));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 1, y - 2, x - 4, y - 5));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x, y - 1, x + 3, y - 4));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x, y - 2, x + 3, y - 5));\n            shape.remove((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 3, y - 4, x + 3, y - 4));\n            shape.remove((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 3, y - 5, x + 3, y - 5));\n            break;\n        case 2:\n            shape = (0,_font__WEBPACK_IMPORTED_MODULE_7__.font)(text, x + 8, y - 4);\n            // Right\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + width + 9, y - 5, x + width + 9, y + 3));\n            // Top\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + width + 8, y - 6, x + 6, y - 6));\n            // Bottom\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + width + 9, y + 4, x + 5, y + 4));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + width + 8, y + 5, x + 6, y + 5));\n            // Top 1px\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + 5, y - 5, x + 5, y - 5));\n            // Pointer\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + 5, y - 4, x + 2, y - 1));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + 5, y + 2, x + 2, y - 1));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + 5, y + 3, x + 2, y));\n            break;\n        case 3:\n            hw = Math.ceil(width / 2);\n            shape = (0,_font__WEBPACK_IMPORTED_MODULE_7__.font)(text, x - hw, y + 6);\n            // Top\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + -hw - 2, y + 4, x + hw + 1, y + 4));\n            // Left\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - hw - 3, y + 5, x - hw - 3, y + 14));\n            // Bottoms\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - hw - 2, y + 14, x + hw + 1, y + 14));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - hw - 2, y + 15, x + hw + 1, y + 15));\n            // Right\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x + hw + 2, y + 5, x + hw + 2, y + 14));\n            // Pointer\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 1, y + 1, x - 4, y + 4));\n            shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x, y + 1, x + 3, y + 4));\n            shape.remove((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x - 3, y + 4, x + 3, y + 4));\n            break;\n    }\n    shape.isOverlay = true;\n    shape.bbox();\n    return shape;\n}\n/**\n * @param {string} text\n * @param {Coordinate} part\n * @param {number} direction\n * @return {Shape}\n */\nfunction tooltipName(text, part, direction) {\n    let x;\n    let y;\n    const t = _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE;\n    const d = _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE * 2.5;\n    x = part[0] * t;\n    y = part[1] * t;\n    switch (direction) {\n        case _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_LEFT:\n            y += t;\n            x -= t;\n            break;\n        case _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_UP:\n            y -= t;\n            x += t;\n            break;\n        case _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_RIGHT:\n            y += t;\n            x += d;\n            break;\n        case _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_DOWN:\n            y += d;\n            x += t;\n            break;\n    }\n    return tooltip(text, x, y, direction);\n}\n/**\n * @param {string} label\n * @param {Coordinate} coordinate\n * @param {number} duration\n * @param {number=} amount\n */\nfunction showAction(label, coordinate, duration, amount = 3) {\n    for (let s = 0; s <= duration * amount; s += duration) {\n        var shape;\n        var name;\n        shape = (0,_font__WEBPACK_IMPORTED_MODULE_7__.font)(label, coordinate[0] * _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE + (0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-12, 12), coordinate[1] * _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE + (0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-12, 12));\n        name = _const__WEBPACK_IMPORTED_MODULE_5__.NS_ACTION + (0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomStr)();\n        _state_state__WEBPACK_IMPORTED_MODULE_6__.State.shapes[name] = (0,_shapeClient__WEBPACK_IMPORTED_MODULE_8__.lifetime)(shape, s, s + duration);\n    }\n}\n/**\n * @return {Shape}\n */\nfunction innerBorder() {\n    const w = _shared_const__WEBPACK_IMPORTED_MODULE_0__.WIDTH - 1;\n    const h = _shared_const__WEBPACK_IMPORTED_MODULE_0__.HEIGHT - 1;\n    return new _shared_shape__WEBPACK_IMPORTED_MODULE_2__.Shape((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(2, h - 25, w - 2, h - 25), (0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(2, h - 26, w - 2, h - 26));\n}\nfunction outerBorder() {\n    const w = _shared_const__WEBPACK_IMPORTED_MODULE_0__.WIDTH - 1;\n    const h = _shared_const__WEBPACK_IMPORTED_MODULE_0__.HEIGHT - 1;\n    return {\n        outerBorderTop: new _shared_shape__WEBPACK_IMPORTED_MODULE_2__.Shape((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(1, 0, w - 1, 0), (0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(0, 1, w, 1)),\n        outerBorderRight: new _shared_shape__WEBPACK_IMPORTED_MODULE_2__.Shape((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(w, 2, w, h - 2), (0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(w - 1, 2, w - 1, h - 2)),\n        outerBorderBottom: new _shared_shape__WEBPACK_IMPORTED_MODULE_2__.Shape((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(1, h, w - 1, h), (0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(0, h - 1, w, h - 1)),\n        outerBorderLeft: new _shared_shape__WEBPACK_IMPORTED_MODULE_2__.Shape((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(0, 2, 0, h - 2), (0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(1, 2, 1, h - 2)),\n    };\n}\n/**\n * @return {Shape}\n */\nfunction xssnakeHeader() {\n    let x;\n    let y;\n    let shape;\n    const welcome = (0,_font__WEBPACK_IMPORTED_MODULE_7__.font)(\"<XSSNAKE>\").pixels;\n    x = _const__WEBPACK_IMPORTED_MODULE_5__.MENU_LEFT - 2;\n    y = _const__WEBPACK_IMPORTED_MODULE_5__.MENU_TOP - 34;\n    shape = new _shared_shape__WEBPACK_IMPORTED_MODULE_2__.Shape((0,_transformClient__WEBPACK_IMPORTED_MODULE_9__.zoom)(4, welcome, x, y));\n    x += 2;\n    y += 28;\n    shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_3__.line)(x, y, x + _const__WEBPACK_IMPORTED_MODULE_5__.MENU_WIDTH, y));\n    return shape;\n}\n/**\n * @param {Coordinate} location\n * @param {number=} direction\n * @param {number=} intensity\n */\nfunction explosion(location, direction, intensity = 16) {\n    let pixel;\n    let shape;\n    let to;\n    let duration;\n    let w;\n    let d;\n    w = 10;\n    d = 20;\n    while (intensity--) {\n        switch (direction) {\n            case _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_LEFT:\n                to = [(0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-w, d), (0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-w, w)];\n                break;\n            case _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_UP:\n                to = [(0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-w, w), (0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-d, w)];\n                break;\n            case _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_RIGHT:\n                to = [(0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-d, w), (0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-w, w)];\n                break;\n            case _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_DOWN:\n                to = [(0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-w, w), (0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-w, d)];\n                break;\n            default:\n                to = [(0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-d, d), (0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(-d, d)];\n        }\n        pixel = new _shared_pixelCollection__WEBPACK_IMPORTED_MODULE_1__.PixelCollection().add(location[0], location[1]);\n        duration = Math.pow((0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomRange)(1, 10), 3);\n        shape = new _shared_shape__WEBPACK_IMPORTED_MODULE_2__.Shape(pixel);\n        (0,_shapeClient__WEBPACK_IMPORTED_MODULE_8__.animate)(shape, { to: to, duration: duration });\n        (0,_shapeClient__WEBPACK_IMPORTED_MODULE_8__.lifetime)(shape, 0, duration);\n        _state_state__WEBPACK_IMPORTED_MODULE_6__.State.shapes[_const__WEBPACK_IMPORTED_MODULE_5__.NS_EXPLOSION + (0,_shared_util__WEBPACK_IMPORTED_MODULE_4__.randomStr)(3)] = shape;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./client/ui/clientShapeGenerator.ts?");

/***/ }),

/***/ "./client/ui/dialog.ts":
/*!*****************************!*\
  !*** ./client/ui/dialog.ts ***!
  \*****************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (73:11)\\nFile was processed with these loaders:\\n * ./node_modules/ts-loader/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n| };\\n| void {\\n>     State, : .audio.play(\\\"menu_alt\\\"),\\n|     this: ._body = body,\\n|     this: ._updateShape()\");\n\n//# sourceURL=webpack://xssnake/./client/ui/dialog.ts?");

/***/ }),

/***/ "./client/ui/font.ts":
/*!***************************!*\
  !*** ./client/ui/font.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MAX_WIDTH\": () => (/* binding */ MAX_WIDTH),\n/* harmony export */   \"MAX_HEIGHT\": () => (/* binding */ MAX_HEIGHT),\n/* harmony export */   \"BASELINE\": () => (/* binding */ BASELINE),\n/* harmony export */   \"LINE_HEIGHT\": () => (/* binding */ LINE_HEIGHT),\n/* harmony export */   \"LINE_HEIGHT_MENU\": () => (/* binding */ LINE_HEIGHT_MENU),\n/* harmony export */   \"BLURRY_TRESHOLD\": () => (/* binding */ BLURRY_TRESHOLD),\n/* harmony export */   \"font\": () => (/* binding */ font),\n/* harmony export */   \"fontPixels\": () => (/* binding */ fontPixels),\n/* harmony export */   \"fontHeight\": () => (/* binding */ fontHeight),\n/* harmony export */   \"fontWidth\": () => (/* binding */ fontWidth),\n/* harmony export */   \"fastWidth\": () => (/* binding */ fastWidth),\n/* harmony export */   \"fontEndPos\": () => (/* binding */ fontEndPos),\n/* harmony export */   \"getMaxes\": () => (/* binding */ getMaxes),\n/* harmony export */   \"getKerning\": () => (/* binding */ getKerning)\n/* harmony export */ });\n/* harmony import */ var _shared_pixelCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/pixelCollection */ \"./shared/pixelCollection.ts\");\n/* harmony import */ var _shared_shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/shape */ \"./shared/shape.ts\");\n/* harmony import */ var _shared_transform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/transform */ \"./shared/transform.ts\");\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../const */ \"./client/const.ts\");\n\n\n\n\nconst MAX_WIDTH = 9;\nconst MAX_HEIGHT = 7;\nconst BASELINE = 6;\nconst LINE_HEIGHT = 8;\nconst LINE_HEIGHT_MENU = 9;\nconst BLURRY_TRESHOLD = 3;\nconst _cache = {};\nconst _ctx = _getContext();\nfunction font(str, x = 0, y = 0, options = {}) {\n    let tabx1;\n    const shape = new _shared_shape__WEBPACK_IMPORTED_MODULE_1__.Shape();\n    const pointer = { x: 0, y: 0 };\n    const chrs = str.split(\"\");\n    for (let i = 0, m = chrs.length; i < m; i++) {\n        let nextWordFit = true;\n        const chr = chrs[i];\n        const width = _appendChr(x, y, shape, chrs[i], pointer);\n        if (options.wrap && chr.match(/[\\s-]/)) {\n            nextWordFit = _nextWordFit(str, i, pointer, options.wrap);\n        }\n        if (chr === \"\\t\") {\n            if (tabx1) {\n                pointer.x = tabx1;\n            }\n            else {\n                pointer.x = tabx1 = _getTabx1(str);\n            }\n        }\n        else if (chr === \"\\n\" || !nextWordFit) {\n            pointer.x = 0;\n            pointer.y += LINE_HEIGHT;\n        }\n        else {\n            pointer.x += width + 2;\n        }\n    }\n    if (options.invert) {\n        _invert(shape, y);\n    }\n    return shape;\n}\nfunction fontPixels(str, x = 0, y = 0, options = {}) {\n    return font(str, x, y, options).pixels;\n}\n/**\n * @param {string} str\n * @param {number=} x\n * @param {number=} y\n * @param {Object=} options\n * @return {number}\n */\nfunction fontHeight(str, x = 0, y = 0, options = {}) {\n    let remainder;\n    let height;\n    const LH = LINE_HEIGHT;\n    height = font(str, x, y, options).pixels.pixels.length + 1;\n    // Don't allow absence of font descenders affect height.\n    remainder = LH - ((height - (y || 0)) % LH || LH);\n    return height + remainder;\n}\n/**\n * @param {string} str\n * @param {number=} x\n * @param {number=} y\n * @param {Object=} options\n * @return {number}\n */\nfunction fontWidth(str, x = 0, y = 0, options = {}) {\n    let pixels;\n    let width;\n    const maxes = [0];\n    pixels = font(str, x, y, options).pixels;\n    for (let i = pixels.pixels.length - LINE_HEIGHT + 1, m = pixels.pixels.length; i < m; i++) {\n        if (pixels.pixels[i]) {\n            maxes.push(Math.max.apply(this, pixels.pixels[i]));\n        }\n    }\n    width = Math.max.apply(this, maxes) + 2;\n    // Ends with a space. Ending with multiple spaces not supported.\n    if (\" \" === str.slice(-1)) {\n        width += 3;\n    }\n    return width;\n}\n/**\n * Ignores kerning.\n * @param {string} str\n * @return {number}\n */\nfunction fastWidth(str) {\n    let chrs;\n    let width = 0;\n    chrs = str.split(\"\\n\");\n    chrs = chrs[chrs.length - 1].split(\"\");\n    for (let i = 0, m = chrs.length; i < m; i++) {\n        width += _chrProperties(chrs[i]).width;\n        width += 2;\n    }\n    return width;\n}\n/**\n * @param {string} str\n * @param {number=} x\n * @param {number=} y\n * @param {Object=} options\n * @return {Array}\n */\nfunction fontEndPos(str, x, y, options) {\n    return [\n        fontWidth(str, x, y, options),\n        fontHeight(str, x, y, options) - LINE_HEIGHT\n    ];\n}\n/**\n * @param chr\n * @return {Object}\n * @private\n */\nfunction _chrProperties(chr) {\n    if (!_cache[chr]) {\n        const chrProperties = _getChrProperties(chr);\n        _cache[chr] = chrProperties || _chrProperties(_const__WEBPACK_IMPORTED_MODULE_3__.UC_SQUARE);\n    }\n    return _cache[chr];\n}\n/**\n * @param {number} x\n * @param {number} y\n * @param {Shape} shape\n * @param {string} chr\n * @param {Object.<string,number>} pointer\n * @return {number}\n * @private\n */\nfunction _appendChr(x, y, shape, chr, pointer) {\n    let chrProperties;\n    let shiftedPixels;\n    let kerning = 0;\n    chrProperties = _chrProperties(chr);\n    if (pointer.x) {\n        kerning = getKerning(x, y, shape, pointer, chrProperties);\n    }\n    shiftedPixels = (0,_shared_transform__WEBPACK_IMPORTED_MODULE_2__.shift)(chrProperties.pixels, pointer.x + x + kerning, pointer.y + y);\n    shape.add(shiftedPixels);\n    return chrProperties.width + kerning;\n}\nfunction getMaxes(x, y, shape, pointer) {\n    const maxes = [];\n    for (let i = 0; i < LINE_HEIGHT; i++) {\n        if (shape.pixels.pixels[y + pointer.y + i]) {\n            maxes[i] = Math.max.apply(this, shape.pixels.pixels[y + pointer.y + i]) - x;\n        }\n    }\n    return maxes;\n}\nfunction getKerning(x, y, shape, pointer, chrProperties) {\n    let gap;\n    const gaps = [];\n    const maxes = getMaxes(x, y, shape, pointer);\n    for (let i = 0; i < LINE_HEIGHT; i++) {\n        let min = null;\n        var max;\n        if (chrProperties.pixels.pixels[i]) {\n            min = Math.min.apply(this, chrProperties.pixels.pixels[i]);\n        }\n        max = Math.max(maxes[i - 1] || 0, maxes[i] || 0, maxes[i + 1] || 0);\n        if (min !== null) {\n            gaps.push((pointer.x - max) + min);\n        }\n    }\n    gap = Math.min.apply(this, gaps);\n    return Math.max(-1, 2 - gap);\n}\n/**\n * Determine whether the next word will fit on the same line or not.\n * @param {string} str\n * @param {number} i\n * @param {Object.<string,number>} pointer\n * @param {number} wrap\n * @return {boolean}\n * @private\n */\nfunction _nextWordFit(str, i, pointer, wrap) {\n    const nextWord = str.substr(i + 1).split(/[\\s\\-]/)[0];\n    return (pointer.x + fastWidth(nextWord) <= wrap);\n}\n/**\n * Determine X position for tab end to align a two-column table.\n * Note to future self: Does not work for more than one tab per line.\n * @param {string} str\n * @return {number}\n * @private\n */\nfunction _getTabx1(str) {\n    let maxtab = 0;\n    const lines = str.split(/\\n/g);\n    for (let i = 0, m = lines.length; i < m; i++) {\n        const segments = lines[i].split(\"\\t\");\n        if (segments.length >= 2) {\n            maxtab = Math.max(maxtab, fontWidth(\"  \" + segments[0]));\n        }\n    }\n    return maxtab;\n}\n/**\n * @param {Shape} shape\n * @param {number} y\n * @private\n */\nfunction _invert(shape, y) {\n    const bbox = shape.bbox();\n    bbox.expand(1);\n    bbox.y0 = y - 1;\n    bbox.y1 = y + LINE_HEIGHT;\n    shape.invert(bbox);\n}\n/**\n * @return {CanvasRenderingContext2D}\n * @private\n */\nfunction _getContext() {\n    let canvas;\n    let context;\n    let font;\n    canvas = document.createElement(\"canvas\");\n    canvas.width = MAX_WIDTH;\n    canvas.height = MAX_HEIGHT;\n    context = canvas.getContext(\"2d\");\n    // \"xssnake\" is a special font that was crafted for this game.\n    font = \"8px xssnake\";\n    // Specify blurry fonts in the fallback, to make it easier to detect\n    // glyphs that are (un)supported by the xssnake font.\n    font += \", courier new, serif\";\n    context.font = font;\n    return context;\n}\n/**\n * @param {string} chr\n * @return {{width: number, pixels: PixelCollection}|null}\n * @private\n */\nfunction _getChrProperties(chr) {\n    let data;\n    const pixels = new _shared_pixelCollection__WEBPACK_IMPORTED_MODULE_0__.PixelCollection();\n    let width = 0;\n    let len = 0;\n    let blurry = 0;\n    let valid;\n    const w = MAX_WIDTH;\n    const h = MAX_HEIGHT;\n    // Handle whitespace characters\n    if (chr.match(/\\s/)) {\n        return { width: 3, pixels: pixels };\n    }\n    _ctx.fillStyle = \"#000\";\n    _ctx.fillRect(0, 0, w, h);\n    _ctx.fillStyle = \"#fff\";\n    _ctx.fillText(chr, 0, BASELINE);\n    data = _ctx.getImageData(0, 0, w, h).data;\n    for (let i = 0, m = data.length; i < m; i += 4) {\n        // When this does not work on some OS, try a few presets until\n        // it matches a known pattern.\n        if (data[i] + data[i + 1] + data[i + 2] > 650) {\n            const seq = i / 4;\n            const x = seq % w;\n            const y = Math.floor(seq / w);\n            pixels.add(x, y);\n            len++;\n            width = Math.max(x, width);\n        }\n        else if (data[i]) {\n            blurry++;\n        }\n    }\n    valid = len && blurry / len <= BLURRY_TRESHOLD;\n    return (valid) ? { width: width, pixels: pixels } : null;\n}\n\n\n//# sourceURL=webpack://xssnake/./client/ui/font.ts?");

/***/ }),

/***/ "./client/ui/shapeClient.ts":
/*!**********************************!*\
  !*** ./client/ui/shapeClient.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"center\": () => (/* binding */ center),\n/* harmony export */   \"setGameTransform\": () => (/* binding */ setGameTransform),\n/* harmony export */   \"flash\": () => (/* binding */ flash),\n/* harmony export */   \"lifetime\": () => (/* binding */ lifetime),\n/* harmony export */   \"animate\": () => (/* binding */ animate),\n/* harmony export */   \"applyEffects\": () => (/* binding */ applyEffects)\n/* harmony export */ });\n/* harmony import */ var _shared_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/const */ \"./shared/const.ts\");\n/* harmony import */ var _shared_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/util */ \"./shared/util.ts\");\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../const */ \"./client/const.ts\");\n/* harmony import */ var _state_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../state/state */ \"./client/state/state.ts\");\n/**\n * @param {number=} width\n * @param {number=} height\n * @return {Shape}\n */\n\n\n\n\nfunction center(shape, width = _shared_const__WEBPACK_IMPORTED_MODULE_0__.WIDTH, height = _shared_const__WEBPACK_IMPORTED_MODULE_0__.HEIGHT) {\n    let x;\n    let y;\n    const bbox = shape.bbox();\n    x = Math.round((width - bbox.width) / 2);\n    y = Math.round((height - bbox.height) / 2);\n    shape.transform.translate = [x - bbox.x0, y - bbox.y0];\n}\nfunction setGameTransform(shape) {\n    shape.transform.scale = _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE;\n    shape.transform.translate[0] = shape.transform.translate[0] * _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE + _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE / _const__WEBPACK_IMPORTED_MODULE_2__.GAME_LEFT;\n    shape.transform.translate[1] = shape.transform.translate[1] * _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE + _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE / _const__WEBPACK_IMPORTED_MODULE_2__.GAME_TOP;\n}\nfunction flash(shape, on = _const__WEBPACK_IMPORTED_MODULE_2__.FRAME * 24, off = _const__WEBPACK_IMPORTED_MODULE_2__.FRAME * 6) {\n    let progress = 0;\n    const duration = [on, off];\n    shape.effects.flash = (delta) => {\n        progress += delta;\n        if (progress > duration[+!shape.enabled]) {\n            progress -= duration[+!shape.enabled];\n            shape.enabled = !shape.enabled;\n        }\n    };\n    return shape;\n}\nfunction lifetime(shape, start, end) {\n    let progress = 0;\n    let started = false;\n    shape.effects.lifetime = (delta) => {\n        // Start time reached.\n        if (start && progress >= start && !started) {\n            started = true;\n            shape.enabled = true;\n        }\n        // Stop time reached.\n        if (end && progress >= end) {\n            const key = (0,_shared_util__WEBPACK_IMPORTED_MODULE_1__.getKey)(_state_state__WEBPACK_IMPORTED_MODULE_3__.State.shapes, shape);\n            if (key) {\n                _state_state__WEBPACK_IMPORTED_MODULE_3__.State.shapes[key] = null;\n            }\n        }\n        progress += delta;\n    };\n    return shape;\n}\nfunction animate(shape, options) {\n    let progress = 0;\n    options = Object.assign({ from: [0, 0], to: [0, 0], duration: 200, doneCallback: (shape) => { }, progressCallback: (shape, x, y) => { } }, options);\n    shape.effects.animate = (delta) => {\n        progress += delta;\n        const percent = Math.sqrt(progress / options.duration);\n        if (progress < options.duration) {\n            const x = Math.round(options.from[0] - ((options.from[0] - options.to[0]) * percent));\n            const y = Math.round(options.from[1] - ((options.from[1] - options.to[1]) * percent));\n            shape.transform.translate = [x, y];\n            options.progressCallback(shape, x, y);\n        }\n        else {\n            shape.transform.translate = options.to;\n            delete shape.effects.animate;\n            options.doneCallback(shape);\n        }\n    };\n    return shape;\n}\nfunction applyEffects(shape, delta) {\n    for (const k in shape.effects) {\n        shape.effects[k](delta);\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./client/ui/shapeClient.ts?");

/***/ }),

/***/ "./client/ui/transformClient.ts":
/*!**************************************!*\
  !*** ./client/ui/transformClient.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"outline\": () => (/* binding */ outline),\n/* harmony export */   \"zoomIn\": () => (/* binding */ zoomIn),\n/* harmony export */   \"zoom\": () => (/* binding */ zoom)\n/* harmony export */ });\n/* harmony import */ var _shared_pixelCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/pixelCollection */ \"./shared/pixelCollection.ts\");\n/* harmony import */ var _shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/shapeGenerator */ \"./shared/shapeGenerator.ts\");\n/**\n * @param {Shape} shape\n * @param {number=} hPadding\n * @param {number=} vPadding\n * @param {boolean=} round\n * @return {Shape}\n */\n\n\nfunction outline(shape, hPadding = 6, vPadding = 6, round = true) {\n    let r;\n    let x0;\n    let x1;\n    let y0;\n    let y1;\n    let bbox = shape.bbox();\n    r = round ? 1 : 0;\n    hPadding = typeof hPadding === \"number\" ? hPadding : 6;\n    vPadding = typeof vPadding === \"number\" ? vPadding : 6;\n    // Keep in viewport\n    if (bbox.y0 - vPadding < 0) {\n        shape.set(shape.shift(shape.pixels, 0, vPadding - bbox.y0));\n        bbox = shape.bbox();\n    }\n    x0 = bbox.x0 - hPadding;\n    x1 = bbox.x1 + hPadding;\n    y0 = bbox.y0 - vPadding;\n    y1 = bbox.y1 + vPadding;\n    shape.add((0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_1__.line)(x0, y0 + 1, x0, y1), // Left\n    (0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_1__.line)(x0 + r, y0, x1 - r, y0), // Top\n    (0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_1__.line)(x1, y0 + 1, x1, y1), // Right\n    (0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_1__.line)(x0, y1, x1, y1), // Bottom\n    (0,_shared_shapeGenerator__WEBPACK_IMPORTED_MODULE_1__.line)(x0 + r, y1 + 1, x1 - r, y1 + 1) // Bottom 2\n    );\n    // Don't clear the missing pixel in the corners\n    // because of rounded corners:\n    shape.bbox(-1);\n    return shape;\n}\n/**\n * @param {PixelCollection} pixels\n * @param {number=} xshift\n * @param {number=} yshift\n * @return {PixelCollection}\n */\nfunction zoomIn(pixels, xshift = 0, yshift = 0) {\n    const ret = new _shared_pixelCollection__WEBPACK_IMPORTED_MODULE_0__.PixelCollection();\n    pixels.each(function (x, y) {\n        const xx = x * 2 + xshift;\n        const yy = y * 2 + yshift;\n        ret.add(xx, yy);\n        ret.add(xx, yy + 1);\n        ret.add(xx + 1, yy);\n        ret.add(xx + 1, yy + 1);\n    });\n    return ret;\n}\n/**\n * @param {number} zoomlevel (2 or 4)\n * @param {PixelCollection} pixels\n * @param {number=} shiftX\n * @param {number=} shiftY\n * @param {boolean=} antiAlising\n * @return {PixelCollection}\n */\nfunction zoom(zoomlevel, pixels, shiftX = 0, shiftY = 0, antiAlising = true) {\n    let zoomedPixels;\n    shiftX = shiftX || 0;\n    shiftY = shiftY || 0;\n    if (2 === zoomlevel) {\n        zoomedPixels = zoomIn(pixels, shiftX, shiftY);\n    }\n    else if (4 === zoomlevel) {\n        zoomedPixels = zoomIn(pixels);\n        zoomedPixels = zoomIn(zoomedPixels, shiftX, shiftY);\n    }\n    else {\n        return pixels; // Unsupported zoom level.\n    }\n    if (antiAlising !== false) {\n        pixels.each(function (x, y) {\n            for (let dirX = -1; dirX <= 1; dirX += 2) {\n                for (let dirY = -1; dirY <= 1; dirY += 2) {\n                    handlePixel(x, y, dirX, dirY);\n                }\n            }\n        });\n    }\n    function add(dirX, dirY, x, y) {\n        let baseY;\n        let baseX;\n        baseX = x * zoomlevel + shiftX;\n        baseY = y * zoomlevel + shiftY;\n        if (2 === zoomlevel) {\n            x = baseX + (dirX === -1 ? 0 : 1);\n            y = baseY + (dirY === -1 ? 0 : 1);\n            zoomedPixels.add(x, y);\n        }\n        if (4 === zoomlevel) {\n            // Anti-aliasing in all directions.\n            for (let dirX2 = -1; dirX2 <= 1; dirX2 += 2) {\n                for (let dirY2 = -1; dirY2 <= 1; dirY2 += 2) {\n                    if (dirX === dirX2 && dirY === dirY2) {\n                        addX4s(baseX, dirX2, baseY, dirY2);\n                    }\n                }\n            }\n        }\n    }\n    // XX#\n    //  XX\n    //   X\n    function addX4s(baseX, dirX2, baseY, dirY2) {\n        let compX;\n        let compY;\n        compX = baseX + (dirX2 === -1 ? 0 : 3);\n        compY = baseY + (dirY2 === -1 ? 0 : 3);\n        zoomedPixels.add(compX, compY);\n        zoomedPixels.add(compX - 1 * dirX2, compY);\n        zoomedPixels.add(compX - 2 * dirX2, compY);\n        zoomedPixels.add(compX - 1 * dirX2, compY - dirY2);\n        zoomedPixels.add(compX, compY - dirY2);\n        zoomedPixels.add(compX, compY - 2 * dirY2);\n    }\n    function handlePixel(x, y, dirX, dirY) {\n        // !X\n        // #!\n        if (!pixels.has(x, y - dirY) &&\n            !pixels.has(x + dirX, y) &&\n            pixels.has(x + dirX, y - dirY)) {\n            add(dirX, dirY, x, y - dirY);\n        }\n        // !X\n        // #X\n        if (!pixels.has(x - dirX, y - dirY - dirY) &&\n            !pixels.has(x - dirX, y - dirY) &&\n            !pixels.has(x, y - dirY - dirY) &&\n            !pixels.has(x, y - dirY) &&\n            pixels.has(x + dirX, y) &&\n            pixels.has(x + dirX, y - dirY) && (\n        // !XX\n        // #X\n        // Fixes: 0\n        pixels.has(x + dirX + dirX, y - dirY) ||\n            //  !X\n            // !X!\n            // #X\n            // Fixes: z, Z, 2\n            (pixels.has(x + dirX + dirX, y - dirY - dirY) &&\n                !pixels.has(x + dirX, y - dirY - dirY) &&\n                !pixels.has(x + dirX + dirX, y - dirY)) ||\n            //  !X!\n            //  #X!\n            //   X!\n            //   XO\n            //    O\n            // Fixes: 1, 4, M, N\n            (pixels.has(x + dirX, y + dirY) &&\n                pixels.has(x + dirX, y + dirY + dirY) &&\n                !pixels.has(x - dirX, y) &&\n                !pixels.has(x + dirX + dirX, y - dirY) &&\n                !pixels.has(x + dirX + dirX, y) &&\n                !pixels.has(x + dirX + dirX, y + dirY) && (!pixels.has(x - dirX, y + dirY + dirY) || // Exclude b, d, p\n                pixels.has(x + dirX + dirX, y + dirY + dirY + dirY) || // 1\n                pixels.has(x + dirX + dirX, y + dirY + dirY) // 4\n            )))) {\n            add(dirX, dirY, x, y - dirY);\n        }\n    }\n    return zoomedPixels;\n}\n\n\n//# sourceURL=webpack://xssnake/./client/ui/transformClient.ts?");

/***/ }),

/***/ "./client/util/clientUtil.ts":
/*!***********************************!*\
  !*** ./client/util/clientUtil.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"instruct\": () => (/* binding */ instruct),\n/* harmony export */   \"error\": () => (/* binding */ error),\n/* harmony export */   \"storage\": () => (/* binding */ storage),\n/* harmony export */   \"isMac\": () => (/* binding */ isMac),\n/* harmony export */   \"urlHash\": () => (/* binding */ urlHash),\n/* harmony export */   \"format\": () => (/* binding */ format),\n/* harmony export */   \"translateGame\": () => (/* binding */ translateGame),\n/* harmony export */   \"translateGameX\": () => (/* binding */ translateGameX),\n/* harmony export */   \"translateGameY\": () => (/* binding */ translateGameY),\n/* harmony export */   \"debounce\": () => (/* binding */ debounce)\n/* harmony export */ });\n/* harmony import */ var _shared_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/const */ \"./shared/const.ts\");\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const */ \"./client/const.ts\");\n/* harmony import */ var _state_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../state/state */ \"./client/state/state.ts\");\n/* harmony import */ var _ui_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/dialog */ \"./client/ui/dialog.ts\");\n/* harmony import */ var _ui_font__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/font */ \"./client/ui/font.ts\");\n/* harmony import */ var _ui_shapeClient__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/shapeClient */ \"./client/ui/shapeClient.ts\");\n\n\n\n\n\n\n/**\n * @param {string} str\n * @param {number=} duration\n * @param {boolean=} flashInstruct\n */\nfunction instruct(str, duration = 2000, flashInstruct = false) {\n    const x = _shared_const__WEBPACK_IMPORTED_MODULE_0__.WIDTH - (0,_ui_font__WEBPACK_IMPORTED_MODULE_4__.fontWidth)(str) - 2;\n    const y = _shared_const__WEBPACK_IMPORTED_MODULE_0__.HEIGHT - (0,_ui_font__WEBPACK_IMPORTED_MODULE_4__.fontHeight)(str) - 2;\n    const shape = (0,_ui_font__WEBPACK_IMPORTED_MODULE_4__.font)(str, x, y, { invert: true });\n    shape.isOverlay = true;\n    (0,_ui_shapeClient__WEBPACK_IMPORTED_MODULE_5__.lifetime)(shape, 0, duration);\n    if (flashInstruct) {\n        (0,_ui_shapeClient__WEBPACK_IMPORTED_MODULE_5__.flash)(shape);\n    }\n    _state_state__WEBPACK_IMPORTED_MODULE_2__.State.shapes.INSTRUCTION = shape;\n}\n/**\n * @param {string} str\n * @param {Function=} callback\n */\nfunction error(str, callback) {\n    urlHash();\n    const exit = function () {\n        dialog.destruct();\n        if (callback) {\n            callback();\n        }\n        _state_state__WEBPACK_IMPORTED_MODULE_2__.State.flow.restart();\n    };\n    const body = \"Press \" + _const__WEBPACK_IMPORTED_MODULE_1__.UC_ENTER_KEY + \" to continue\";\n    const dialog = new _ui_dialog__WEBPACK_IMPORTED_MODULE_3__.Dialog(str, body, {\n        type: _ui_dialog__WEBPACK_IMPORTED_MODULE_3__.Dialog.TYPE.ALERT,\n        ok: exit\n    });\n}\nfunction storage(key, value) {\n    if (arguments.length === 1) {\n        try {\n            return JSON.parse(localStorage.getItem(key));\n        }\n        catch (err) {\n            localStorage.removeItem(key);\n        }\n        return \"\";\n    }\n    else if (arguments.length === 2) {\n        if (value === null) {\n            localStorage.removeItem(key);\n            return \"\";\n        }\n        else {\n            return localStorage.setItem(key, JSON.stringify(value));\n        }\n    }\n}\nfunction isMac() {\n    return /Macintosh/.test(navigator.appVersion);\n}\nfunction urlHash(key = \"\", value = \"\") {\n    let newhash = \"\";\n    const dict = {};\n    const hash = location.hash.substr(1);\n    const arr = hash.split(/[:;]/g);\n    // Populate dict\n    for (let i = 0, m = arr.length; i < m; i += 2) {\n        dict[arr[i]] = arr[i + 1];\n    }\n    switch (arguments.length) {\n        case 0: // Empty\n            if (location.hash) {\n                history.replaceState(null, \"\", location.pathname + location.search);\n            }\n            return;\n        case 1: // Return value\n            return dict[key] || \"\";\n        case 2: // Set value\n            dict[key] = value;\n            for (const k in dict) {\n                if (k && dict[k]) {\n                    newhash += k + \":\" + dict[k] + \";\";\n                }\n            }\n            location.replace(\"#\" + newhash.replace(/;$/, \"\"));\n            return value;\n    }\n}\nfunction format(str, ...data) {\n    // @ts-ignore\n    return str.replace(/{(\\d+)}/g, (match, number) => {\n        return data[number];\n    });\n}\nfunction translateGame(coordinate) {\n    coordinate[0] = translateGameX(coordinate[0]);\n    coordinate[1] = translateGameY(coordinate[1]);\n    return coordinate;\n}\nfunction translateGameX(x) {\n    return (x * _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE) + _const__WEBPACK_IMPORTED_MODULE_1__.GAME_LEFT;\n}\nfunction translateGameY(y) {\n    return (y * _shared_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TILE) + _const__WEBPACK_IMPORTED_MODULE_1__.GAME_TOP;\n}\n/**\n * @param {Function} fn\n * @param {number=} delay\n * @return {Function}\n */\nfunction debounce(fn, delay = 100) {\n    let timeout;\n    return function (...args) {\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            timeout = null;\n            // TODO: Promise.\n            fn(...args);\n        }, 100);\n    };\n}\n\n\n//# sourceURL=webpack://xssnake/./client/util/clientUtil.ts?");

/***/ }),

/***/ "./shared/boundingBox.ts":
/*!*******************************!*\
  !*** ./shared/boundingBox.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BoundingBox\": () => (/* binding */ BoundingBox)\n/* harmony export */ });\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const */ \"./shared/const.ts\");\n\n/**\n * @param {PixelCollection=} pixels\n * @constructor\n */\nclass BoundingBox {\n    constructor(pixels) {\n        this.x0 = 0;\n        this.x1 = 0;\n        this.y0 = 0;\n        this.y1 = 0;\n        this.width = 0;\n        this.height = 0;\n        if (pixels) {\n            this.calculate(pixels);\n        }\n    }\n    /**\n     * @param {number} expand\n     * @return {BoundingBox}\n     */\n    expand(expand) {\n        this.x0 -= expand;\n        this.y0 -= expand;\n        this.x1 += expand;\n        this.y1 += expand;\n        this.setDimensions();\n        return this;\n    }\n    /**\n     * @param {PixelCollection} pixels\n     * @return {BoundingBox}\n     * @private\n     */\n    calculate(pixels) {\n        let x0 = _const__WEBPACK_IMPORTED_MODULE_0__.WIDTH;\n        let x1 = 0;\n        let y0 = _const__WEBPACK_IMPORTED_MODULE_0__.HEIGHT;\n        let y1 = 0;\n        pixels.each(function (x, y) {\n            if (x0 > x) {\n                x0 = x;\n            }\n            if (x1 < x) {\n                x1 = x;\n            }\n            if (y0 > y) {\n                y0 = y;\n            }\n            if (y1 < y) {\n                y1 = y;\n            }\n        });\n        this.x0 = x0;\n        this.x1 = x1;\n        this.y0 = y0;\n        this.y1 = y1;\n        this.setDimensions();\n        return this;\n    }\n    setDimensions() {\n        this.width = this.x1 - this.x0;\n        this.height = this.y1 - this.y0;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/boundingBox.ts?");

/***/ }),

/***/ "./shared/const.ts":
/*!*************************!*\
  !*** ./shared/const.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WIDTH\": () => (/* binding */ WIDTH),\n/* harmony export */   \"HEIGHT\": () => (/* binding */ HEIGHT),\n/* harmony export */   \"GAME_TILE\": () => (/* binding */ GAME_TILE),\n/* harmony export */   \"NC_CHAT_NOTICE\": () => (/* binding */ NC_CHAT_NOTICE),\n/* harmony export */   \"NC_CHAT_MESSAGE\": () => (/* binding */ NC_CHAT_MESSAGE),\n/* harmony export */   \"NC_GAME_DESPAWN\": () => (/* binding */ NC_GAME_DESPAWN),\n/* harmony export */   \"NC_GAME_STATE\": () => (/* binding */ NC_GAME_STATE),\n/* harmony export */   \"NC_GAME_SPAWN\": () => (/* binding */ NC_GAME_SPAWN),\n/* harmony export */   \"NC_PING\": () => (/* binding */ NC_PING),\n/* harmony export */   \"NC_PONG\": () => (/* binding */ NC_PONG),\n/* harmony export */   \"NC_PLAYER_NAME\": () => (/* binding */ NC_PLAYER_NAME),\n/* harmony export */   \"NC_PLAYERS_SERIALIZE\": () => (/* binding */ NC_PLAYERS_SERIALIZE),\n/* harmony export */   \"NC_ROOM_JOIN_KEY\": () => (/* binding */ NC_ROOM_JOIN_KEY),\n/* harmony export */   \"NC_ROOM_JOIN_MATCHING\": () => (/* binding */ NC_ROOM_JOIN_MATCHING),\n/* harmony export */   \"NC_ROOM_SERIALIZE\": () => (/* binding */ NC_ROOM_SERIALIZE),\n/* harmony export */   \"NC_ROOM_START\": () => (/* binding */ NC_ROOM_START),\n/* harmony export */   \"NC_ROOM_STATUS\": () => (/* binding */ NC_ROOM_STATUS),\n/* harmony export */   \"NC_ROOM_JOIN_ERROR\": () => (/* binding */ NC_ROOM_JOIN_ERROR),\n/* harmony export */   \"NC_OPTIONS_SERIALIZE\": () => (/* binding */ NC_OPTIONS_SERIALIZE),\n/* harmony export */   \"NC_ROUND_SERIALIZE\": () => (/* binding */ NC_ROUND_SERIALIZE),\n/* harmony export */   \"NC_ROUND_COUNTDOWN\": () => (/* binding */ NC_ROUND_COUNTDOWN),\n/* harmony export */   \"NC_ROUND_START\": () => (/* binding */ NC_ROUND_START),\n/* harmony export */   \"NC_ROUND_WRAPUP\": () => (/* binding */ NC_ROUND_WRAPUP),\n/* harmony export */   \"NC_SCORE_UPDATE\": () => (/* binding */ NC_SCORE_UPDATE),\n/* harmony export */   \"NC_SNAKE_ACTION\": () => (/* binding */ NC_SNAKE_ACTION),\n/* harmony export */   \"NC_SNAKE_CRASH\": () => (/* binding */ NC_SNAKE_CRASH),\n/* harmony export */   \"NC_SNAKE_SIZE\": () => (/* binding */ NC_SNAKE_SIZE),\n/* harmony export */   \"NC_SNAKE_SPEED\": () => (/* binding */ NC_SNAKE_SPEED),\n/* harmony export */   \"NC_SNAKE_UPDATE\": () => (/* binding */ NC_SNAKE_UPDATE),\n/* harmony export */   \"NC_XSS\": () => (/* binding */ NC_XSS),\n/* harmony export */   \"SE_PLAYER_DISCONNECT\": () => (/* binding */ SE_PLAYER_DISCONNECT),\n/* harmony export */   \"SE_PLAYER_COLLISION\": () => (/* binding */ SE_PLAYER_COLLISION),\n/* harmony export */   \"HEARTBEAT_INTERVAL_MS\": () => (/* binding */ HEARTBEAT_INTERVAL_MS),\n/* harmony export */   \"GAME_SHIFT_MAP\": () => (/* binding */ GAME_SHIFT_MAP),\n/* harmony export */   \"DIRECTION_LEFT\": () => (/* binding */ DIRECTION_LEFT),\n/* harmony export */   \"DIRECTION_UP\": () => (/* binding */ DIRECTION_UP),\n/* harmony export */   \"DIRECTION_RIGHT\": () => (/* binding */ DIRECTION_RIGHT),\n/* harmony export */   \"DIRECTION_DOWN\": () => (/* binding */ DIRECTION_DOWN),\n/* harmony export */   \"ROOM_KEY_LENGTH\": () => (/* binding */ ROOM_KEY_LENGTH),\n/* harmony export */   \"ROOM_CAPACITY\": () => (/* binding */ ROOM_CAPACITY),\n/* harmony export */   \"ROUNDS_MAX\": () => (/* binding */ ROUNDS_MAX),\n/* harmony export */   \"ROOM_WIN_BY_MIN\": () => (/* binding */ ROOM_WIN_BY_MIN),\n/* harmony export */   \"PLAYER_NAME_MINLENGTH\": () => (/* binding */ PLAYER_NAME_MINLENGTH),\n/* harmony export */   \"PLAYER_NAME_MAXWIDTH\": () => (/* binding */ PLAYER_NAME_MAXWIDTH),\n/* harmony export */   \"SECONDS_ROUND_PAUSE\": () => (/* binding */ SECONDS_ROUND_PAUSE),\n/* harmony export */   \"SECONDS_ROUND_GLOAT\": () => (/* binding */ SECONDS_ROUND_GLOAT),\n/* harmony export */   \"SECONDS_ROUNDSET_GLOAT\": () => (/* binding */ SECONDS_ROUNDSET_GLOAT),\n/* harmony export */   \"SECONDS_ROUND_COUNTDOWN\": () => (/* binding */ SECONDS_ROUND_COUNTDOWN),\n/* harmony export */   \"SPAWN_SOMETHING_EVERY\": () => (/* binding */ SPAWN_SOMETHING_EVERY),\n/* harmony export */   \"SPAWN_CHANCE_APPLE\": () => (/* binding */ SPAWN_CHANCE_APPLE),\n/* harmony export */   \"SNAKE_SPEED\": () => (/* binding */ SNAKE_SPEED),\n/* harmony export */   \"SNAKE_SIZE\": () => (/* binding */ SNAKE_SIZE),\n/* harmony export */   \"FIELD_VALUE_EASY\": () => (/* binding */ FIELD_VALUE_EASY),\n/* harmony export */   \"FIELD_VALUE_MEDIUM\": () => (/* binding */ FIELD_VALUE_MEDIUM),\n/* harmony export */   \"FIELD_VALUE_HARD\": () => (/* binding */ FIELD_VALUE_HARD),\n/* harmony export */   \"ROOM_JOINABLE\": () => (/* binding */ ROOM_JOINABLE),\n/* harmony export */   \"ROOM_INVALID_KEY\": () => (/* binding */ ROOM_INVALID_KEY),\n/* harmony export */   \"ROOM_FULL\": () => (/* binding */ ROOM_FULL),\n/* harmony export */   \"ROOM_NOT_FOUND\": () => (/* binding */ ROOM_NOT_FOUND),\n/* harmony export */   \"ROOM_IN_PROGRESS\": () => (/* binding */ ROOM_IN_PROGRESS),\n/* harmony export */   \"ROOM_UNKNOWN_ERROR\": () => (/* binding */ ROOM_UNKNOWN_ERROR),\n/* harmony export */   \"CRASH_UNKNOWN\": () => (/* binding */ CRASH_UNKNOWN),\n/* harmony export */   \"CRASH_WALL\": () => (/* binding */ CRASH_WALL),\n/* harmony export */   \"CRASH_MOVING_WALL\": () => (/* binding */ CRASH_MOVING_WALL),\n/* harmony export */   \"CRASH_SELF\": () => (/* binding */ CRASH_SELF),\n/* harmony export */   \"CRASH_OPPONENT\": () => (/* binding */ CRASH_OPPONENT),\n/* harmony export */   \"CRASH_OPPONENT_DRAW\": () => (/* binding */ CRASH_OPPONENT_DRAW),\n/* harmony export */   \"NETCODE_PING_INTERVAL\": () => (/* binding */ NETCODE_PING_INTERVAL),\n/* harmony export */   \"NETCODE_SYNC_MS\": () => (/* binding */ NETCODE_SYNC_MS),\n/* harmony export */   \"VALIDATE_SUCCES\": () => (/* binding */ VALIDATE_SUCCES),\n/* harmony export */   \"VALIDATE_ERR_GAP\": () => (/* binding */ VALIDATE_ERR_GAP),\n/* harmony export */   \"VALIDATE_ERR_NO_COMMON\": () => (/* binding */ VALIDATE_ERR_NO_COMMON),\n/* harmony export */   \"VALIDATE_ERR_MISMATCHES\": () => (/* binding */ VALIDATE_ERR_MISMATCHES),\n/* harmony export */   \"SCORE_LEADING\": () => (/* binding */ SCORE_LEADING),\n/* harmony export */   \"SCORE_NEUTRAL\": () => (/* binding */ SCORE_NEUTRAL),\n/* harmony export */   \"SCORE_BEHIND\": () => (/* binding */ SCORE_BEHIND),\n/* harmony export */   \"SPAWN_APPLE\": () => (/* binding */ SPAWN_APPLE),\n/* harmony export */   \"SPAWN_POWERUP\": () => (/* binding */ SPAWN_POWERUP),\n/* harmony export */   \"NOTICE_CRASH\": () => (/* binding */ NOTICE_CRASH),\n/* harmony export */   \"NOTICE_JOIN\": () => (/* binding */ NOTICE_JOIN),\n/* harmony export */   \"NOTICE_DISCONNECT\": () => (/* binding */ NOTICE_DISCONNECT),\n/* harmony export */   \"NOTICE_NEW_ROUND\": () => (/* binding */ NOTICE_NEW_ROUND)\n/* harmony export */ });\nconst WIDTH = 256;\nconst HEIGHT = 161;\nconst GAME_TILE = 4;\n// Netcode events\nconst NC_CHAT_NOTICE = 10;\nconst NC_CHAT_MESSAGE = 11;\nconst NC_GAME_DESPAWN = 20;\nconst NC_GAME_STATE = 21;\nconst NC_GAME_SPAWN = 22;\nconst NC_PING = 0;\nconst NC_PONG = 1;\nconst NC_PLAYER_NAME = 30;\nconst NC_PLAYERS_SERIALIZE = 31;\nconst NC_ROOM_JOIN_KEY = 40;\nconst NC_ROOM_JOIN_MATCHING = 41;\nconst NC_ROOM_SERIALIZE = 42;\nconst NC_ROOM_START = 43;\nconst NC_ROOM_STATUS = 44;\nconst NC_ROOM_JOIN_ERROR = 45;\nconst NC_OPTIONS_SERIALIZE = 47;\nconst NC_ROUND_SERIALIZE = 50;\nconst NC_ROUND_COUNTDOWN = 51;\nconst NC_ROUND_START = 52;\nconst NC_ROUND_WRAPUP = 53;\nconst NC_SCORE_UPDATE = 60;\nconst NC_SNAKE_ACTION = 70;\nconst NC_SNAKE_CRASH = 71;\nconst NC_SNAKE_SIZE = 72;\nconst NC_SNAKE_SPEED = 73;\nconst NC_SNAKE_UPDATE = 74;\nconst NC_XSS = 666;\n// Server EventEmitters\nconst SE_PLAYER_DISCONNECT = 101;\nconst SE_PLAYER_COLLISION = 102;\nconst HEARTBEAT_INTERVAL_MS = 5000;\nconst GAME_SHIFT_MAP = [[-1, 0], [0, -1], [1, 0], [0, 1]];\nconst DIRECTION_LEFT = 0;\nconst DIRECTION_UP = 1;\nconst DIRECTION_RIGHT = 2;\nconst DIRECTION_DOWN = 3;\nconst ROOM_KEY_LENGTH = 5;\nconst ROOM_CAPACITY = 6;\nconst ROUNDS_MAX = 3;\nconst ROOM_WIN_BY_MIN = 2;\nconst PLAYER_NAME_MINLENGTH = 1;\nconst PLAYER_NAME_MAXWIDTH = 36;\nconst SECONDS_ROUND_PAUSE = 3;\nconst SECONDS_ROUND_GLOAT = 5;\nconst SECONDS_ROUNDSET_GLOAT = 10;\nconst SECONDS_ROUND_COUNTDOWN = 3;\nconst SPAWN_SOMETHING_EVERY = [20, 60];\nconst SPAWN_CHANCE_APPLE = 0.9;\nconst SNAKE_SPEED = 120;\nconst SNAKE_SIZE = 4;\nconst FIELD_VALUE_EASY = 1;\nconst FIELD_VALUE_MEDIUM = 2;\nconst FIELD_VALUE_HARD = 3;\nconst ROOM_JOINABLE = 1;\nconst ROOM_INVALID_KEY = 2;\nconst ROOM_FULL = 3;\nconst ROOM_NOT_FOUND = 4;\nconst ROOM_IN_PROGRESS = 5;\nconst ROOM_UNKNOWN_ERROR = 6;\nconst CRASH_UNKNOWN = 0;\nconst CRASH_WALL = 1;\nconst CRASH_MOVING_WALL = 2;\nconst CRASH_SELF = 3;\nconst CRASH_OPPONENT = 4;\nconst CRASH_OPPONENT_DRAW = 5;\nconst NETCODE_PING_INTERVAL = 3000;\nconst NETCODE_SYNC_MS = 500;\nconst VALIDATE_SUCCES = 0;\nconst VALIDATE_ERR_GAP = 1;\nconst VALIDATE_ERR_NO_COMMON = 2;\nconst VALIDATE_ERR_MISMATCHES = 3;\nconst SCORE_LEADING = 1;\nconst SCORE_NEUTRAL = 2;\nconst SCORE_BEHIND = 3;\nconst SPAWN_APPLE = 1;\nconst SPAWN_POWERUP = 2;\nconst NOTICE_CRASH = 1;\nconst NOTICE_JOIN = 2;\nconst NOTICE_DISCONNECT = 3;\nconst NOTICE_NEW_ROUND = 4;\n\n\n//# sourceURL=webpack://xssnake/./shared/const.ts?");

/***/ }),

/***/ "./shared/data/levels.ts":
/*!*******************************!*\
  !*** ./shared/data/levels.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"levels\": () => (/* binding */ levels)\n/* harmony export */ });\n// TODO: Import images\nconst levels = {\n    blank: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhCAYAAABug3M0AAAATklEQVR4Xu3XsQ0AMAgDQe/K/jMQKWOY+47y5Irs4eDh/5WdmS3suxLLw8PD9wcPDw8PDw+f7X5sLA8PD38heHh4eHh4+JQ/Nrm+PDz8A9XeSXZnpGoTAAAAAElFTkSuQmCC\" },\n    borobudur: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/e3t6UsGDPAAAAt0lEQVR4XoVUwQpDIQxredvdHL152va7Hvu3o1b6VoZEqoQQQl6tT0RVdHqt1Zufm1FdGGcBgjwKYj3HWfChDiUDAEhvCqBlhhBHdbPpAjNrSW4BlsAd4A69JSmSZ+TbQTZZT6QAVXC7KeC7khnSoU3flUy8jN0h0L9gR0sUdTcqeiSSqF5Wdhlto7vV1/gV9CJ4UQeagXwF6wPtJL8Lfpt8HvhE8ZnkU83fxWOcBW/uwF83/T98AR09bCcOuGr0AAAAAElFTkSuQmCC\" },\n    break_out: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/yjXqqAAAAT0lEQVR4XmMgCBgFBQUFBIEAO4OwgsFjBW67CCsgFQgCAYrthBUMEcCqwIATaDBgA4wCDPgBowADvQEzHl+oMQwVwILHF+pYcgDhLEIqAABRVwy8UdO8QwAAAABJRU5ErkJggg==\" },\n    crosshair: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEUAAAAAAP8A/wAA//9jY2P/AAD/AP///wD////y32ryAAAAQElEQVQ4y2PowA8aGNAFyFDQ6oFbgSN1rKC7go4hqqDNA7+CBgYE4IAIIokwELDCeYgGVMMQVdCOJ2c50SXZAwC+PiE3lNCmnQAAAABJRU5ErkJggg==\" },\n    destination: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEUAAAAAAP8A/wAA//9jY2Pe3t7/AAD/AP///wD///9GJQNIAAAAvUlEQVR4XtWSOw7CMBBEp3ExxwIqOjcuuNVUwN6W0eJYIPIrEBLJevUsvYwtbRDrj74hXM/LwmEz4W8EF1yEi1QgkmRkCmosF7XwVoHqbVKpKmQXwMBTKBCGUF8Son9HKYZgGndQJoCT0O/AXcO6rQzrtCvBiyGaaQS9sk8YYUzRHuYEoRl7ZWyPM5Rmwb2muyhkWAEqwzQJRjcMIV8zZgQDRyo6qEdtCnoThNcjwDmBH8L2sO4rwzr+5Ld/APOp8o3zmfzSAAAAAElFTkSuQmCC\" },\n    lines: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/yjXqqAAAANElEQVR4XmOgB2BVYMAJNBiGCmAURAABBgYGBkEkwDBsADOeyFJjGFRgNDZZ8ESWOgM9AACt5gQS0D0R6gAAAABJRU5ErkJggg==\" },\n    noise: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/yjXqqAAAA1klEQVR4Xm2SUWoAMRBCfbT9d26wX23vf8JCkckKGViiq5k4JJJGliT0Lv9T59uyJDyqDWvCEiYUOdLXU8ba+auqPpCGq7T7zlwdWB3JNSSL8bp92hReD4KALRweZQ9lsjrS1IRGbH+RYeFE7sDkwkp1ZSU4vMtNKfZRl9Xwu9wnZd5Eqe4fHskrEXhL5uK2RUads2+C0u42DBah1mw/uQezJOZkozv1w3eez0Q2BFBenOaiXl/k6bhd67yXTQwWn09pvDf/ECBMVonRJP31QN4axX1L+weknwhwgGDMTAAAAABJRU5ErkJggg==\" },\n    onion_jack: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEUAAAAAAP8A/wAA//9jY2Pe3t7/AAD/AP///wD///9GJQNIAAAAxUlEQVR4Xq3TMQ7CQAwFUTcUORZQpUuz99oK8G2J+RbzC5Q0uIo0T4qy3kQez4zHmjO+s2SGz97E4jI+s4N+UhdoAaBfBSQA3RXmghCgCwRCwHsUMCFgvcDmooD3AsNEUe+xFTAhQB8CJgpYF0Ao0AVYg6Z7zzzd5jl4rkf9/o9XTP+IXq1dKz8onSRiVOGo2QWiAV0AIUBv4KIAnfuQvm46NwqxA+8CiALpvQGiAB2AmPFa6YASDZIOQMxQ//13Z97Ot/kG5IqEQIQLV+oAAAAASUVORK5CYII=\" },\n    pacman: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX///8AAADe3t5jY2P/AP///wAA////AAAA/wAAAP9PyCv5AAAA8ElEQVR4XoWUQa7CMBBDvQCxpZzguSdghfj3v9hXgjWkDdARijqW7UkmE7T8jqvWMdywDYK43FXRCajiT4gw2498tiQwwr0WXnC0bklghDsVG6eusckXIjo3XQIHNCiVSzQmrCAkj6LRDr1O4aHsuCFvThHRLiF9+OyQPtTRUUU1RSiSNK8WYohSlNwEfYnn+zZxlh5dXA6c7iVG63JDLpuHtHFAtlE5THugOSFPezBm50A6gcLOPHQoSTdCYU/zEFcU9nQXcUVJprsItiGoYk9YmSYqWAjfZjIEf51q+/hdcPyyOP94m09x+LoP/x/+Ad2aaMxTh/MAAAAAAElFTkSuQmCC\" },\n    poles: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/yjXqqAAAAM0lEQVR4XmOgB2BVYGBgEMAiwcjAoMEAATgVMNBVwagCZjyRpTa4fDGqgAVPZKkz0AMAAMU7Aq0z0hzLAAAAAElFTkSuQmCC\" },\n    pong: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX/AP8AAP8A//8A/wD//wD/AAD////e3t5jY2MAAADDo6s2AAAAa0lEQVR4XmNIww8S0BVk4lUwcxqCRCiYiVAwvQxElmNRgDAhE8WEDDGEAoRefCbgdwPCF/gUpJGmgHIrMtQSSImLzGnYrYhAKMBjArWim3QrMsyoYgUHHgWZ0/BYgVBAggkDZoUHZVbQI7oB0wCqOZbN5p0AAAAASUVORK5CYII=\" },\n    space_invaders: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX///8AAADe3t5jY2P/AAD/AP///wAA/wAA//8AAP8mgNz0AAAAw0lEQVR4Xt2QUWoDMRBDl2kJ/bVOMJoT5Cg5So6SI3ekXSiMKfQjX31rr/Rsg8HHW4g8sza9IByxctOrnZULu57NNZZ2proRqkSXTa+jXunAVFNgdQQLOdWQ8KVYzF1dqUoWdjUZ0dG/nPouQqNJjaGGqXEUjkBOFYGWNhYLUwX9dIEOYFM//iI6oG9qwyUyHJjaUEvMcyenNmQVqVurMFVELCJ6JzWnmgqV0LTWj/4fPhz33+un60N+c33Kv1xff7jgGwmLICypShLuAAAAAElFTkSuQmCC\" },\n    tetris: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX///8AAABjY2MAAP///wD/AP/e3t4A//8A/wD/AABsPeryAAAA00lEQVR4Xn2SwY7DQAhDbaldaW/mDyLtof3/L9yDpzIqtBySQTw7QAaJAn6EL0GAn4DSAZyUbOj4vQAGLRCCefx1k+pfYIGYEVuov/s5ugDsQKwD1HnIFM3BLSloagIIyFicLPEEB8AAtomYtVmvRWiYeg1hTfkUzs1xWUbIrYT7lcI79UAPVvpnwdkUUlA2uvkqfLx1cjZg7YzaZmOjDdRoXinGaF6LdeaIU1LW3f9jM6meqoEEPem8+ARtvGz4dll/rpo68MS+36pWmKGZjMUl0T8jrgix90FavwAAAABJRU5ErkJggg==\" },\n    traps: { imagedata: \"iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEUAAAAAAP8A/wAA//9jY2P/AAD/AP///wD////y32ryAAAAYklEQVR4Xr2TQQqAMAwE/Zp66bP2os6zpV4ClSWXkD2UNpnC0mY3QITWvSqAa2AA2FGHhykHRDMK/xpGhcAUcfiWtSl3G1AFcA+MBzhRg4f0HRr+IpuHfKJakvX4ZHG0JOsFYY0Jj60hQlQAAAAASUVORK5CYII=\" }\n};\n\n\n//# sourceURL=webpack://xssnake/./shared/data/levels.ts?");

/***/ }),

/***/ "./shared/level/data.ts":
/*!******************************!*\
  !*** ./shared/level/data.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LevelData\": () => (/* binding */ LevelData)\n/* harmony export */ });\n/* harmony import */ var _client_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/const */ \"./client/const.ts\");\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const */ \"./shared/const.ts\");\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parser */ \"./shared/level/parser.ts\");\n/**\n * @param {ImageData} imagedata\n * @param {LevelAnimationRegistry} animations\n * @constructor\n */\n\n\n\nclass LevelData {\n    constructor(imagedata, animations) {\n        const parser = new _parser__WEBPACK_IMPORTED_MODULE_2__.Parser(imagedata);\n        this.width = imagedata.width;\n        this.height = imagedata.height;\n        this.walls = parser.walls;\n        this.spawns = parser.spawns;\n        this.unreachables = parser.unreachables;\n        this.animations = animations;\n    }\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {boolean}\n     */\n    isWall(x, y) {\n        if (this.outOfBounds(x, y)) {\n            return true;\n        }\n        else if (this.walls.has(x, y)) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @param {Coordinate} coordinate\n     * @return {boolean}\n     */\n    isMovingWall(coordinate) {\n        for (let i = 0, m = this.animations.walls.length; i < m; i++) {\n            if (this.inShapes(this.animations.walls[i], coordinate)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * @param {ShapeCollection} shapeCollection\n     * @param {Coordinate} coordinate\n     * @return {boolean}\n     */\n    inShapes(shapeCollection, coordinate) {\n        for (let i = 0, m = shapeCollection.shapes.length; i < m; i++) {\n            var translate;\n            var translated;\n            const shape = shapeCollection.shapes[i];\n            if (shape) {\n                translate = shape.transform.translate;\n                translated = this.convertToGameSystem(coordinate, translate);\n                if (shape.pixels.has(translated[0], translated[1])) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    /**\n     * Translate coordinate to game coordinate system.\n     *\n     * @param {Coordinate} coordinate\n     * @param {Shift} translate\n     */\n    convertToGameSystem(coordinate, translate) {\n        let tx;\n        let ty;\n        if (true) {\n            // In Client, Game transforms left/top. Not ideal, but it is done\n            // so that we can move shapes without losing cache => performance.\n            tx = (translate[0] - _client_const__WEBPACK_IMPORTED_MODULE_0__.GAME_LEFT) / _const__WEBPACK_IMPORTED_MODULE_1__.GAME_TILE;\n            ty = (translate[1] - _client_const__WEBPACK_IMPORTED_MODULE_0__.GAME_TOP) / _const__WEBPACK_IMPORTED_MODULE_1__.GAME_TILE;\n        }\n        else {}\n        return [coordinate[0] - tx, coordinate[1] - ty];\n    }\n    /**\n     * @param {number} playerID\n     * @return {Coordinate}\n     */\n    getSpawn(playerID) {\n        return this.spawns[playerID].location;\n    }\n    /**\n     * @param {number} playerID\n     * @return {number}\n     */\n    getSpawnDirection(playerID) {\n        return this.spawns[playerID].direction;\n    }\n    /**\n     * @param {Array.<Array>} nonEmptyLocations\n     * @return {Coordinate}\n     */\n    getEmptyLocation(nonEmptyLocations) {\n        while (true) {\n            const location = [\n                Math.floor(Math.random() * this.width),\n                Math.floor(Math.random() * this.height)\n            ];\n            if (this.isEmptyLocation(nonEmptyLocations, location)) {\n                return location;\n            }\n        }\n    }\n    /**\n     * @param {Array.<Array>} nonEmptyLocations\n     * @param {Coordinate} location\n     * @return {boolean}\n     */\n    isEmptyLocation(nonEmptyLocations, location) {\n        if (this.isWall(location[0], location[1])) {\n            return false;\n        }\n        if (this.unreachables.has(location[0], location[1])) {\n            return false;\n        }\n        for (let i = 0, m = nonEmptyLocations.length; i < m; i++) {\n            const nonE = nonEmptyLocations[i];\n            if (nonE && nonE[0] === location[0] && nonE[1] === location[1]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {boolean}\n     */\n    outOfBounds(x, y) {\n        if (x < 0 || y < 0) {\n            return true;\n        }\n        else {\n            return x >= this.width || y >= this.height;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/level/data.ts?");

/***/ }),

/***/ "./shared/level/gravity.ts":
/*!*********************************!*\
  !*** ./shared/level/gravity.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Gravity\": () => (/* binding */ Gravity)\n/* harmony export */ });\n/**\n * Gravity pulls snakes and power-ups a certain direction.\n *\n * @param {Array.<number>=} gravity\n * gravity is an array with two numbers. The first number is tiles per second to\n * the left or right, second number is tiles per second up or down.\n *\n * Example 1: [-5, -5] pulls objects to top-left.\n * Example 2: [5, 5] pulls objects to bottom-right.\n * Example 2: [-5, 0] pulls objects to the left only.\n *\n * @constructor\n */\nclass Gravity {\n    constructor(gravity = []) {\n        this.gravity = gravity;\n        this.progress = [0, 0];\n    }\n    /**\n     * @param elapsed\n     * @return {Shift}\n     */\n    getShift(elapsed) {\n        return [\n            this.updateInDirection(elapsed, 0),\n            this.updateInDirection(elapsed, 1)\n        ];\n    }\n    /**\n     * @param {number} delta\n     * @param {number} direction\n     * @return {number}\n     */\n    updateInDirection(delta, direction) {\n        if (this.gravity[direction]) {\n            const treshold = 1000 / Math.abs(this.gravity[direction]);\n            this.progress[direction] += delta;\n            if (this.progress[direction] > treshold) {\n                this.progress[direction] -= treshold;\n                return this.gravity[direction] > 0 ? 1 : -1;\n            }\n        }\n        return 0;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/level/gravity.ts?");

/***/ }),

/***/ "./shared/level/level.ts":
/*!*******************************!*\
  !*** ./shared/level/level.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Level\": () => (/* binding */ Level)\n/* harmony export */ });\n/* harmony import */ var _client_level_imageDecoder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/level/imageDecoder */ \"./client/level/imageDecoder.ts\");\n/* harmony import */ var _client_state_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../client/state/state */ \"./client/state/state.ts\");\n/* harmony import */ var _client_ui_clientShapeGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../client/ui/clientShapeGenerator */ \"./client/ui/clientShapeGenerator.ts\");\n/* harmony import */ var _client_ui_shapeClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../client/ui/shapeClient */ \"./client/ui/shapeClient.ts\");\n/* harmony import */ var _levelanim_registry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../levelanim/registry */ \"./shared/levelanim/registry.ts\");\n/* harmony import */ var _shape__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shape */ \"./shared/shape.ts\");\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data */ \"./shared/level/data.ts\");\n/* harmony import */ var _gravity__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./gravity */ \"./shared/level/gravity.ts\");\n\n\n\n\n\n\n\n\nclass Level {\n    constructor(config) {\n        this.config = config;\n        this.config = config;\n        this.animations = new _levelanim_registry__WEBPACK_IMPORTED_MODULE_4__.LevelAnimationRegistry();\n        this.gravity = new _gravity__WEBPACK_IMPORTED_MODULE_7__.Gravity(this.config.gravity);\n        this.data = config.level.cache || null;\n    }\n    registerAnimations() {\n        // () => {}?\n    }\n    /**\n     * Client-Only!\n     * TODO: Create and add to level.ClientLevel instead.\n     */\n    destruct() {\n        if (true) {\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes.level = null;\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes.innerborder = null;\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes.outerBorderLeft = null;\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes.outerBorderRight = null;\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes.outerBorderTop = null;\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes.outerBorderBottom = null;\n        }\n    }\n    /**\n     * Client-Only!\n     * TODO: Create and add to level.ClientLevel instead.\n     */\n    paint() {\n        if (true) {\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes.level = new _shape__WEBPACK_IMPORTED_MODULE_5__.Shape(this.data.walls);\n            (0,_client_ui_shapeClient__WEBPACK_IMPORTED_MODULE_3__.setGameTransform)(_client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes.level);\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes.innerborder = (0,_client_ui_clientShapeGenerator__WEBPACK_IMPORTED_MODULE_2__.innerBorder)();\n            Object.assign(_client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes, (0,_client_ui_clientShapeGenerator__WEBPACK_IMPORTED_MODULE_2__.outerBorder)());\n        }\n    }\n    preload(continueFn) {\n        const level = this.config.level;\n        if (level.cache) {\n            continueFn();\n        }\n        else {\n            new _client_level_imageDecoder__WEBPACK_IMPORTED_MODULE_0__.ImageDecoder(level.imagedata).then(function (data) {\n                level.cache = new _data__WEBPACK_IMPORTED_MODULE_6__.LevelData(data, this.animations);\n                level.imagedata = null;\n                this.data = level.cache;\n                this.registerAnimations();\n                continueFn();\n            }.bind(this));\n        }\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/level/level.ts?");

/***/ }),

/***/ "./shared/level/parser.ts":
/*!********************************!*\
  !*** ./shared/level/parser.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Parser\": () => (/* binding */ Parser)\n/* harmony export */ });\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const */ \"./shared/const.ts\");\n/* harmony import */ var _pixelCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pixelCollection */ \"./shared/pixelCollection.ts\");\n/* harmony import */ var _spawn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./spawn */ \"./shared/level/spawn.ts\");\n\n\n\n/**\n * @param {ImageData} imagedata\n * @constructor\n */\nclass Parser {\n    constructor(imagedata) {\n        this.width = imagedata.width;\n        this.height = imagedata.height;\n        this.walls = new _pixelCollection__WEBPACK_IMPORTED_MODULE_1__.PixelCollection();\n        this.unreachables = new _pixelCollection__WEBPACK_IMPORTED_MODULE_1__.PixelCollection();\n        /** @type {Array.<level.Spawn>} */\n        this.spawns = new Array(_const__WEBPACK_IMPORTED_MODULE_0__.ROOM_CAPACITY);\n        /** @type {Array.<Coordinate>} */\n        this.spawnCoordinates = new Array(_const__WEBPACK_IMPORTED_MODULE_0__.ROOM_CAPACITY);\n        /** @type {Array.<Coordinate>} */\n        this.spawnDirections = [];\n        this.parsePixels(imagedata.data);\n        this.generateSpawns();\n    }\n    /**\n     * @param {Object} imagedata\n     */\n    parsePixels(imagedata) {\n        for (let i = 0, m = imagedata.length / 4; i < m; i++) {\n            this.parsePixel([\n                imagedata[i * 4],\n                imagedata[i * 4 + 1],\n                imagedata[i * 4 + 2]\n            ], [\n                i % this.width,\n                Math.floor(i / this.width)\n            ]);\n        }\n    }\n    /**\n     * @param {Array.<number>} rgb\n     * @param {Coordinate} coordinate\n     */\n    parsePixel(rgb, coordinate) {\n        function rgbEquals(r, g, b) {\n            return rgb[0] === r && rgb[1] === g && rgb[2] === b;\n        }\n        if (rgbEquals(0, 0, 0)) {\n            this.walls.add(coordinate[0], coordinate[1]);\n        }\n        else if (rgbEquals(222, 222, 222)) {\n            this.unreachables.add(coordinate[0], coordinate[1]);\n        }\n        else if (rgbEquals(99, 99, 99)) {\n            this.spawnDirections.push(coordinate);\n        }\n        else if (rgbEquals(255, 0, 0)) {\n            this.spawnCoordinates[0] = coordinate;\n        }\n        else if (rgbEquals(0, 255, 0)) {\n            this.spawnCoordinates[1] = coordinate;\n        }\n        else if (rgbEquals(0, 0, 255)) {\n            this.spawnCoordinates[2] = coordinate;\n        }\n        else if (rgbEquals(255, 255, 0)) {\n            this.spawnCoordinates[3] = coordinate;\n        }\n        else if (rgbEquals(255, 0, 255)) {\n            this.spawnCoordinates[4] = coordinate;\n        }\n        else if (rgbEquals(0, 255, 255)) {\n            this.spawnCoordinates[5] = coordinate;\n        }\n        else if (!rgbEquals(255, 255, 255)) {\n            throw new Error(\"Unknown color: \" + rgb + \" \" + \"at \" + coordinate);\n        }\n    }\n    generateSpawns() {\n        for (let i = 0, m = this.spawnCoordinates.length; i < m; i++) {\n            const spawnCoordinate = this.spawnCoordinates[i];\n            if (spawnCoordinate) {\n                this.spawns[i] = new _spawn__WEBPACK_IMPORTED_MODULE_2__.Spawn(spawnCoordinate, this.getDirectionForSpawn(spawnCoordinate));\n            }\n            else {\n                throw new Error(\"Missing spawn with index: \" + i);\n            }\n        }\n    }\n    /**\n     * @param {Coordinate} spawn\n     * @return {number}\n     */\n    getDirectionForSpawn(spawn) {\n        for (let i = 0, m = this.spawnDirections.length; i < m; i++) {\n            var dx;\n            var dy;\n            if (!this.spawnDirections[i]) {\n                continue;\n            }\n            dx = spawn[0] - this.spawnDirections[i][0];\n            dy = spawn[1] - this.spawnDirections[i][1];\n            if (1 === Math.abs(dx) + Math.abs(dy)) {\n                if (dx === 0) {\n                    return (dy === 1) ? _const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_UP : _const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_DOWN;\n                }\n                else {\n                    return (dx === 1) ? _const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_LEFT : _const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_RIGHT;\n                }\n            }\n        }\n        throw new Error(\"Spawn at \" + spawn + \" is missing a direction\");\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/level/parser.ts?");

/***/ }),

/***/ "./shared/level/spawn.ts":
/*!*******************************!*\
  !*** ./shared/level/spawn.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Spawn\": () => (/* binding */ Spawn)\n/* harmony export */ });\n/**\n * @param {Coordinate} location\n * @param {number} direction\n * @constructor\n */\nclass Spawn {\n    constructor(location, direction) {\n        this.location = location;\n        this.direction = direction;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/level/spawn.ts?");

/***/ }),

/***/ "./shared/levelanim/registry.ts":
/*!**************************************!*\
  !*** ./shared/levelanim/registry.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LevelAnimationRegistry\": () => (/* binding */ LevelAnimationRegistry)\n/* harmony export */ });\n/* harmony import */ var _client_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/const */ \"./client/const.ts\");\n/* harmony import */ var _client_state_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../client/state/state */ \"./client/state/state.ts\");\n/* harmony import */ var _client_ui_shapeClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../client/ui/shapeClient */ \"./client/ui/shapeClient.ts\");\n\n\n\nclass LevelAnimationRegistry {\n    constructor() {\n        this.animations = [];\n        this.walls = [];\n        this.started = false;\n        this.progress = 0;\n    }\n    register(animation) {\n        this.animations.push(animation);\n    }\n    update(delta, started) {\n        this.progress += delta;\n        this.started = started;\n        this.walls = this.updateAnimations();\n        this.updateShapes();\n    }\n    updateAnimations() {\n        const walls = [];\n        for (let i = 0, m = this.animations.length; i < m; i++) {\n            const shapeCollection = this.updateAnimation(this.animations[i]);\n            if (shapeCollection) {\n                walls.push(shapeCollection);\n            }\n        }\n        return walls;\n    }\n    updateAnimation(animation) {\n        return animation.update(this.progress, this.started);\n    }\n    updateShapes() {\n        for (let i = 0, m = this.walls.length; i < m; i++) {\n            if (this.walls[i]) {\n                this._updateShapes(i, this.walls[i]);\n            }\n        }\n    }\n    _updateShapes(animIndex, shapeCollection) {\n        const shapes = shapeCollection.shapes;\n        for (let i = 0, m = shapes.length; i < m; i++) {\n            this._updateShape([_client_const__WEBPACK_IMPORTED_MODULE_0__.NS_ANIM, animIndex, i].join(\"_\"), shapes[i]);\n        }\n    }\n    _updateShape(key, shape) {\n        if (shape) {\n            if (!shape.headers.transformed) {\n                (0,_client_ui_shapeClient__WEBPACK_IMPORTED_MODULE_2__.setGameTransform)(shape);\n                shape.headers.transformed = true;\n            }\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes[key] = shape;\n        }\n        else {\n            _client_state_state__WEBPACK_IMPORTED_MODULE_1__.State.shapes[key] = null;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/levelanim/registry.ts?");

/***/ }),

/***/ "./shared/levels/debug/crosshair.ts":
/*!******************************************!*\
  !*** ./shared/levels/debug/crosshair.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CrosshairLevel\": () => (/* binding */ CrosshairLevel)\n/* harmony export */ });\n/* harmony import */ var _data_levels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/levels */ \"./shared/data/levels.ts\");\n/* harmony import */ var _level_level__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../level/level */ \"./shared/level/level.ts\");\n\n\nclass CrosshairLevel extends _level_level__WEBPACK_IMPORTED_MODULE_1__.Level {\n    constructor() {\n        super(...arguments);\n        this.level = _data_levels__WEBPACK_IMPORTED_MODULE_0__.levels.crosshair;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/levels/debug/crosshair.ts?");

/***/ }),

/***/ "./shared/levels/debug/lines.ts":
/*!**************************************!*\
  !*** ./shared/levels/debug/lines.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LinesLevel\": () => (/* binding */ LinesLevel)\n/* harmony export */ });\n/* harmony import */ var _data_levels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/levels */ \"./shared/data/levels.ts\");\n/* harmony import */ var _level_level__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../level/level */ \"./shared/level/level.ts\");\n\n\nclass LinesLevel extends _level_level__WEBPACK_IMPORTED_MODULE_1__.Level {\n    constructor() {\n        super(...arguments);\n        this.level = _data_levels__WEBPACK_IMPORTED_MODULE_0__.levels.lines;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/levels/debug/lines.ts?");

/***/ }),

/***/ "./shared/levelset/config.ts":
/*!***********************************!*\
  !*** ./shared/levelset/config.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Config\": () => (/* binding */ Config)\n/* harmony export */ });\n/* harmony import */ var _data_levels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/levels */ \"./shared/data/levels.ts\");\n\nclass Config {\n    constructor() {\n        this.level = _data_levels__WEBPACK_IMPORTED_MODULE_0__.levels.blank;\n        this.gravity = [0, 0];\n        this.enableApples = true;\n        this.enablePowerups = [];\n        this.snakeSize = 4;\n        this.snakeSpeed = 120; // Change tile every ms.\n        this.snakeIncrease = 1;\n        this.pointsApple = 1;\n        this.pointsKnockout = 3;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/levelset/config.ts?");

/***/ }),

/***/ "./shared/levelset/levelset.ts":
/*!*************************************!*\
  !*** ./shared/levelset/levelset.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Levelset\": () => (/* binding */ Levelset)\n/* harmony export */ });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util */ \"./shared/util.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"./shared/levelset/config.ts\");\n\n\nclass Levelset {\n    constructor() {\n        this.title = \"\";\n        this.levels = [];\n        this.loaded = false;\n    }\n    getConfig() {\n        return new _config__WEBPACK_IMPORTED_MODULE_1__.Config();\n    }\n    getLevel(index) {\n        return this.levels[index];\n    }\n    register(Level) {\n        this.levels.push(new Level(this.getConfig()));\n    }\n    preload(continueFn) {\n        let loaded = 0;\n        const checkAllLoaded = function () {\n            if (++loaded === this.levels.length) {\n                continueFn();\n            }\n        }.bind(this);\n        if (this.levels.length) {\n            for (let i = 0, m = this.levels.length; i < m; i++) {\n                this.levels[i].preload(checkAllLoaded);\n            }\n        }\n        else {\n            continueFn();\n        }\n    }\n    getRandomLevelIndex(levelsPlayed) {\n        const notPlayed = this.levels.slice();\n        if (notPlayed.length <= 1) {\n            return 0;\n        }\n        // All levels were played.\n        // Play any level except the one just played.\n        if (this.levels.length === levelsPlayed.length) {\n            levelsPlayed.splice(0, levelsPlayed.length - 1);\n        }\n        for (let i = 0, m = levelsPlayed.length; i < m; i++) {\n            notPlayed.splice(levelsPlayed[i], 1);\n        }\n        return (0,_util__WEBPACK_IMPORTED_MODULE_0__.randomArrIndex)(notPlayed);\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/levelset/levelset.ts?");

/***/ }),

/***/ "./shared/levelset/registry.ts":
/*!*************************************!*\
  !*** ./shared/levelset/registry.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Registry\": () => (/* binding */ Registry)\n/* harmony export */ });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util */ \"./shared/util.ts\");\n\n/**\n * @constructor\n */\nclass Registry {\n    constructor() {\n        this.levelsets = [];\n        this.loaded = false;\n    }\n    register(levelset) {\n        this.levelsets.push(levelset);\n    }\n    preloadLevels(continueFn = () => { }) {\n        let checkAllLoaded;\n        let loaded = 0;\n        checkAllLoaded = function () {\n            if (++loaded === this.levelsets.length) {\n                this.loaded = true;\n                continueFn();\n            }\n        }.bind(this);\n        for (let i = 0, m = this.levelsets.length; i < m; i++) {\n            this.levelsets[i].preload(checkAllLoaded);\n        }\n    }\n    getLevelset(index) {\n        return this.levelsets[index];\n    }\n    /**\n     * @return {Array.<Array.<number|string>>}\n     */\n    getAsFieldValues() {\n        const values = [];\n        for (let i = 0, m = this.levelsets.length; i < m; i++) {\n            values.push([i, this.levelsets[i].title.toUpperCase()]);\n        }\n        return values;\n    }\n    /**\n     * @return {number}\n     */\n    getRandomLevelsetIndex() {\n        return (0,_util__WEBPACK_IMPORTED_MODULE_0__.randomArrIndex)(this.levelsets);\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/levelset/registry.ts?");

/***/ }),

/***/ "./shared/levelsets/basic.ts":
/*!***********************************!*\
  !*** ./shared/levelsets/basic.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Basic\": () => (/* binding */ Basic)\n/* harmony export */ });\n/* harmony import */ var _client_copy_copy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/copy/copy */ \"./client/copy/copy.ts\");\n/* harmony import */ var _levelset_levelset__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../levelset/levelset */ \"./shared/levelset/levelset.ts\");\n\n\nclass Basic extends _levelset_levelset__WEBPACK_IMPORTED_MODULE_1__.Levelset {\n    constructor() {\n        super(...arguments);\n        this.title = _client_copy_copy__WEBPACK_IMPORTED_MODULE_0__.COPY_LEVELSET_BASIC;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/levelsets/basic.ts?");

/***/ }),

/***/ "./shared/pixelCollection.ts":
/*!***********************************!*\
  !*** ./shared/pixelCollection.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PixelCollection\": () => (/* binding */ PixelCollection)\n/* harmony export */ });\n/* harmony import */ var _boundingBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boundingBox */ \"./shared/boundingBox.ts\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ \"./shared/util.ts\");\n\n\n/**\n * Shape pixels stored in a multi-dimensional array.\n * I tried using an Uint8Array, but performance was bad.\n * @param {Array.<Array.<number>>=} pixels\n * @constructor\n */\nclass PixelCollection {\n    constructor(pixels = []) {\n        /** @type {Array.<Array.<number>>} */\n        this.pixels = pixels;\n    }\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {PixelCollection}\n     */\n    add(x, y) {\n        const pixels = this.pixels;\n        if (pixels[y]) {\n            pixels[y].push(x);\n        }\n        else {\n            pixels[y] = [x];\n        }\n        return this;\n    }\n    /**\n     * @return {!BoundingBox}\n     */\n    bbox() {\n        return new _boundingBox__WEBPACK_IMPORTED_MODULE_0__.BoundingBox(this);\n    }\n    /**\n     * @param {Array.<Coordinate>} pairs\n     * @return {PixelCollection}\n     */\n    addPairs(pairs) {\n        for (let i = 0, m = pairs.length; i < m; i++) {\n            this.add(pairs[i][0], pairs[i][1]);\n        }\n        return this;\n    }\n    /**\n     * @return {PixelCollection}\n     */\n    sort() {\n        const pixels = this.pixels;\n        for (let i = 0, m = pixels.length; i < m; i++) {\n            if (pixels[i]) {\n                pixels[i] = (0,_util__WEBPACK_IMPORTED_MODULE_1__.sort)(pixels[i]);\n            }\n        }\n        return this;\n    }\n    /**\n     * @param {function(number,number)} callback\n     */\n    each(callback) {\n        const pixels = this.pixels;\n        for (let y = 0, m = pixels.length; y < m; y++) {\n            const row = pixels[y];\n            if (row) {\n                for (let i = 0, mm = row.length; i < mm; i++) {\n                    callback(row[i], y);\n                }\n            }\n        }\n    }\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {number}\n     */\n    index(x, y) {\n        const row = this.pixels[y];\n        if (row) {\n            for (let i = 0, m = row.length; i < m; i++) {\n                if (row[i] === x) {\n                    return i;\n                }\n            }\n        }\n        return -1;\n    }\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {boolean}\n     */\n    has(x, y) {\n        return -1 !== this.index(x, y);\n    }\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {PixelCollection}\n     */\n    remove(x, y) {\n        const index = this.index(x, y);\n        if (-1 !== index) {\n            this.pixels[y].splice(index, 1);\n        }\n        return this;\n    }\n    /**\n     * @param {number} y\n     * @return {PixelCollection}\n     */\n    removeLine(y) {\n        if (this.pixels[y]) {\n            this.pixels[y].length = 0;\n        }\n        return this;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/pixelCollection.ts?");

/***/ }),

/***/ "./shared/shape.ts":
/*!*************************!*\
  !*** ./shared/shape.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Shape\": () => (/* binding */ Shape)\n/* harmony export */ });\n/* harmony import */ var _client_ui_transformClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../client/ui/transformClient */ \"./client/ui/transformClient.ts\");\n/* harmony import */ var _pixelCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pixelCollection */ \"./shared/pixelCollection.ts\");\n\n\nclass Shape {\n    constructor(...pixelCollections) {\n        /** @type {PixelCollection} */\n        this.pixels = new _pixelCollection__WEBPACK_IMPORTED_MODULE_1__.PixelCollection();\n        /** @type {ShapeCache} */\n        this.cache = null;\n        /** @type {boolean} */\n        this.enabled = true;\n        /** @type {boolean} */\n        this.isOverlay = false;\n        /** @type {Object.<string,*>} */\n        this.effects = {};\n        /** @type {number} */\n        this.expand = 0;\n        /** @type {Object.<string,*>} */\n        this.headers = {};\n        /**\n         * x0, y0, x1, y2\n         * @type {Array.<number>}\n         */\n        this.mask = null;\n        /**\n         * Transform is applied at paint time, does not affect PixelCollection.\n         * @type {{translate: Shift, scale: number}}\n         */\n        this.transform = {\n            translate: [0, 0],\n            scale: 1\n        };\n        this.add(...pixelCollections);\n    }\n    clone() {\n        return new Shape(this.pixels);\n    }\n    outline(hPadding = 0, vPadding = 0) {\n        (0,_client_ui_transformClient__WEBPACK_IMPORTED_MODULE_0__.outline)(this, hPadding, vPadding);\n        return this;\n    }\n    invert(bbox) {\n        const pixels = this.pixels;\n        const inverted = new _pixelCollection__WEBPACK_IMPORTED_MODULE_1__.PixelCollection();\n        bbox = bbox || this.bbox();\n        for (let x = bbox.x0; x <= bbox.x1; x++) {\n            for (let y = bbox.y0; y < bbox.y1; y++) {\n                if (!pixels.has(x, y)) {\n                    inverted.add(x, y);\n                }\n            }\n        }\n        return this.set(inverted);\n    }\n    /**\n     * @return {Shape}\n     */\n    uncache() {\n        this.cache = null;\n        this._bbox = null;\n        return this;\n    }\n    /**\n     * @param {...PixelCollection} varArgs\n     * @return {Shape}\n     */\n    set(varArgs) {\n        this.pixels = new _pixelCollection__WEBPACK_IMPORTED_MODULE_1__.PixelCollection();\n        return this.add.apply(this, arguments);\n    }\n    /**\n     * @param {...PixelCollection} pixelCollections\n     * @return {Shape}\n     */\n    add(...pixelCollections) {\n        const add = this.pixels.add.bind(this.pixels);\n        for (let i = 0, m = pixelCollections.length; i < m; i++) {\n            arguments[i].each(add);\n        }\n        return this.uncache();\n    }\n    /**\n     * @param {...PixelCollection} pixels\n     * @return {Shape}\n     */\n    remove(pixels) {\n        const remove = this.pixels.remove.bind(this.pixels);\n        for (let i = 0, m = arguments.length; i < m; i++) {\n            arguments[i].each(remove);\n        }\n        return this.uncache();\n    }\n    /**\n     * @param {number=} expand\n     * @return {BoundingBox}\n     */\n    bbox(expand = 0) {\n        if (!this._bbox || this.expand !== expand) {\n            this._bbox = this.pixels.bbox();\n            if (expand) {\n                this._bbox.expand(expand);\n            }\n        }\n        this.expand = expand;\n        return this._bbox;\n    }\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/shape.ts?");

/***/ }),

/***/ "./shared/shapeGenerator.ts":
/*!**********************************!*\
  !*** ./shared/shapeGenerator.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"lineShape\": () => (/* binding */ lineShape),\n/* harmony export */   \"radianLine\": () => (/* binding */ radianLine),\n/* harmony export */   \"line\": () => (/* binding */ line)\n/* harmony export */ });\n/* harmony import */ var _pixelCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixelCollection */ \"./shared/pixelCollection.ts\");\n/* harmony import */ var _shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shape */ \"./shared/shape.ts\");\n\n\nfunction lineShape(x0, y0, x1, y1) {\n    return new _shape__WEBPACK_IMPORTED_MODULE_1__.Shape(line(x0, y0, x1, y1));\n}\nfunction radianLine(xc, yc, radian, length) {\n    const x0 = xc + length / 2 * Math.cos(radian);\n    const y0 = yc + length / 2 * Math.sin(radian);\n    const x1 = xc + length / 2 * Math.cos(radian + Math.PI);\n    const y1 = yc + length / 2 * Math.sin(radian + Math.PI);\n    return line(Math.round(x0), Math.round(y0), Math.round(x1), Math.round(y1));\n}\n/**\n * Bresenham's line algorithm\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @return {PixelCollection}\n */\nfunction line(x0, y0, x1, y1) {\n    let pixels;\n    let dx;\n    let sx;\n    let dy;\n    let sy;\n    let err;\n    let err2;\n    pixels = new _pixelCollection__WEBPACK_IMPORTED_MODULE_0__.PixelCollection();\n    dx = Math.abs(x1 - x0);\n    sx = x0 < x1 ? 1 : -1;\n    dy = Math.abs(y1 - y0);\n    sy = y0 < y1 ? 1 : -1;\n    err = (dx > dy ? dx : -dy) / 2;\n    while (true) {\n        pixels.add(x0, y0);\n        if (x0 === x1 && y0 === y1) {\n            break;\n        }\n        err2 = err;\n        if (err2 > -dx) {\n            err -= dy;\n            x0 += sx;\n        }\n        if (err2 < dy) {\n            err += dx;\n            y0 += sy;\n        }\n    }\n    return pixels;\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/shapeGenerator.ts?");

/***/ }),

/***/ "./shared/transform.ts":
/*!*****************************!*\
  !*** ./shared/transform.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shift\": () => (/* binding */ shift)\n/* harmony export */ });\n/* harmony import */ var _pixelCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pixelCollection */ \"./shared/pixelCollection.ts\");\n/**\n * @param {PixelCollection} pixels\n * @param {number=} xshift\n * @param {number=} yshift\n * @return {PixelCollection}\n */\n\nfunction shift(pixels, xshift, yshift) {\n    let ret;\n    if (xshift === 0 && yshift === 0) {\n        return pixels; // No shift\n    }\n    ret = new _pixelCollection__WEBPACK_IMPORTED_MODULE_0__.PixelCollection();\n    xshift = xshift || 0;\n    yshift = yshift || 0;\n    pixels.each(function (x, y) {\n        ret.add(x + xshift, y + yshift);\n    });\n    return ret;\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/transform.ts?");

/***/ }),

/***/ "./shared/util.ts":
/*!************************!*\
  !*** ./shared/util.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"extend\": () => (/* binding */ extend),\n/* harmony export */   \"filter\": () => (/* binding */ filter),\n/* harmony export */   \"compareProperties\": () => (/* binding */ compareProperties),\n/* harmony export */   \"randomRange\": () => (/* binding */ randomRange),\n/* harmony export */   \"randomArrItem\": () => (/* binding */ randomArrItem),\n/* harmony export */   \"randomArrIndex\": () => (/* binding */ randomArrIndex),\n/* harmony export */   \"randomStr\": () => (/* binding */ randomStr),\n/* harmony export */   \"ensureIndexWithinBounds\": () => (/* binding */ ensureIndexWithinBounds),\n/* harmony export */   \"average\": () => (/* binding */ average),\n/* harmony export */   \"delta\": () => (/* binding */ delta),\n/* harmony export */   \"eq\": () => (/* binding */ eq),\n/* harmony export */   \"getKey\": () => (/* binding */ getKey),\n/* harmony export */   \"sort\": () => (/* binding */ sort),\n/* harmony export */   \"benchmark\": () => (/* binding */ benchmark),\n/* harmony export */   \"getRandomName\": () => (/* binding */ getRandomName)\n/* harmony export */ });\n/**\n * @param {Object} obj Object to clone.\n * @return {?} Clone of the input object.\n */\nfunction clone(obj) {\n    const res = {};\n    for (const k in obj) {\n        if (obj.hasOwnProperty(k)) {\n            res[k] = obj[k];\n        }\n    }\n    return res;\n}\n/**\n * @param {Object} target\n * @param {...Object} varArgs\n */\nfunction extend(target, varArgs) {\n    for (let i = 1; i < arguments.length; i++) {\n        const source = arguments[i];\n        for (const k in source) {\n            if (source.hasOwnProperty(k)) {\n                target[k] = source[k];\n            }\n        }\n    }\n}\n/**\n * @param {Array} haystack\n * @param {*} needle\n * @return {Array}\n */\nfunction filter(haystack, needle) {\n    const filtered = [];\n    for (let i = 0, m = haystack.length; i < m; i++) {\n        if (compareProperties(haystack[i], needle)) {\n            filtered.push(haystack[i]);\n        }\n    }\n    return filtered;\n}\n/**\n * @param {*} completeObject\n * @param {*} subsetObject\n * @return {boolean}\n */\nfunction compareProperties(completeObject, subsetObject) {\n    if (completeObject === subsetObject) {\n        return true;\n    }\n    else if (subsetObject instanceof Object) {\n        const keys = Object.keys(subsetObject);\n        for (let i = 0, l = keys.length; i < l; i++) {\n            if (!compareProperties(completeObject[keys[i]], subsetObject[keys[i]])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n/**\n * @param {number} min\n * @param {number} max\n * @return {number}\n */\nfunction randomRange(min, max) {\n    return min + Math.floor(Math.random() * (max - min + 1));\n}\n/**\n * @param {Array} arr\n * @return {?}\n */\nfunction randomArrItem(arr) {\n    return arr[Math.floor(Math.random() * arr.length)];\n}\n/**\n * @param {Array} arr\n * @return {number}\n */\nfunction randomArrIndex(arr) {\n    return Math.floor(Math.random() * arr.length);\n}\n/**\n * @param {number=} len\n * @return {string}\n */\nfunction randomStr(len = 3) {\n    return Math.random().toString(36).substr(2, len);\n}\n/**\n * Ensure an array index is within bounds.\n * @param {number} index\n * @param {Array} arr\n * @return {number}\n */\nfunction ensureIndexWithinBounds(index, arr) {\n    const len = arr.length;\n    if (index >= len) {\n        return 0;\n    }\n    else if (index < 0) {\n        return len - 1;\n    }\n    return index;\n}\n/**\n * @param {Array.<number>} numbers\n * @return {number}\n */\nfunction average(numbers) {\n    let total = 0;\n    for (var i = 0, m = numbers.length; i < m; i++) {\n        total += numbers[i];\n    }\n    return m ? total / m : 0;\n}\n/**\n * @param {Coordinate} a\n * @param {Coordinate} b\n * @return {number}\n */\nfunction delta(a, b) {\n    return Math.abs(a[0] - b[0]) + Math.abs(a[1] - b[1]);\n}\n/**\n * @param {Coordinate} a\n * @param {Coordinate} b\n * @return {boolean}\n */\nfunction eq(a, b) {\n    return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * @param {*} obj\n * @param {*} val\n * @return {?string}\n */\nfunction getKey(obj, val) {\n    for (const k in obj) {\n        if (obj.hasOwnProperty(k) && val === obj[k]) {\n            return k;\n        }\n    }\n    return null;\n}\n/**\n * Faster sorting function.\n * http://jsperf.com/javascript-sort/\n *\n * @param {Array.<number>} arr\n * @return {Array.<number>}\n */\nfunction sort(arr) {\n    for (let i = 1; i < arr.length; i++) {\n        const tmp = arr[i];\n        let index = i;\n        while (arr[index - 1] > tmp) {\n            arr[index] = arr[index - 1];\n            --index;\n        }\n        arr[index] = tmp;\n    }\n    return arr;\n}\n/**\n * @param {number} iterations\n * @param {Function} fn\n * @param {string|number=} label\n */\nfunction benchmark(iterations, fn, label = \"\") {\n    let duration;\n    let i = iterations;\n    const start = +new Date();\n    while (i--) {\n        fn();\n    }\n    duration = +new Date() - start;\n    console.log(label || \"Benchmark\", {\n        x: iterations,\n        avg: duration / iterations,\n        total: duration\n    });\n}\n/**\n * @return {string}\n */\nfunction getRandomName() {\n    const name = randomArrItem([\n        \"Ant\", \"Bat\", \"Bear\", \"Bird\", \"Cat\", \"Cow\", \"Crab\", \"Croc\", \"Deer\",\n        \"Dodo\", \"Dog\", \"Duck\", \"Emu\", \"Fish\", \"Fly\", \"Fox\", \"Frog\", \"Goat\",\n        \"Hare\", \"Ibis\", \"Kiwi\", \"Lion\", \"Lynx\", \"Miao\", \"Mole\", \"Moth\", \"Mule\",\n        \"Oger\", \"Pig\", \"Pika\", \"Poke\", \"Puma\", \"Puss\", \"Rat\", \"Seal\", \"Swan\",\n        \"Wasp\", \"Wolf\", \"Yak\", \"Zeb\"\n    ]);\n    return name + \".\" + randomRange(10, 99);\n}\n\n\n//# sourceURL=webpack://xssnake/./shared/util.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./client/index.ts");
/******/ 	
/******/ })()
;