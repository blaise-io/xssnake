/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./client/const.js":
/*!*************************!*\
  !*** ./client/const.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"__IS_CLIENT__\": () => (/* binding */ __IS_CLIENT__),\n/* harmony export */   \"FRAME\": () => (/* binding */ FRAME),\n/* harmony export */   \"MIN_FRAME_DELTA\": () => (/* binding */ MIN_FRAME_DELTA),\n/* harmony export */   \"MAX_FRAME_DELTA\": () => (/* binding */ MAX_FRAME_DELTA),\n/* harmony export */   \"KEY_BACKSPACE\": () => (/* binding */ KEY_BACKSPACE),\n/* harmony export */   \"KEY_TAB\": () => (/* binding */ KEY_TAB),\n/* harmony export */   \"KEY_ENTER\": () => (/* binding */ KEY_ENTER),\n/* harmony export */   \"KEY_ESCAPE\": () => (/* binding */ KEY_ESCAPE),\n/* harmony export */   \"KEY_SPACE\": () => (/* binding */ KEY_SPACE),\n/* harmony export */   \"KEY_LEFT\": () => (/* binding */ KEY_LEFT),\n/* harmony export */   \"KEY_UP\": () => (/* binding */ KEY_UP),\n/* harmony export */   \"KEY_RIGHT\": () => (/* binding */ KEY_RIGHT),\n/* harmony export */   \"KEY_DOWN\": () => (/* binding */ KEY_DOWN),\n/* harmony export */   \"KEY_FULLSCREEN\": () => (/* binding */ KEY_FULLSCREEN),\n/* harmony export */   \"KEY_MUTE\": () => (/* binding */ KEY_MUTE),\n/* harmony export */   \"KEY_START\": () => (/* binding */ KEY_START),\n/* harmony export */   \"FIELD_BUGS\": () => (/* binding */ FIELD_BUGS),\n/* harmony export */   \"FIELD_NAME\": () => (/* binding */ FIELD_NAME),\n/* harmony export */   \"FIELD_QUICK_GAME\": () => (/* binding */ FIELD_QUICK_GAME),\n/* harmony export */   \"FIELD_MAX_PLAYERS\": () => (/* binding */ FIELD_MAX_PLAYERS),\n/* harmony export */   \"FIELD_LEVEL_SET\": () => (/* binding */ FIELD_LEVEL_SET),\n/* harmony export */   \"FIELD_POWERUPS\": () => (/* binding */ FIELD_POWERUPS),\n/* harmony export */   \"FIELD_PRIVATE\": () => (/* binding */ FIELD_PRIVATE),\n/* harmony export */   \"FIELD_XSS\": () => (/* binding */ FIELD_XSS),\n/* harmony export */   \"KEY_TO_DIRECTION\": () => (/* binding */ KEY_TO_DIRECTION),\n/* harmony export */   \"GAME_LEFT\": () => (/* binding */ GAME_LEFT),\n/* harmony export */   \"GAME_TOP\": () => (/* binding */ GAME_TOP),\n/* harmony export */   \"MENU_LEFT\": () => (/* binding */ MENU_LEFT),\n/* harmony export */   \"MENU_TOP\": () => (/* binding */ MENU_TOP),\n/* harmony export */   \"MENU_WIDTH\": () => (/* binding */ MENU_WIDTH),\n/* harmony export */   \"MENU_WRAP\": () => (/* binding */ MENU_WRAP),\n/* harmony export */   \"MENU_TITLE_HEIGHT\": () => (/* binding */ MENU_TITLE_HEIGHT),\n/* harmony export */   \"DOM_EVENT_KEYPRESS\": () => (/* binding */ DOM_EVENT_KEYPRESS),\n/* harmony export */   \"DOM_EVENT_KEYDOWN\": () => (/* binding */ DOM_EVENT_KEYDOWN),\n/* harmony export */   \"DOM_EVENT_KEYUP\": () => (/* binding */ DOM_EVENT_KEYUP),\n/* harmony export */   \"HASH_ROOM\": () => (/* binding */ HASH_ROOM),\n/* harmony export */   \"NS_DEBUG\": () => (/* binding */ NS_DEBUG),\n/* harmony export */   \"NS_ANIM\": () => (/* binding */ NS_ANIM),\n/* harmony export */   \"NS_ACTION\": () => (/* binding */ NS_ACTION),\n/* harmony export */   \"NS_BETWEEN_GAME\": () => (/* binding */ NS_BETWEEN_GAME),\n/* harmony export */   \"NS_EXPLOSION\": () => (/* binding */ NS_EXPLOSION),\n/* harmony export */   \"NS_FLOW\": () => (/* binding */ NS_FLOW),\n/* harmony export */   \"NS_CHAT\": () => (/* binding */ NS_CHAT),\n/* harmony export */   \"NS_DIALOG\": () => (/* binding */ NS_DIALOG),\n/* harmony export */   \"NS_INPUT\": () => (/* binding */ NS_INPUT),\n/* harmony export */   \"NS_GAME\": () => (/* binding */ NS_GAME),\n/* harmony export */   \"NS_MSGBOX\": () => (/* binding */ NS_MSGBOX),\n/* harmony export */   \"NS_ROOM\": () => (/* binding */ NS_ROOM),\n/* harmony export */   \"NS_ROUND\": () => (/* binding */ NS_ROUND),\n/* harmony export */   \"NS_ROUND_SET\": () => (/* binding */ NS_ROUND_SET),\n/* harmony export */   \"NS_PRE_GAME\": () => (/* binding */ NS_PRE_GAME),\n/* harmony export */   \"NS_SCORE\": () => (/* binding */ NS_SCORE),\n/* harmony export */   \"NS_SNAKE\": () => (/* binding */ NS_SNAKE),\n/* harmony export */   \"NS_SNAKE_CONTROLS\": () => (/* binding */ NS_SNAKE_CONTROLS),\n/* harmony export */   \"NS_HEARTBEAT\": () => (/* binding */ NS_HEARTBEAT),\n/* harmony export */   \"NS_SOCKET\": () => (/* binding */ NS_SOCKET),\n/* harmony export */   \"NS_SPAWN\": () => (/* binding */ NS_SPAWN),\n/* harmony export */   \"NS_STAGES\": () => (/* binding */ NS_STAGES),\n/* harmony export */   \"EV_GAME_TICK\": () => (/* binding */ EV_GAME_TICK),\n/* harmony export */   \"EV_WIN_FOCUS_CHANGE\": () => (/* binding */ EV_WIN_FOCUS_CHANGE),\n/* harmony export */   \"EV_FONT_LOAD\": () => (/* binding */ EV_FONT_LOAD),\n/* harmony export */   \"EV_PLAYERS_UPDATED\": () => (/* binding */ EV_PLAYERS_UPDATED),\n/* harmony export */   \"STORAGE_MUTE\": () => (/* binding */ STORAGE_MUTE),\n/* harmony export */   \"STORAGE_NAME\": () => (/* binding */ STORAGE_NAME),\n/* harmony export */   \"STORAGE_XSS\": () => (/* binding */ STORAGE_XSS),\n/* harmony export */   \"STORAGE_COLOR\": () => (/* binding */ STORAGE_COLOR),\n/* harmony export */   \"STORAGE_PREFS\": () => (/* binding */ STORAGE_PREFS),\n/* harmony export */   \"UC_ARR_LEFT\": () => (/* binding */ UC_ARR_LEFT),\n/* harmony export */   \"UC_ARR_UP\": () => (/* binding */ UC_ARR_UP),\n/* harmony export */   \"UC_ARR_RIGHT\": () => (/* binding */ UC_ARR_RIGHT),\n/* harmony export */   \"UC_ARR_DOWN\": () => (/* binding */ UC_ARR_DOWN),\n/* harmony export */   \"UC_CODE\": () => (/* binding */ UC_CODE),\n/* harmony export */   \"UC_ELECTRIC\": () => (/* binding */ UC_ELECTRIC),\n/* harmony export */   \"UC_HOURGLASS\": () => (/* binding */ UC_HOURGLASS),\n/* harmony export */   \"UC_ENTER_KEY\": () => (/* binding */ UC_ENTER_KEY),\n/* harmony export */   \"UC_SQUARE\": () => (/* binding */ UC_SQUARE),\n/* harmony export */   \"UC_TR_LEFT\": () => (/* binding */ UC_TR_LEFT),\n/* harmony export */   \"UC_TR_RIGHT\": () => (/* binding */ UC_TR_RIGHT),\n/* harmony export */   \"UC_TR_UP\": () => (/* binding */ UC_TR_UP),\n/* harmony export */   \"UC_TR_DOWN\": () => (/* binding */ UC_TR_DOWN),\n/* harmony export */   \"UC_APPLE\": () => (/* binding */ UC_APPLE),\n/* harmony export */   \"UC_SKULL\": () => (/* binding */ UC_SKULL),\n/* harmony export */   \"UC_FROWNY_FACE\": () => (/* binding */ UC_FROWNY_FACE),\n/* harmony export */   \"UC_HAPPY_FACE\": () => (/* binding */ UC_HAPPY_FACE),\n/* harmony export */   \"UC_WHITE_HEART\": () => (/* binding */ UC_WHITE_HEART),\n/* harmony export */   \"UC_BLACK_HEART\": () => (/* binding */ UC_BLACK_HEART),\n/* harmony export */   \"UC_MUSIC\": () => (/* binding */ UC_MUSIC),\n/* harmony export */   \"UC_YES\": () => (/* binding */ UC_YES),\n/* harmony export */   \"UC_NO\": () => (/* binding */ UC_NO),\n/* harmony export */   \"UC_BULB\": () => (/* binding */ UC_BULB),\n/* harmony export */   \"UC_BUG\": () => (/* binding */ UC_BUG),\n/* harmony export */   \"UC_FONT\": () => (/* binding */ UC_FONT),\n/* harmony export */   \"UC_LOCK\": () => (/* binding */ UC_LOCK)\n/* harmony export */ });\n/* harmony import */ var _shared_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shared/const */ \"./shared/const.ts\");\n// Client-only extension of server/shared/const.js\n\n\nconst __IS_CLIENT__ = true;\n\nconst FRAME = 1000 / 60;\nconst MIN_FRAME_DELTA = 5;\nconst MAX_FRAME_DELTA = 250;\n\nconst KEY_BACKSPACE = 8;\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_ESCAPE = 27;\nconst KEY_SPACE = 32;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_FULLSCREEN = 70; // F key\nconst KEY_MUTE = 77; // M key\nconst KEY_START = 83; // S key\n\nconst FIELD_BUGS = -1;\nconst FIELD_NAME = 0;\nconst FIELD_QUICK_GAME = 1;\nconst FIELD_MAX_PLAYERS = 2;\nconst FIELD_LEVEL_SET = 3;\nconst FIELD_POWERUPS = 4;\nconst FIELD_PRIVATE = 5;\nconst FIELD_XSS = 6;\n\nconst KEY_TO_DIRECTION = [];\nKEY_TO_DIRECTION[KEY_LEFT] = _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_LEFT;\nKEY_TO_DIRECTION[KEY_UP] = _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_UP;\nKEY_TO_DIRECTION[KEY_RIGHT] = _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_RIGHT;\nKEY_TO_DIRECTION[KEY_DOWN] = _shared_const__WEBPACK_IMPORTED_MODULE_0__.DIRECTION_DOWN;\n\nconst GAME_LEFT = 2;\nconst GAME_TOP = 2;\n\nconst MENU_LEFT = 44;\nconst MENU_TOP = 48;\nconst MENU_WIDTH = 167;\nconst MENU_WRAP = 176;\nconst MENU_TITLE_HEIGHT = 20;\n\nconst DOM_EVENT_KEYPRESS = 'keypress';\nconst DOM_EVENT_KEYDOWN = 'keydown';\nconst DOM_EVENT_KEYUP = 'keyup';\n\nconst HASH_ROOM = 'room';\n\nconst NS_DEBUG = 'DEBUG';\nconst NS_ANIM = 'ANM';\nconst NS_ACTION = 'ACT';\nconst NS_BETWEEN_GAME = 'BGM';\nconst NS_EXPLOSION = 'EXPL';\nconst NS_FLOW = 'FLW';\nconst NS_CHAT = 'CHT';\nconst NS_DIALOG = 'DLG';\nconst NS_INPUT = 'INP';\nconst NS_GAME = 'GAM';\nconst NS_MSGBOX = 'MSG';\nconst NS_ROOM = 'ROM';\nconst NS_ROUND = 'RND';\nconst NS_ROUND_SET = 'RST';\nconst NS_PRE_GAME = 'PGM';\nconst NS_SCORE = 'SCR';\nconst NS_SNAKE = 'SNK';\nconst NS_SNAKE_CONTROLS = 'SNKC';\nconst NS_HEARTBEAT = 'HBT';\nconst NS_SOCKET = 'SOK';\nconst NS_SPAWN = 'SPN';\nconst NS_STAGES = 'STG';\n\nconst EV_GAME_TICK = 'TIK';\nconst EV_WIN_FOCUS_CHANGE = 'WFC';\nconst EV_FONT_LOAD = 'FLD';\nconst EV_PLAYERS_UPDATED = 'PU';\n\nconst STORAGE_MUTE = 'MUT';\nconst STORAGE_NAME = 'NME';\nconst STORAGE_XSS = 'XSS';\nconst STORAGE_COLOR = 'CLR';\nconst STORAGE_PREFS = 'PRF';\n\nconst UC_ARR_LEFT = '\\u2190';\nconst UC_ARR_UP = '\\u2191';\nconst UC_ARR_RIGHT = '\\u2192';\nconst UC_ARR_DOWN = '\\u2193';\nconst UC_CODE = '\\u2263';\nconst UC_ELECTRIC = '\\u2301';\nconst UC_HOURGLASS = '\\u231B';\nconst UC_ENTER_KEY = '\\u23ce';\nconst UC_SQUARE = '\\u25a0';\nconst UC_TR_LEFT = '\\u25c0';\nconst UC_TR_RIGHT = '\\u25b6';\nconst UC_TR_UP = '\\u25b2';\nconst UC_TR_DOWN = '\\u25bc';\nconst UC_APPLE = '\\u25ce'; // Bullseye\nconst UC_SKULL = '\\u2620';\nconst UC_FROWNY_FACE = '\\u2639';\nconst UC_HAPPY_FACE = '\\u263A';\nconst UC_WHITE_HEART = '\\u2661';\nconst UC_BLACK_HEART = '\\u2665';\nconst UC_MUSIC = '\\u266b';\nconst UC_YES = '\\u2714';\nconst UC_NO = '\\u2717';\nconst UC_BULB = '\\u2800'; // Braille range.\nconst UC_BUG = '\\u2801';\nconst UC_FONT = '\\u2802';\nconst UC_LOCK = '\\u2803';\n\n\n//# sourceURL=webpack://xssnake/./client/const.js?");

/***/ }),

/***/ "./client/copy/copy.ts":
/*!*****************************!*\
  !*** ./client/copy/copy.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.COPY_AUTOJOIN_PLAYERS = exports.COPY_AUTOJOIN_FETCHING = exports.COPY_AUTOJOIN_CONNECTING = exports.COPY_AUTOJOIN_HEADER = exports.COPY_BOOL = exports.COPY_FIELD_TRUE_OPT9 = exports.COPY_FIELD_TRUE_OPT8 = exports.COPY_FIELD_TRUE_OPT7 = exports.COPY_FIELD_TRUE_OPT6 = exports.COPY_FIELD_TRUE_OPT5 = exports.COPY_FIELD_TRUE_OPT4 = exports.COPY_FIELD_TRUE_OPT3 = exports.COPY_FIELD_TRUE_OPT2 = exports.COPY_FIELD_TRUE_OPT1 = exports.COPY_FIELD_BUGS = exports.COPY_FIELD_MAX_PLAYERS = exports.COPY_FIELD_XSS = exports.COPY_FIELD_PRIVATE = exports.COPY_FIELD_POWERUPS = exports.COPY_OPTIONS_STAGE_HEADER = exports.COPY_FIELD_LEVEL_SET = exports.COPY_FIELD_FALSE = exports.COPY_FIELD_TRUE = exports.COPY_SOCKET_SERVER_AWAY = exports.COPY_SOCKET_CANNOT_CONNECT = exports.COPY_SOCKET_CONNECTION_LOST = exports.COPY_COUNTDOWN_BODY = exports.COPY_COUNTDOWN_TITLE = exports.COPY_FORM_INSTRUCT = exports.COPY_MAIN_INSTRUCT = exports.COPY_DEF = exports.COPY_JOINER = exports.COPY_ELLIPSIS = exports.COPY_SPACE_AND_SPACE = exports.COPY_COMMA_SPACE = exports.COPY_LEVELSET_GAME = exports.COPY_LEVELSET_MAZE = exports.COPY_LEVELSET_MOVING = exports.COPY_LEVELSET_BASIC = exports.COPY_DIALOG_CANCEL = exports.COPY_DIALOG_OK = exports.COPY_ERROR = exports.COPY_CONFIRM_EXIT_BODY_DRAMATIC = exports.COPY_CONFIRM_EXIT_BODY = exports.COPY_CONFIRM_EXIT_HEADER = exports.COPY_CONFIRM_START_BODY = exports.COPY_CONFIRM_START_HEADER = exports.COPY_AWAITING_PLAYERS_START_NOW = exports.COPY_AWAITING_PLAYERS_BODY = exports.COPY_AWAITING_PLAYERS_HEADER = void 0;\nexports.COPY_ROUND_NEW_BODY = exports.COPY_ROUND_WINNER_TITLE = exports.COPY_ROUND_DRAW_TITLE = exports.COPY_SNAKE_CRASHED = exports.COPY_PLAYER_QUIT = exports.COPY_PLAYER_JOINED = exports.COPY_CONNECTING = exports.COPY_CHAT_INSTRUCT = exports.COPY_AUTOJOIN_ENTER_NAME = void 0;\nvar const_1 = __webpack_require__(/*! ../../shared/const */ \"./shared/const.ts\");\nvar client_util_1 = __webpack_require__(/*! ../util/client_util */ \"./client/util/client_util.ts\");\nvar const_2 = __webpack_require__(/*! ../const */ \"./client/const.js\");\nexports.COPY_AWAITING_PLAYERS_HEADER = 'Msg your friends';\nexports.COPY_AWAITING_PLAYERS_BODY = 'You can fit {0} more player{1} in this room! Share the current page URL with your online friends to allow direct access.';\nexports.COPY_AWAITING_PLAYERS_START_NOW = 'Press S to start now.';\nexports.COPY_CONFIRM_START_HEADER = 'Confirm start';\nexports.COPY_CONFIRM_START_BODY = 'Do you really want to start the game before the room is full?';\nexports.COPY_CONFIRM_EXIT_HEADER = 'Confirm exit';\nexports.COPY_CONFIRM_EXIT_BODY = 'Do you really want to leave this room?';\nexports.COPY_CONFIRM_EXIT_BODY_DRAMATIC = 'Do you REALLY want to leave that other player ALL ALONE in this room?';\n// Invalid room.\nexports.COPY_ERROR = [];\nexports.COPY_ERROR[const_1.ROOM_INVALID_KEY] = 'Invalid room key'.toUpperCase();\nexports.COPY_ERROR[const_1.ROOM_NOT_FOUND] = 'Room not found'.toUpperCase();\nexports.COPY_ERROR[const_1.ROOM_FULL] = 'The room is full!'.toUpperCase();\nexports.COPY_ERROR[const_1.ROOM_IN_PROGRESS] = 'Game in progress'.toUpperCase();\nexports.COPY_ERROR[const_1.ROOM_UNKNOWN_ERROR] = 'Unknown errooshiii#^%^'.toUpperCase();\n// Dialog common.\nexports.COPY_DIALOG_OK = 'Ok'.toUpperCase();\nexports.COPY_DIALOG_CANCEL = 'Cancel'.toUpperCase();\n// Level sets.\nexports.COPY_LEVELSET_BASIC = 'Basic';\nexports.COPY_LEVELSET_MOVING = 'Moving';\nexports.COPY_LEVELSET_MAZE = 'Mazes';\nexports.COPY_LEVELSET_GAME = 'Pactris';\n// Stages misc.\nexports.COPY_COMMA_SPACE = ', ';\nexports.COPY_SPACE_AND_SPACE = ' & ';\nexports.COPY_ELLIPSIS = ' …';\nexports.COPY_JOINER = ' …\\n';\nexports.COPY_DEF = ':  ';\n// Main stage.\nexports.COPY_MAIN_INSTRUCT = [\n    'M to mute/unmute sounds',\n    (client_util_1.isMac() ? 'Cmd+Ctrl+F11' : 'F11') + ' to enter/exit fullscreen',\n    'Arrow keys, Esc and ' + const_2.UC_ENTER_KEY + ' to navigate'\n].join(exports.COPY_JOINER);\n// Form stage.\nexports.COPY_FORM_INSTRUCT = [\n    const_2.UC_ARR_UP + ' & ' + const_2.UC_ARR_DOWN + ' to select an option',\n    const_2.UC_ARR_LEFT + ' & ' + const_2.UC_ARR_RIGHT + ' to change the value',\n    const_2.UC_ENTER_KEY + ' to continue'\n].join(exports.COPY_JOINER);\n// Pre-game dialog.\nexports.COPY_COUNTDOWN_TITLE = 'Get ready!';\nexports.COPY_COUNTDOWN_BODY = 'Game starting in: {0}';\n// Lost connection.\nexports.COPY_SOCKET_CONNECTION_LOST = 'Connection lost';\nexports.COPY_SOCKET_CANNOT_CONNECT = 'Cannot connect';\nexports.COPY_SOCKET_SERVER_AWAY = 'Server went away';\n// Game options stage.\nexports.COPY_FIELD_TRUE = 'Yes';\nexports.COPY_FIELD_FALSE = 'No';\nexports.COPY_FIELD_LEVEL_SET = 'Level Set';\nexports.COPY_OPTIONS_STAGE_HEADER = 'Game Options';\nexports.COPY_FIELD_POWERUPS = 'Power-Ups';\nexports.COPY_FIELD_PRIVATE = 'Private Room';\nexports.COPY_FIELD_XSS = 'Winner fires XSS';\nexports.COPY_FIELD_MAX_PLAYERS = 'Max Players';\nexports.COPY_FIELD_BUGS = 'WEIRD BUGS ' + const_2.UC_BUG;\nexports.COPY_FIELD_TRUE_OPT1 = exports.COPY_FIELD_TRUE;\nexports.COPY_FIELD_TRUE_OPT2 = 'Enable';\nexports.COPY_FIELD_TRUE_OPT3 = 'OK';\nexports.COPY_FIELD_TRUE_OPT4 = 'True';\nexports.COPY_FIELD_TRUE_OPT5 = 'Accept';\nexports.COPY_FIELD_TRUE_OPT6 = 'Hao';\nexports.COPY_FIELD_TRUE_OPT7 = 'Oui!';\nexports.COPY_FIELD_TRUE_OPT8 = 'Si Senor';\nexports.COPY_FIELD_TRUE_OPT9 = const_2.UC_YES;\nexports.COPY_BOOL = [exports.COPY_FIELD_FALSE, exports.COPY_FIELD_TRUE];\n// Join room by key.\nexports.COPY_AUTOJOIN_HEADER = 'Auto-Join room'.toUpperCase();\nexports.COPY_AUTOJOIN_CONNECTING = 'Connecting to server…';\nexports.COPY_AUTOJOIN_FETCHING = 'Getting room properties…';\nexports.COPY_AUTOJOIN_PLAYERS = 'Players ({0})';\nexports.COPY_AUTOJOIN_ENTER_NAME = 'Enter your name to join: ';\nexports.COPY_CHAT_INSTRUCT = 'Press ' + const_2.UC_ENTER_KEY + ' to chat.';\n// Game stage connecting\nexports.COPY_CONNECTING = 'Connecting...';\n// Chat.\nexports.COPY_PLAYER_JOINED = '{0} joined.';\nexports.COPY_PLAYER_QUIT = '{0} quit.';\n// Notify snake crashes.\nexports.COPY_SNAKE_CRASHED = ' crashed.';\n// Round winner.\nexports.COPY_ROUND_DRAW_TITLE = 'Round ended in a draw'.toUpperCase();\nexports.COPY_ROUND_WINNER_TITLE = '{0} won!'.toUpperCase();\nexports.COPY_ROUND_NEW_BODY = 'New round starting in: {0}';\n\n\n//# sourceURL=webpack://xssnake/./client/copy/copy.ts?");

/***/ }),

/***/ "./client/index.ts":
/*!*************************!*\
  !*** ./client/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/* see bootstrap/main.js */\nvar crosshair_1 = __webpack_require__(/*! ../shared/levels/debug/crosshair */ \"./shared/levels/debug/crosshair.ts\");\nvar lines_1 = __webpack_require__(/*! ../shared/levels/debug/lines */ \"./shared/levels/debug/lines.ts\");\nvar registry_1 = __webpack_require__(/*! ../shared/levelset/registry */ \"./shared/levelset/registry.ts\");\nvar basic_1 = __webpack_require__(/*! ../shared/levelsets/basic */ \"./shared/levelsets/basic.ts\");\nvar basic = new basic_1.Basic();\nbasic.register(lines_1.LinesLevel);\nbasic.register(crosshair_1.CrosshairLevel);\nvar levelsetRegistry = new registry_1.Registry();\nlevelsetRegistry.register(basic);\nlevelsetRegistry.preloadLevels();\n// xss.canvas    = new xss.Canvas();\n// xss.shapegen  = new xss.ClientShapeGenerator();\n// xss.transform = new xss.Transform();\n// xss.audio     = new xss.AudioPlayer();\n// xss.flow      = new xss.StageFlow();\n\n\n//# sourceURL=webpack://xssnake/./client/index.ts?");

/***/ }),

/***/ "./client/level/imageDecoder.ts":
/*!**************************************!*\
  !*** ./client/level/imageDecoder.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ImageDecoder = void 0;\n/**\n * Level image decoder for Client\n * @param {string} data\n * @constructor\n */\nvar ImageDecoder = /** @class */ (function () {\n    function ImageDecoder(data) {\n        this.successFn = function () { };\n        this.image = new Image();\n        this.image.src = 'data:image/png;base64,' + data;\n        this.image.onload = this.readFromCanvas.bind(this);\n    }\n    ImageDecoder.prototype.readFromCanvas = function () {\n        var canvas, ctx, imagedata;\n        canvas = document.createElement('canvas');\n        canvas.width = this.image.width;\n        canvas.height = this.image.height;\n        ctx = canvas.getContext('2d');\n        ctx.drawImage(this.image, 0, 0);\n        imagedata = ctx.getImageData(0, 0, this.image.width, this.image.height);\n        this.successFn(imagedata);\n    };\n    /**\n     * @param {Function} successFn\n     */\n    ImageDecoder.prototype.then = function (successFn) {\n        // TODO: uses async\n        this.successFn = successFn;\n    };\n    return ImageDecoder;\n}());\nexports.ImageDecoder = ImageDecoder;\n\n\n//# sourceURL=webpack://xssnake/./client/level/imageDecoder.ts?");

/***/ }),

/***/ "./client/state/state.ts":
/*!*******************************!*\
  !*** ./client/state/state.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.State = void 0;\nvar State = /** @class */ (function () {\n    function State() {\n    }\n    Object.defineProperty(State, \"shapes\", {\n        get: function () {\n            if (!State._shapes) {\n                console.log(\"Create!\");\n                State._shapes = [];\n            }\n            else {\n                console.log(\"Get existing?\");\n            }\n            return State._shapes;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return State;\n}());\nexports.State = State;\n\n\n//# sourceURL=webpack://xssnake/./client/state/state.ts?");

/***/ }),

/***/ "./client/ui/clientShapes.ts":
/*!***********************************!*\
  !*** ./client/ui/clientShapes.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.explosion = exports.header = exports.outerBorder = exports.innerBorder = exports.showAction = exports.tooltipName = exports.tooltip = void 0;\nvar const_1 = __webpack_require__(/*! ../../shared/const */ \"./shared/const.ts\");\nvar pixelCollection_1 = __webpack_require__(/*! ../../shared/pixelCollection */ \"./shared/pixelCollection.ts\");\nvar shape_1 = __webpack_require__(/*! ../../shared/shape */ \"./shared/shape.ts\");\nvar shapeGenerator_1 = __webpack_require__(/*! ../../shared/shapeGenerator */ \"./shared/shapeGenerator.ts\");\nvar util_1 = __webpack_require__(/*! ../../shared/util */ \"./shared/util.ts\");\nvar const_2 = __webpack_require__(/*! ../const */ \"./client/const.js\");\nvar state_1 = __webpack_require__(/*! ../state/state */ \"./client/state/state.ts\");\nvar font_1 = __webpack_require__(/*! ./font */ \"./client/ui/font.ts\");\nvar transform_1 = __webpack_require__(/*! ./transform */ \"./client/ui/transform.ts\");\n/**\n * @param {string} text\n * @param {number} x\n * @param {number} y\n * @param {number} direction\n * @return {xss.Shape}\n */\nfunction tooltip(text, x, y, direction) {\n    var width, shape, hw;\n    width = font_1.fontWidth(text);\n    switch (direction) {\n        case 0:\n            shape = font_1.font(text, x - width - 6, y - 4);\n            // Left\n            shape.add(shapeGenerator_1.line(x - width - 9, y - 5, x - width - 9, y + 3));\n            // Top\n            shape.add(shapeGenerator_1.line(x - width - 8, y - 6, x - 6, y - 6));\n            // Bottoms\n            shape.add(shapeGenerator_1.line(x - width - 9, y + 4, x - 5, y + 4));\n            shape.add(shapeGenerator_1.line(x - width - 8, y + 5, x - 6, y + 5));\n            // Top 1px\n            shape.add(shapeGenerator_1.line(x - 5, y - 5, x - 5, y - 5));\n            // Pointer\n            shape.add(shapeGenerator_1.line(x - 5, y - 4, x - 2, y - 1));\n            shape.add(shapeGenerator_1.line(x - 5, y + 2, x - 2, y - 1));\n            shape.add(shapeGenerator_1.line(x - 5, y + 3, x - 2, y));\n            break;\n        case 1:\n            hw = Math.ceil(width / 2);\n            shape = font_1.font(text, x - hw, y - 13);\n            // Top\n            shape.add(shapeGenerator_1.line(x - hw - 2, y - 15, x + hw + 1, y - 15));\n            // Left\n            shape.add(shapeGenerator_1.line(x - hw - 3, y - 5, x - hw - 3, y - 14));\n            // Bottoms\n            shape.add(shapeGenerator_1.line(x + -hw - 2, y - 4, x + hw + 1, y - 4));\n            shape.add(shapeGenerator_1.line(x + -hw - 2, y - 5, x + hw + 1, y - 5));\n            // Right\n            shape.add(shapeGenerator_1.line(x + hw + 2, y - 5, x + hw + 2, y - 14));\n            // Pointer\n            shape.add(shapeGenerator_1.line(x - 1, y - 1, x - 4, y - 4));\n            shape.add(shapeGenerator_1.line(x - 1, y - 2, x - 4, y - 5));\n            shape.add(shapeGenerator_1.line(x, y - 1, x + 3, y - 4));\n            shape.add(shapeGenerator_1.line(x, y - 2, x + 3, y - 5));\n            shape.remove(shapeGenerator_1.line(x - 3, y - 4, x + 3, y - 4));\n            shape.remove(shapeGenerator_1.line(x - 3, y - 5, x + 3, y - 5));\n            break;\n        case 2:\n            shape = font_1.font(text, x + 8, y - 4);\n            // Right\n            shape.add(shapeGenerator_1.line(x + width + 9, y - 5, x + width + 9, y + 3));\n            // Top\n            shape.add(shapeGenerator_1.line(x + width + 8, y - 6, x + 6, y - 6));\n            // Bottom\n            shape.add(shapeGenerator_1.line(x + width + 9, y + 4, x + 5, y + 4));\n            shape.add(shapeGenerator_1.line(x + width + 8, y + 5, x + 6, y + 5));\n            // Top 1px\n            shape.add(shapeGenerator_1.line(x + 5, y - 5, x + 5, y - 5));\n            // Pointer\n            shape.add(shapeGenerator_1.line(x + 5, y - 4, x + 2, y - 1));\n            shape.add(shapeGenerator_1.line(x + 5, y + 2, x + 2, y - 1));\n            shape.add(shapeGenerator_1.line(x + 5, y + 3, x + 2, y));\n            break;\n        case 3:\n            hw = Math.ceil(width / 2);\n            shape = font_1.font(text, x - hw, y + 6);\n            // Top\n            shape.add(shapeGenerator_1.line(x + -hw - 2, y + 4, x + hw + 1, y + 4));\n            // Left\n            shape.add(shapeGenerator_1.line(x - hw - 3, y + 5, x - hw - 3, y + 14));\n            // Bottoms\n            shape.add(shapeGenerator_1.line(x - hw - 2, y + 14, x + hw + 1, y + 14));\n            shape.add(shapeGenerator_1.line(x - hw - 2, y + 15, x + hw + 1, y + 15));\n            // Right\n            shape.add(shapeGenerator_1.line(x + hw + 2, y + 5, x + hw + 2, y + 14));\n            // Pointer\n            shape.add(shapeGenerator_1.line(x - 1, y + 1, x - 4, y + 4));\n            shape.add(shapeGenerator_1.line(x, y + 1, x + 3, y + 4));\n            shape.remove(shapeGenerator_1.line(x - 3, y + 4, x + 3, y + 4));\n            break;\n    }\n    shape.isOverlay = true;\n    shape.bbox();\n    return shape;\n}\nexports.tooltip = tooltip;\n/**\n * @param {string} text\n * @param {xss.Coordinate} part\n * @param {number} direction\n * @return {xss.Shape}\n */\nfunction tooltipName(text, part, direction) {\n    var x, y, t = const_1.GAME_TILE, d = const_1.GAME_TILE * 2.5;\n    x = part[0] * t;\n    y = part[1] * t;\n    switch (direction) {\n        case const_1.DIRECTION_LEFT:\n            y += t;\n            x -= t;\n            break;\n        case const_1.DIRECTION_UP:\n            y -= t;\n            x += t;\n            break;\n        case const_1.DIRECTION_RIGHT:\n            y += t;\n            x += d;\n            break;\n        case const_1.DIRECTION_DOWN:\n            y += d;\n            x += t;\n            break;\n    }\n    return tooltip(text, x, y, direction);\n}\nexports.tooltipName = tooltipName;\n/**\n * @param {string} label\n * @param {xss.Coordinate} coordinate\n * @param {number} duration\n * @param {number=} amount\n */\nfunction showAction(label, coordinate, duration, amount) {\n    amount = amount || 3;\n    for (var s = 0; s <= duration * amount; s += duration) {\n        var shape, name;\n        shape = font_1.font(label, coordinate[0] * const_1.GAME_TILE + util_1.randomRange(-12, 12), coordinate[1] * const_1.GAME_TILE + util_1.randomRange(-12, 12));\n        name = const_2.NS_ACTION + util_1.randomStr();\n        state_1.State.shapes[name] = shape.lifetime(s, s + duration);\n    }\n}\nexports.showAction = showAction;\n/**\n * @return {xss.Shape}\n */\nfunction innerBorder() {\n    var w = const_1.WIDTH - 1, h = const_1.HEIGHT - 1;\n    return new shape_1.Shape(this.line(2, h - 25, w - 2, h - 25), this.line(2, h - 26, w - 2, h - 26));\n}\nexports.innerBorder = innerBorder;\n/**\n * @param {function(string, xss.Shape)} callbackFn\n */\nfunction outerBorder(callbackFn) {\n    var shapes = {}, w, h;\n    w = const_1.WIDTH - 1;\n    h = const_1.HEIGHT - 1;\n    // Splitting this up or it spans too big of an area\n    shapes.outerBorderTop = new shape_1.Shape(this.line(1, 0, w - 1, 0), this.line(0, 1, w, 1));\n    shapes.outerBorderRight = new shape_1.Shape(this.line(w, 2, w, h - 2), this.line(w - 1, 2, w - 1, h - 2));\n    shapes.outerBorderBottom = new shape_1.Shape(this.line(1, h, w - 1, h), this.line(0, h - 1, w, h - 1));\n    shapes.outerBorderLeft = new shape_1.Shape(this.line(0, 2, 0, h - 2), this.line(1, 2, 1, h - 2));\n    for (var k in shapes) {\n        if (shapes.hasOwnProperty(k)) {\n            callbackFn(k, shapes[k]);\n        }\n    }\n}\nexports.outerBorder = outerBorder;\n/**\n * @return {xss.Shape}\n */\nfunction header() {\n    var x, y, shape, welcome = font_1.font('<XSSNAKE>').pixels;\n    x = const_2.MENU_LEFT - 2;\n    y = const_2.MENU_TOP - 34;\n    shape = new shape_1.Shape(transform_1.zoom(4, welcome, x, y));\n    x += 2;\n    y += 28;\n    shape.add(this.line(x, y, x + const_2.MENU_WIDTH, y));\n    return shape;\n}\nexports.header = header;\n/**\n * @param {xss.Coordinate} location\n * @param {number=} direction\n * @param {number=} intensity\n */\nfunction explosion(location, direction, intensity) {\n    var pixel, shape, to, duration, w, d;\n    w = 10;\n    d = 20;\n    intensity = intensity || 16;\n    while (intensity--) {\n        switch (direction) {\n            case const_1.DIRECTION_LEFT:\n                to = [util_1.randomRange(-w, d), util_1.randomRange(-w, w)];\n                break;\n            case const_1.DIRECTION_UP:\n                to = [util_1.randomRange(-w, w), util_1.randomRange(-d, w)];\n                break;\n            case const_1.DIRECTION_RIGHT:\n                to = [util_1.randomRange(-d, w), util_1.randomRange(-w, w)];\n                break;\n            case const_1.DIRECTION_DOWN:\n                to = [util_1.randomRange(-w, w), util_1.randomRange(-w, d)];\n                break;\n            default:\n                to = [util_1.randomRange(-d, d), util_1.randomRange(-d, d)];\n        }\n        pixel = new pixelCollection_1.PixelCollection().add(location[0], location[1]);\n        duration = Math.pow(util_1.randomRange(1, 10), 3);\n        shape = new shape_1.Shape(pixel);\n        shape.animate({ to: to, duration: duration }).lifetime(0, duration);\n        state_1.State.shapes[const_2.NS_EXPLOSION + util_1.randomStr(3)] = shape;\n    }\n}\nexports.explosion = explosion;\n\n\n//# sourceURL=webpack://xssnake/./client/ui/clientShapes.ts?");

/***/ }),

/***/ "./client/ui/font.ts":
/*!***************************!*\
  !*** ./client/ui/font.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getKerning = exports.getMaxes = exports.endPos = exports.fastWidth = exports.fontWidth = exports.fontHeight = exports.font = void 0;\nvar pixelCollection_1 = __webpack_require__(/*! ../../shared/pixelCollection */ \"./shared/pixelCollection.ts\");\nvar shape_1 = __webpack_require__(/*! ../../shared/shape */ \"./shared/shape.ts\");\nvar transform_1 = __webpack_require__(/*! ../../shared/transform */ \"./shared/transform.ts\");\nvar const_1 = __webpack_require__(/*! ../const */ \"./client/const.js\");\nvar MAX_WIDTH = 9;\nvar MAX_HEIGHT = 7;\nvar BASELINE = 6;\nvar LINE_HEIGHT = 8;\nvar BLURRY_TRESHOLD = 3;\nvar _cache = {};\nvar _ctx = _getContext();\nfunction font(str, x, y, options) {\n    if (x === void 0) { x = 0; }\n    if (y === void 0) { y = 0; }\n    if (options === void 0) { options = {}; }\n    var chrs, pointer, shape = new shape_1.Shape(), tabx1;\n    pointer = { x: 0, y: 0 };\n    chrs = str.split('');\n    for (var i = 0, m = chrs.length; i < m; i++) {\n        var width, nextWordFit = true, chr = chrs[i];\n        width = _appendChr(x, y, shape, chrs[i], pointer);\n        if (options.wrap && chr.match(/[\\s\\-]/)) {\n            nextWordFit = _nextWordFit(str, i, pointer, options.wrap);\n        }\n        if (chr === '\\t') {\n            if (tabx1) {\n                pointer.x = tabx1;\n            }\n            else {\n                pointer.x = tabx1 = _getTabx1(str);\n            }\n        }\n        else if (chr === '\\n' || !nextWordFit) {\n            pointer.x = 0;\n            pointer.y += LINE_HEIGHT;\n        }\n        else {\n            pointer.x += width + 2;\n        }\n    }\n    if (options.invert) {\n        _invert(shape, y);\n    }\n    return shape;\n}\nexports.font = font;\n/**\n * @param {string} str\n * @param {number=} x\n * @param {number=} y\n * @param {Object=} options\n * @return {number}\n */\nfunction fontHeight(str, x, y, options) {\n    if (x === void 0) { x = 0; }\n    if (y === void 0) { y = 0; }\n    if (options === void 0) { options = {}; }\n    var remainder, height, LH = LINE_HEIGHT;\n    height = font(str, x, y, options).pixels.pixels.length + 1;\n    // Don't allow absence of font descenders affect height.\n    remainder = LH - ((height - (y || 0)) % LH || LH);\n    return height + remainder;\n}\nexports.fontHeight = fontHeight;\n/**\n * @param {string} str\n * @param {number=} x\n * @param {number=} y\n * @param {Object=} options\n * @return {number}\n */\nfunction fontWidth(str, x, y, options) {\n    if (x === void 0) { x = 0; }\n    if (y === void 0) { y = 0; }\n    if (options === void 0) { options = {}; }\n    var pixels, width, maxes = [0];\n    pixels = font(str, x, y, options).pixels;\n    for (var i = pixels.pixels.length - LINE_HEIGHT + 1, m = pixels.pixels.length; i < m; i++) {\n        if (pixels.pixels[i]) {\n            maxes.push(Math.max.apply(this, pixels.pixels[i]));\n        }\n    }\n    width = Math.max.apply(this, maxes) + 2;\n    // Ends with a space. Ending with multiple spaces not supported.\n    if (' ' === str.slice(-1)) {\n        width += 3;\n    }\n    return width;\n}\nexports.fontWidth = fontWidth;\n/**\n * Ignores kerning.\n * @param {string} str\n * @return {number}\n */\nfunction fastWidth(str) {\n    var chrs, width = 0;\n    chrs = str.split('\\n');\n    chrs = chrs[chrs.length - 1].split('');\n    for (var i = 0, m = chrs.length; i < m; i++) {\n        width += _chrProperties(chrs[i]).width;\n        width += 2;\n    }\n    return width;\n}\nexports.fastWidth = fastWidth;\n/**\n * @param {string} str\n * @param {number=} x\n * @param {number=} y\n * @param {Object=} options\n * @return {Array}\n */\nfunction endPos(str, x, y, options) {\n    return [\n        fontWidth(str, x, y, options),\n        fontHeight(str, x, y, options) - LINE_HEIGHT\n    ];\n}\nexports.endPos = endPos;\n// /**\n//  * @private\n//  */\n// function _detectFontLoad() {\n//     var props = _getChrProperties(xss.UC_HOURGLASS);\n//     if (props && 8 === props.width) {\n//         loaded = true;\n//         xss.event.trigger(xss.EV_FONT_LOAD);\n//     } else {\n//         window.setTimeout(_detectFontLoad.bind(this), 0);\n//     }\n// }\n/**\n * @param chr\n * @return {Object}\n * @private\n */\nfunction _chrProperties(chr) {\n    if (!_cache[chr]) {\n        var chrProperties = _getChrProperties(chr);\n        _cache[chr] = chrProperties || _chrProperties(const_1.UC_SQUARE);\n    }\n    return _cache[chr];\n}\n/**\n * @param {number} x\n * @param {number} y\n * @param {xss.Shape} shape\n * @param {string} chr\n * @param {Object.<string,number>} pointer\n * @return {number}\n * @private\n */\nfunction _appendChr(x, y, shape, chr, pointer) {\n    var chrProperties, shiftedPixels, kerning = 0;\n    chrProperties = _chrProperties(chr);\n    if (pointer.x) {\n        kerning = getKerning(x, y, shape, pointer, chrProperties);\n    }\n    shiftedPixels = transform_1.shift(chrProperties.pixels, pointer.x + x + kerning, pointer.y + y);\n    shape.add(shiftedPixels);\n    return chrProperties.width + kerning;\n}\nfunction getMaxes(x, y, shape, pointer) {\n    var maxes = [];\n    for (var i = 0; i < LINE_HEIGHT; i++) {\n        if (shape.pixels.pixels[y + pointer.y + i]) {\n            maxes[i] = Math.max.apply(this, shape.pixels.pixels[y + pointer.y + i]) - x;\n        }\n    }\n    return maxes;\n}\nexports.getMaxes = getMaxes;\nfunction getKerning(x, y, shape, pointer, chrProperties) {\n    var gap, gaps = [], maxes = getMaxes(x, y, shape, pointer);\n    for (var i = 0; i < LINE_HEIGHT; i++) {\n        var min = null, max;\n        if (chrProperties.pixels.pixels[i]) {\n            min = Math.min.apply(this, chrProperties.pixels.pixels[i]);\n        }\n        max = Math.max(maxes[i - 1] || 0, maxes[i] || 0, maxes[i + 1] || 0);\n        if (min !== null) {\n            gaps.push((pointer.x - max) + min);\n        }\n    }\n    gap = Math.min.apply(this, gaps);\n    return Math.max(-1, 2 - gap);\n}\nexports.getKerning = getKerning;\n/**\n * Determine whether the next word will fit on the same line or not.\n * @param {string} str\n * @param {number} i\n * @param {Object.<string,number>} pointer\n * @param {number} wrap\n * @return {boolean}\n * @private\n */\nfunction _nextWordFit(str, i, pointer, wrap) {\n    var nextWord = str.substr(i + 1).split(/[\\s\\-]/)[0];\n    return (pointer.x + fastWidth(nextWord) <= wrap);\n}\n/**\n * Determine X position for tab end to align a two-column table.\n * Note to future self: Does not work for more than one tab per line.\n * @param {string} str\n * @return {number}\n * @private\n */\nfunction _getTabx1(str) {\n    var maxtab = 0;\n    var lines = str.split(/\\n/g);\n    for (var i = 0, m = lines.length; i < m; i++) {\n        var segments = lines[i].split('\\t');\n        if (segments.length >= 2) {\n            maxtab = Math.max(maxtab, fontWidth('  ' + segments[0]));\n        }\n    }\n    return maxtab;\n}\n/**\n * @param {xss.Shape} shape\n * @param {number} y\n * @private\n */\nfunction _invert(shape, y) {\n    var bbox = shape.bbox();\n    bbox.expand(1);\n    bbox.y0 = y - 1;\n    bbox.y1 = y + LINE_HEIGHT;\n    shape.invert(bbox);\n}\n/**\n * @return {CanvasRenderingContext2D}\n * @private\n */\nfunction _getContext() {\n    var canvas, context, font;\n    canvas = document.createElement('canvas');\n    canvas.width = MAX_WIDTH;\n    canvas.height = MAX_HEIGHT;\n    context = canvas.getContext('2d');\n    // \"xssnake\" is a special font that was crafted for this game.\n    font = '8px xssnake';\n    // Specify blurry fonts in the fallback, to make it easier to detect\n    // glyphs that are (un)supported by the xssnake font.\n    font += ', courier new, serif';\n    context.font = font;\n    return context;\n}\n/**\n * @param {string} chr\n * @return {{width: number, pixels: xss.PixelCollection}|null}\n * @private\n */\nfunction _getChrProperties(chr) {\n    var data, pixels = new pixelCollection_1.PixelCollection(), width = 0, len = 0, blurry = 0, valid, w = MAX_WIDTH, h = MAX_HEIGHT;\n    // Handle whitespace characters\n    if (chr.match(/\\s/)) {\n        return { width: 3, pixels: pixels };\n    }\n    _ctx.fillStyle = '#000';\n    _ctx.fillRect(0, 0, w, h);\n    _ctx.fillStyle = '#fff';\n    _ctx.fillText(chr, 0, BASELINE);\n    data = _ctx.getImageData(0, 0, w, h).data;\n    for (var i = 0, m = data.length; i < m; i += 4) {\n        // When this does not work on some OS, try a few presets until\n        // it matches a known pattern.\n        if (data[i] + data[i + 1] + data[i + 2] > 650) {\n            var seq = i / 4, x = seq % w, y = Math.floor(seq / w);\n            pixels.add(x, y);\n            len++;\n            width = Math.max(x, width);\n        }\n        else if (data[i]) {\n            blurry++;\n        }\n    }\n    valid = len && blurry / len <= BLURRY_TRESHOLD;\n    return (valid) ? { width: width, pixels: pixels } : null;\n}\n\n\n//# sourceURL=webpack://xssnake/./client/ui/font.ts?");

/***/ }),

/***/ "./client/ui/transform.ts":
/*!********************************!*\
  !*** ./client/ui/transform.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.zoom = exports.zoomIn = exports.outline = void 0;\n/**\n * @param {xss.Shape} shape\n * @param {number=} hPadding\n * @param {number=} vPadding\n * @param {boolean=} round\n * @return {xss.Shape}\n */\nvar pixelCollection_1 = __webpack_require__(/*! ../../shared/pixelCollection */ \"./shared/pixelCollection.ts\");\nvar shapeGenerator_1 = __webpack_require__(/*! ../../shared/shapeGenerator */ \"./shared/shapeGenerator.ts\");\nfunction outline(shape, hPadding, vPadding, round) {\n    if (hPadding === void 0) { hPadding = 6; }\n    if (vPadding === void 0) { vPadding = 6; }\n    if (round === void 0) { round = true; }\n    var r, x0, x1, y0, y1, bbox = shape.bbox();\n    r = round ? 1 : 0;\n    hPadding = typeof hPadding === 'number' ? hPadding : 6;\n    vPadding = typeof vPadding === 'number' ? vPadding : 6;\n    // Keep in viewport\n    if (bbox.y0 - vPadding < 0) {\n        shape.set(this.shift(shape.pixels, 0, vPadding - bbox.y0));\n        bbox = shape.bbox();\n    }\n    x0 = bbox.x0 - hPadding;\n    x1 = bbox.x1 + hPadding;\n    y0 = bbox.y0 - vPadding;\n    y1 = bbox.y1 + vPadding;\n    shape.add(shapeGenerator_1.line(x0, y0 + 1, x0, y1), // Left\n    shapeGenerator_1.line(x0 + r, y0, x1 - r, y0), // Top\n    shapeGenerator_1.line(x1, y0 + 1, x1, y1), // Right\n    shapeGenerator_1.line(x0, y1, x1, y1), // Bottom\n    shapeGenerator_1.line(x0 + r, y1 + 1, x1 - r, y1 + 1) // Bottom 2\n    );\n    // Don't clear the missing pixel in the corners\n    // because of rounded corners:\n    shape.bbox(-1);\n    return shape;\n}\nexports.outline = outline;\n/**\n * @param {xss.PixelCollection} pixels\n * @param {number=} xshift\n * @param {number=} yshift\n * @return {xss.PixelCollection}\n */\nfunction zoomIn(pixels, xshift, yshift) {\n    if (xshift === void 0) { xshift = 0; }\n    if (yshift === void 0) { yshift = 0; }\n    var ret = new pixelCollection_1.PixelCollection();\n    pixels.each(function (x, y) {\n        var xx = x * 2 + xshift, yy = y * 2 + yshift;\n        ret.add(xx, yy);\n        ret.add(xx, yy + 1);\n        ret.add(xx + 1, yy);\n        ret.add(xx + 1, yy + 1);\n    });\n    return ret;\n}\nexports.zoomIn = zoomIn;\n/**\n * @param {number} zoomlevel (2 or 4)\n * @param {xss.PixelCollection} pixels\n * @param {number=} shiftX\n * @param {number=} shiftY\n * @param {boolean=} antiAlising\n * @return {xss.PixelCollection}\n */\nfunction zoom(zoomlevel, pixels, shiftX, shiftY, antiAlising) {\n    if (shiftX === void 0) { shiftX = 0; }\n    if (shiftY === void 0) { shiftY = 0; }\n    if (antiAlising === void 0) { antiAlising = true; }\n    var zoomedPixels;\n    shiftX = shiftX || 0;\n    shiftY = shiftY || 0;\n    if (2 === zoomlevel) {\n        zoomedPixels = zoomIn(pixels, shiftX, shiftY);\n    }\n    else if (4 === zoomlevel) {\n        zoomedPixels = zoomIn(pixels);\n        zoomedPixels = zoomIn(zoomedPixels, shiftX, shiftY);\n    }\n    else {\n        return pixels; // Unsupported zoom level.\n    }\n    if (antiAlising !== false) {\n        pixels.each(function (x, y) {\n            for (var dirX = -1; dirX <= 1; dirX += 2) {\n                for (var dirY = -1; dirY <= 1; dirY += 2) {\n                    handlePixel(x, y, dirX, dirY);\n                }\n            }\n        });\n    }\n    function add(dirX, dirY, x, y) {\n        var baseY, baseX;\n        baseX = x * zoomlevel + shiftX;\n        baseY = y * zoomlevel + shiftY;\n        if (2 === zoomlevel) {\n            x = baseX + (dirX === -1 ? 0 : 1);\n            y = baseY + (dirY === -1 ? 0 : 1);\n            zoomedPixels.add(x, y);\n        }\n        if (4 === zoomlevel) {\n            // Anti-aliasing in all directions.\n            for (var dirX2 = -1; dirX2 <= 1; dirX2 += 2) {\n                for (var dirY2 = -1; dirY2 <= 1; dirY2 += 2) {\n                    if (dirX === dirX2 && dirY === dirY2) {\n                        addX4s(baseX, dirX2, baseY, dirY2);\n                    }\n                }\n            }\n        }\n    }\n    // XX#\n    //  XX\n    //   X\n    function addX4s(baseX, dirX2, baseY, dirY2) {\n        var compX, compY;\n        compX = baseX + (dirX2 === -1 ? 0 : 3);\n        compY = baseY + (dirY2 === -1 ? 0 : 3);\n        zoomedPixels.add(compX, compY);\n        zoomedPixels.add(compX - 1 * dirX2, compY);\n        zoomedPixels.add(compX - 2 * dirX2, compY);\n        zoomedPixels.add(compX - 1 * dirX2, compY - dirY2);\n        zoomedPixels.add(compX, compY - dirY2);\n        zoomedPixels.add(compX, compY - 2 * dirY2);\n    }\n    function handlePixel(x, y, dirX, dirY) {\n        // !X\n        // #!\n        if (!pixels.has(x, y - dirY) &&\n            !pixels.has(x + dirX, y) &&\n            pixels.has(x + dirX, y - dirY)) {\n            add(dirX, dirY, x, y - dirY);\n        }\n        // !X\n        // #X\n        if (!pixels.has(x - dirX, y - dirY - dirY) &&\n            !pixels.has(x - dirX, y - dirY) &&\n            !pixels.has(x, y - dirY - dirY) &&\n            !pixels.has(x, y - dirY) &&\n            pixels.has(x + dirX, y) &&\n            pixels.has(x + dirX, y - dirY) && (\n        // !XX\n        // #X\n        // Fixes: 0\n        pixels.has(x + dirX + dirX, y - dirY) ||\n            //  !X\n            // !X!\n            // #X\n            // Fixes: z, Z, 2\n            (pixels.has(x + dirX + dirX, y - dirY - dirY) &&\n                !pixels.has(x + dirX, y - dirY - dirY) &&\n                !pixels.has(x + dirX + dirX, y - dirY)) ||\n            //  !X!\n            //  #X!\n            //   X!\n            //   XO\n            //    O\n            // Fixes: 1, 4, M, N\n            (pixels.has(x + dirX, y + dirY) &&\n                pixels.has(x + dirX, y + dirY + dirY) &&\n                !pixels.has(x - dirX, y) &&\n                !pixels.has(x + dirX + dirX, y - dirY) &&\n                !pixels.has(x + dirX + dirX, y) &&\n                !pixels.has(x + dirX + dirX, y + dirY) && (!pixels.has(x - dirX, y + dirY + dirY) || // Exclude b, d, p\n                pixels.has(x + dirX + dirX, y + dirY + dirY + dirY) || // 1\n                pixels.has(x + dirX + dirX, y + dirY + dirY) // 4\n            )))) {\n            add(dirX, dirY, x, y - dirY);\n        }\n    }\n    return zoomedPixels;\n}\nexports.zoom = zoom;\n\n\n//# sourceURL=webpack://xssnake/./client/ui/transform.ts?");

/***/ }),

/***/ "./client/util/client_util.ts":
/*!************************************!*\
  !*** ./client/util/client_util.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.debounce = exports.translateGame = exports.format = exports.pluralize = exports.hash = exports.isMac = exports.storage = exports.error = exports.instruct = void 0;\nvar const_1 = __webpack_require__(/*! ../../shared/const */ \"./shared/const.ts\");\nvar const_2 = __webpack_require__(/*! ../const */ \"./client/const.js\");\nvar font_1 = __webpack_require__(/*! ../ui/font */ \"./client/ui/font.ts\");\n/**\n * @param {string} str\n * @param {number=} duration\n * @param {boolean=} flash\n */\nfunction instruct(str, duration, flash) {\n    if (duration === void 0) { duration = 2000; }\n    if (flash === void 0) { flash = false; }\n    var shape, x, y;\n    x = const_1.WIDTH - font_1.fontWidth(str) - 2;\n    y = const_1.HEIGHT - font_1.fontHeight(str) - 2;\n    shape = font_1.font(str, x, y, { invert: true });\n    shape.isOverlay = true;\n    shape.lifetime(0, duration);\n    if (flash) {\n        shape.flash();\n    }\n    xss.shapes.INSTRUCTION = shape;\n}\nexports.instruct = instruct;\n/**\n * @param {string} str\n * @param {Function=} callback\n */\nfunction error(str, callback) {\n    var exit, dialog, body;\n    hash();\n    exit = function () {\n        dialog.destruct();\n        if (callback) {\n            callback();\n        }\n        xss.flow.restart();\n    };\n    body = 'Press ' + xss.UC_ENTER_KEY + ' to continue';\n    dialog = new xss.Dialog(str, body, {\n        type: xss.Dialog.TYPE.ALERT,\n        ok: exit\n    });\n}\nexports.error = error;\n;\n/**\n * Simple wrapper for localStorage\n * @param {string=} key\n * @param {*=} value\n * @return {?}\n */\nfunction storage(key, value) {\n    if (arguments.length === 1) {\n        try {\n            return JSON.parse(localStorage.getItem(key));\n        }\n        catch (err) {\n            localStorage.removeItem(key);\n        }\n        return '';\n    }\n    else if (arguments.length === 2) {\n        if (value === null) {\n            localStorage.removeItem(key);\n            return '';\n        }\n        else {\n            return localStorage.setItem(key, JSON.stringify(value));\n        }\n    }\n}\nexports.storage = storage;\n/**\n * @return {boolean}\n */\nfunction isMac() {\n    return (/Macintosh/).test(navigator.appVersion);\n}\nexports.isMac = isMac;\n/**\n * Simple wrapper for location.hash\n * @param {string=} key\n * @param {*=} value\n * @return {?}\n */\nfunction hash(key, value) {\n    if (key === void 0) { key = \"\"; }\n    if (value === void 0) { value = \"\"; }\n    var hash, arr, newhash = '', dict = {};\n    hash = location.hash.substr(1);\n    arr = hash.split(/[:;]/g);\n    // Populate dict\n    for (var i = 0, m = arr.length; i < m; i += 2) {\n        dict[arr[i]] = arr[i + 1];\n    }\n    switch (arguments.length) {\n        case 0: // Empty\n            if (location.hash) {\n                history.replaceState(null, '', location.pathname + location.search);\n            }\n            return;\n        case 1: // Return value\n            return dict[key] || '';\n        case 2: // Set value\n            dict[key] = value;\n            for (var k in dict) {\n                if (dict.hasOwnProperty(k)) {\n                    if (k && dict[k]) {\n                        newhash += k + ':' + dict[k] + ';';\n                    }\n                }\n            }\n            location.replace('#' + newhash.replace(/;$/, ''));\n            return value;\n    }\n}\nexports.hash = hash;\n/**\n * @param {number} num\n * @param {string=} single\n * @param {string=} plural\n * @return {string}\n */\nfunction pluralize(num, single, plural) {\n    return (num === 1) ? (single || '') : (plural || 's');\n}\nexports.pluralize = pluralize;\n;\n/**\n * @param {string} str\n * @param {...(string|number)} varArgs\n * @return {string}\n */\nfunction format(str, varArgs) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return str.replace(/\\{(\\d+)\\}/g, function (match, number) {\n        return args[number];\n    });\n}\nexports.format = format;\n;\n/**\n * @param {xss.Coordinate} coordinate\n * @return {xss.Coordinate}\n */\nfunction translateGame(coordinate) {\n    coordinate[0] = translateGameX(coordinate[0]);\n    coordinate[1] = translateGameY(coordinate[1]);\n    return coordinate;\n}\nexports.translateGame = translateGame;\n;\n/**\n * @param {number} x\n * @return {number}\n */\nfunction translateGameX(x) {\n    return (x * const_1.GAME_TILE) + const_2.GAME_LEFT;\n}\n;\n/**\n * @param {number} y\n * @return {number}\n */\nfunction translateGameY(y) {\n    return (y * const_1.GAME_TILE) + const_2.GAME_TOP;\n}\n/**\n * @param {Function} fn\n * @param {number=} delay\n * @return {Function}\n */\nfunction debounce(fn, delay) {\n    if (delay === void 0) { delay = 100; }\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            timeout = null;\n            fn.apply(context, args);\n        }, 100);\n    };\n}\nexports.debounce = debounce;\n\n\n//# sourceURL=webpack://xssnake/./client/util/client_util.ts?");

/***/ }),

/***/ "./shared/boundingBox.ts":
/*!*******************************!*\
  !*** ./shared/boundingBox.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BoundingBox = void 0;\nvar const_1 = __webpack_require__(/*! ./const */ \"./shared/const.ts\");\n/**\n * @param {xss.PixelCollection=} pixels\n * @constructor\n */\nvar BoundingBox = /** @class */ (function () {\n    function BoundingBox(pixels) {\n        this.x0 = 0;\n        this.x1 = 0;\n        this.y0 = 0;\n        this.y1 = 0;\n        this.width = 0;\n        this.height = 0;\n        if (pixels) {\n            this.calculate(pixels);\n        }\n    }\n    /**\n     * @param {number} expand\n     * @return {xss.BoundingBox}\n     */\n    BoundingBox.prototype.expand = function (expand) {\n        this.x0 -= expand;\n        this.y0 -= expand;\n        this.x1 += expand;\n        this.y1 += expand;\n        this.setDimensions();\n        return this;\n    };\n    /**\n     * @param {xss.PixelCollection} pixels\n     * @return {xss.BoundingBox}\n     * @private\n     */\n    BoundingBox.prototype.calculate = function (pixels) {\n        var x0 = const_1.WIDTH, x1 = 0, y0 = const_1.HEIGHT, y1 = 0;\n        pixels.each(function (x, y) {\n            if (x0 > x) {\n                x0 = x;\n            }\n            if (x1 < x) {\n                x1 = x;\n            }\n            if (y0 > y) {\n                y0 = y;\n            }\n            if (y1 < y) {\n                y1 = y;\n            }\n        });\n        this.x0 = x0;\n        this.x1 = x1;\n        this.y0 = y0;\n        this.y1 = y1;\n        this.setDimensions();\n        return this;\n    };\n    BoundingBox.prototype.setDimensions = function () {\n        this.width = this.x1 - this.x0;\n        this.height = this.y1 - this.y0;\n    };\n    return BoundingBox;\n}());\nexports.BoundingBox = BoundingBox;\n\n\n//# sourceURL=webpack://xssnake/./shared/boundingBox.ts?");

/***/ }),

/***/ "./shared/const.ts":
/*!*************************!*\
  !*** ./shared/const.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SPAWN_CHANCE_APPLE = exports.SPAWN_SOMETHING_EVERY = exports.SECONDS_ROUND_COUNTDOWN = exports.SECONDS_ROUNDSET_GLOAT = exports.SECONDS_ROUND_GLOAT = exports.SECONDS_ROUND_PAUSE = exports.PLAYER_NAME_MAXWIDTH = exports.PLAYER_NAME_MINLENGTH = exports.ROOM_WIN_BY_MIN = exports.ROUNDS_MAX = exports.ROOM_CAPACITY = exports.ROOM_KEY_LENGTH = exports.DIRECTION_DOWN = exports.DIRECTION_RIGHT = exports.DIRECTION_UP = exports.DIRECTION_LEFT = exports.GAME_SHIFT_MAP = exports.HEARTBEAT_INTERVAL_MS = exports.SE_PLAYER_COLLISION = exports.SE_PLAYER_DISCONNECT = exports.NC_XSS = exports.NC_SNAKE_UPDATE = exports.NC_SNAKE_SPEED = exports.NC_SNAKE_SIZE = exports.NC_SNAKE_CRASH = exports.NC_SNAKE_ACTION = exports.NC_SCORE_UPDATE = exports.NC_ROUND_WRAPUP = exports.NC_ROUND_START = exports.NC_ROUND_COUNTDOWN = exports.NC_ROUND_SERIALIZE = exports.NC_OPTIONS_SERIALIZE = exports.NC_ROOM_JOIN_ERROR = exports.NC_ROOM_STATUS = exports.NC_ROOM_START = exports.NC_ROOM_SERIALIZE = exports.NC_ROOM_JOIN_MATCHING = exports.NC_ROOM_JOIN_KEY = exports.NC_PLAYERS_SERIALIZE = exports.NC_PLAYER_NAME = exports.NC_PONG = exports.NC_PING = exports.NC_GAME_SPAWN = exports.NC_GAME_STATE = exports.NC_GAME_DESPAWN = exports.NC_CHAT_MESSAGE = exports.NC_CHAT_NOTICE = exports.GAME_TILE = exports.HEIGHT = exports.WIDTH = void 0;\nexports.NOTICE_NEW_ROUND = exports.NOTICE_DISCONNECT = exports.NOTICE_JOIN = exports.NOTICE_CRASH = exports.SPAWN_POWERUP = exports.SPAWN_APPLE = exports.SCORE_BEHIND = exports.SCORE_NEUTRAL = exports.SCORE_LEADING = exports.VALIDATE_ERR_MISMATCHES = exports.VALIDATE_ERR_NO_COMMON = exports.VALIDATE_ERR_GAP = exports.VALIDATE_SUCCES = exports.NETCODE_SYNC_MS = exports.NETCODE_PING_INTERVAL = exports.CRASH_OPPONENT_DRAW = exports.CRASH_OPPONENT = exports.CRASH_SELF = exports.CRASH_MOVING_WALL = exports.CRASH_WALL = exports.CRASH_UNKNOWN = exports.ROOM_UNKNOWN_ERROR = exports.ROOM_IN_PROGRESS = exports.ROOM_NOT_FOUND = exports.ROOM_FULL = exports.ROOM_INVALID_KEY = exports.ROOM_JOINABLE = exports.FIELD_VALUE_HARD = exports.FIELD_VALUE_MEDIUM = exports.FIELD_VALUE_EASY = exports.SNAKE_SIZE = exports.SNAKE_SPEED = void 0;\nexports.WIDTH = 256;\nexports.HEIGHT = 161;\nexports.GAME_TILE = 4;\n// Netcode events\nexports.NC_CHAT_NOTICE = 10;\nexports.NC_CHAT_MESSAGE = 11;\nexports.NC_GAME_DESPAWN = 20;\nexports.NC_GAME_STATE = 21;\nexports.NC_GAME_SPAWN = 22;\nexports.NC_PING = 0;\nexports.NC_PONG = 1;\nexports.NC_PLAYER_NAME = 30;\nexports.NC_PLAYERS_SERIALIZE = 31;\nexports.NC_ROOM_JOIN_KEY = 40;\nexports.NC_ROOM_JOIN_MATCHING = 41;\nexports.NC_ROOM_SERIALIZE = 42;\nexports.NC_ROOM_START = 43;\nexports.NC_ROOM_STATUS = 44;\nexports.NC_ROOM_JOIN_ERROR = 45;\nexports.NC_OPTIONS_SERIALIZE = 47;\nexports.NC_ROUND_SERIALIZE = 50;\nexports.NC_ROUND_COUNTDOWN = 51;\nexports.NC_ROUND_START = 52;\nexports.NC_ROUND_WRAPUP = 53;\nexports.NC_SCORE_UPDATE = 60;\nexports.NC_SNAKE_ACTION = 70;\nexports.NC_SNAKE_CRASH = 71;\nexports.NC_SNAKE_SIZE = 72;\nexports.NC_SNAKE_SPEED = 73;\nexports.NC_SNAKE_UPDATE = 74;\nexports.NC_XSS = 666;\n// Server EventEmitters\nexports.SE_PLAYER_DISCONNECT = 101;\nexports.SE_PLAYER_COLLISION = 102;\nexports.HEARTBEAT_INTERVAL_MS = 5000;\nexports.GAME_SHIFT_MAP = [[-1, 0], [0, -1], [1, 0], [0, 1]];\nexports.DIRECTION_LEFT = 0;\nexports.DIRECTION_UP = 1;\nexports.DIRECTION_RIGHT = 2;\nexports.DIRECTION_DOWN = 3;\nexports.ROOM_KEY_LENGTH = 5;\nexports.ROOM_CAPACITY = 6;\nexports.ROUNDS_MAX = 3;\nexports.ROOM_WIN_BY_MIN = 2;\nexports.PLAYER_NAME_MINLENGTH = 1;\nexports.PLAYER_NAME_MAXWIDTH = 36;\nexports.SECONDS_ROUND_PAUSE = 3;\nexports.SECONDS_ROUND_GLOAT = 5;\nexports.SECONDS_ROUNDSET_GLOAT = 10;\nexports.SECONDS_ROUND_COUNTDOWN = 3;\nexports.SPAWN_SOMETHING_EVERY = [20, 60];\nexports.SPAWN_CHANCE_APPLE = 0.9;\nexports.SNAKE_SPEED = 120;\nexports.SNAKE_SIZE = 4;\nexports.FIELD_VALUE_EASY = 1;\nexports.FIELD_VALUE_MEDIUM = 2;\nexports.FIELD_VALUE_HARD = 3;\nexports.ROOM_JOINABLE = 1;\nexports.ROOM_INVALID_KEY = 2;\nexports.ROOM_FULL = 3;\nexports.ROOM_NOT_FOUND = 4;\nexports.ROOM_IN_PROGRESS = 5;\nexports.ROOM_UNKNOWN_ERROR = 6;\nexports.CRASH_UNKNOWN = 0;\nexports.CRASH_WALL = 1;\nexports.CRASH_MOVING_WALL = 2;\nexports.CRASH_SELF = 3;\nexports.CRASH_OPPONENT = 4;\nexports.CRASH_OPPONENT_DRAW = 5;\nexports.NETCODE_PING_INTERVAL = 3000;\nexports.NETCODE_SYNC_MS = 500;\nexports.VALIDATE_SUCCES = 0;\nexports.VALIDATE_ERR_GAP = 1;\nexports.VALIDATE_ERR_NO_COMMON = 2;\nexports.VALIDATE_ERR_MISMATCHES = 3;\nexports.SCORE_LEADING = 1;\nexports.SCORE_NEUTRAL = 2;\nexports.SCORE_BEHIND = 3;\nexports.SPAWN_APPLE = 1;\nexports.SPAWN_POWERUP = 2;\nexports.NOTICE_CRASH = 1;\nexports.NOTICE_JOIN = 2;\nexports.NOTICE_DISCONNECT = 3;\nexports.NOTICE_NEW_ROUND = 4;\n\n\n//# sourceURL=webpack://xssnake/./shared/const.ts?");

/***/ }),

/***/ "./shared/data/levels.ts":
/*!*******************************!*\
  !*** ./shared/data/levels.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n// TODO: Import images\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.levels = void 0;\nexports.levels = {\n    blank: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhCAYAAABug3M0AAAATklEQVR4Xu3XsQ0AMAgDQe/K/jMQKWOY+47y5Irs4eDh/5WdmS3suxLLw8PD9wcPDw8PDw+f7X5sLA8PD38heHh4eHh4+JQ/Nrm+PDz8A9XeSXZnpGoTAAAAAElFTkSuQmCC' },\n    borobudur: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/e3t6UsGDPAAAAt0lEQVR4XoVUwQpDIQxredvdHL152va7Hvu3o1b6VoZEqoQQQl6tT0RVdHqt1Zufm1FdGGcBgjwKYj3HWfChDiUDAEhvCqBlhhBHdbPpAjNrSW4BlsAd4A69JSmSZ+TbQTZZT6QAVXC7KeC7khnSoU3flUy8jN0h0L9gR0sUdTcqeiSSqF5Wdhlto7vV1/gV9CJ4UQeagXwF6wPtJL8Lfpt8HvhE8ZnkU83fxWOcBW/uwF83/T98AR09bCcOuGr0AAAAAElFTkSuQmCC' },\n    break_out: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/yjXqqAAAAT0lEQVR4XmMgCBgFBQUFBIEAO4OwgsFjBW67CCsgFQgCAYrthBUMEcCqwIATaDBgA4wCDPgBowADvQEzHl+oMQwVwILHF+pYcgDhLEIqAABRVwy8UdO8QwAAAABJRU5ErkJggg==' },\n    crosshair: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEUAAAAAAP8A/wAA//9jY2P/AAD/AP///wD////y32ryAAAAQElEQVQ4y2PowA8aGNAFyFDQ6oFbgSN1rKC7go4hqqDNA7+CBgYE4IAIIokwELDCeYgGVMMQVdCOJ2c50SXZAwC+PiE3lNCmnQAAAABJRU5ErkJggg==' },\n    destination: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEUAAAAAAP8A/wAA//9jY2Pe3t7/AAD/AP///wD///9GJQNIAAAAvUlEQVR4XtWSOw7CMBBEp3ExxwIqOjcuuNVUwN6W0eJYIPIrEBLJevUsvYwtbRDrj74hXM/LwmEz4W8EF1yEi1QgkmRkCmosF7XwVoHqbVKpKmQXwMBTKBCGUF8Son9HKYZgGndQJoCT0O/AXcO6rQzrtCvBiyGaaQS9sk8YYUzRHuYEoRl7ZWyPM5Rmwb2muyhkWAEqwzQJRjcMIV8zZgQDRyo6qEdtCnoThNcjwDmBH8L2sO4rwzr+5Ld/APOp8o3zmfzSAAAAAElFTkSuQmCC' },\n    lines: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/yjXqqAAAANElEQVR4XmOgB2BVYMAJNBiGCmAURAABBgYGBkEkwDBsADOeyFJjGFRgNDZZ8ESWOgM9AACt5gQS0D0R6gAAAABJRU5ErkJggg==' },\n    noise: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/yjXqqAAAA1klEQVR4Xm2SUWoAMRBCfbT9d26wX23vf8JCkckKGViiq5k4JJJGliT0Lv9T59uyJDyqDWvCEiYUOdLXU8ba+auqPpCGq7T7zlwdWB3JNSSL8bp92hReD4KALRweZQ9lsjrS1IRGbH+RYeFE7sDkwkp1ZSU4vMtNKfZRl9Xwu9wnZd5Eqe4fHskrEXhL5uK2RUads2+C0u42DBah1mw/uQezJOZkozv1w3eez0Q2BFBenOaiXl/k6bhd67yXTQwWn09pvDf/ECBMVonRJP31QN4axX1L+weknwhwgGDMTAAAAABJRU5ErkJggg==' },\n    onion_jack: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEUAAAAAAP8A/wAA//9jY2Pe3t7/AAD/AP///wD///9GJQNIAAAAxUlEQVR4Xq3TMQ7CQAwFUTcUORZQpUuz99oK8G2J+RbzC5Q0uIo0T4qy3kQez4zHmjO+s2SGz97E4jI+s4N+UhdoAaBfBSQA3RXmghCgCwRCwHsUMCFgvcDmooD3AsNEUe+xFTAhQB8CJgpYF0Ao0AVYg6Z7zzzd5jl4rkf9/o9XTP+IXq1dKz8onSRiVOGo2QWiAV0AIUBv4KIAnfuQvm46NwqxA+8CiALpvQGiAB2AmPFa6YASDZIOQMxQ//13Z97Ot/kG5IqEQIQLV+oAAAAASUVORK5CYII=' },\n    pacman: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX///8AAADe3t5jY2P/AP///wAA////AAAA/wAAAP9PyCv5AAAA8ElEQVR4XoWUQa7CMBBDvQCxpZzguSdghfj3v9hXgjWkDdARijqW7UkmE7T8jqvWMdywDYK43FXRCajiT4gw2498tiQwwr0WXnC0bklghDsVG6eusckXIjo3XQIHNCiVSzQmrCAkj6LRDr1O4aHsuCFvThHRLiF9+OyQPtTRUUU1RSiSNK8WYohSlNwEfYnn+zZxlh5dXA6c7iVG63JDLpuHtHFAtlE5THugOSFPezBm50A6gcLOPHQoSTdCYU/zEFcU9nQXcUVJprsItiGoYk9YmSYqWAjfZjIEf51q+/hdcPyyOP94m09x+LoP/x/+Ad2aaMxTh/MAAAAAAElFTkSuQmCC' },\n    poles: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEX///8AAABjY2P/AP///wD/AAAA//8A/wAAAP/yjXqqAAAAM0lEQVR4XmOgB2BVYGBgEMAiwcjAoMEAATgVMNBVwagCZjyRpTa4fDGqgAVPZKkz0AMAAMU7Aq0z0hzLAAAAAElFTkSuQmCC' },\n    pong: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX/AP8AAP8A//8A/wD//wD/AAD////e3t5jY2MAAADDo6s2AAAAa0lEQVR4XmNIww8S0BVk4lUwcxqCRCiYiVAwvQxElmNRgDAhE8WEDDGEAoRefCbgdwPCF/gUpJGmgHIrMtQSSImLzGnYrYhAKMBjArWim3QrMsyoYgUHHgWZ0/BYgVBAggkDZoUHZVbQI7oB0wCqOZbN5p0AAAAASUVORK5CYII=' },\n    space_invaders: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX///8AAADe3t5jY2P/AAD/AP///wAA/wAA//8AAP8mgNz0AAAAw0lEQVR4Xt2QUWoDMRBDl2kJ/bVOMJoT5Cg5So6SI3ekXSiMKfQjX31rr/Rsg8HHW4g8sza9IByxctOrnZULu57NNZZ2proRqkSXTa+jXunAVFNgdQQLOdWQ8KVYzF1dqUoWdjUZ0dG/nPouQqNJjaGGqXEUjkBOFYGWNhYLUwX9dIEOYFM//iI6oG9qwyUyHJjaUEvMcyenNmQVqVurMFVELCJ6JzWnmgqV0LTWj/4fPhz33+un60N+c33Kv1xff7jgGwmLICypShLuAAAAAElFTkSuQmCC' },\n    tetris: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAHlBMVEX///8AAABjY2MAAP///wD/AP/e3t4A//8A/wD/AABsPeryAAAA00lEQVR4Xn2SwY7DQAhDbaldaW/mDyLtof3/L9yDpzIqtBySQTw7QAaJAn6EL0GAn4DSAZyUbOj4vQAGLRCCefx1k+pfYIGYEVuov/s5ugDsQKwD1HnIFM3BLSloagIIyFicLPEEB8AAtomYtVmvRWiYeg1hTfkUzs1xWUbIrYT7lcI79UAPVvpnwdkUUlA2uvkqfLx1cjZg7YzaZmOjDdRoXinGaF6LdeaIU1LW3f9jM6meqoEEPem8+ARtvGz4dll/rpo68MS+36pWmKGZjMUl0T8jrgix90FavwAAAABJRU5ErkJggg==' },\n    traps: { imagedata: 'iVBORw0KGgoAAAANSUhEUgAAAD8AAAAhBAMAAACcrW4HAAAAG1BMVEUAAAAAAP8A/wAA//9jY2P/AAD/AP///wD////y32ryAAAAYklEQVR4Xr2TQQqAMAwE/Zp66bP2os6zpV4ClSWXkD2UNpnC0mY3QITWvSqAa2AA2FGHhykHRDMK/xpGhcAUcfiWtSl3G1AFcA+MBzhRg4f0HRr+IpuHfKJakvX4ZHG0JOsFYY0Jj60hQlQAAAAASUVORK5CYII=' }\n};\n\n\n//# sourceURL=webpack://xssnake/./shared/data/levels.ts?");

/***/ }),

/***/ "./shared/level/gravity.ts":
/*!*********************************!*\
  !*** ./shared/level/gravity.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Gravity = void 0;\n/**\n * Gravity pulls snakes and power-ups a certain direction.\n *\n * @param {Array.<number>=} gravity\n * gravity is an array with two numbers. The first number is tiles per second to\n * the left or right, second number is tiles per second up or down.\n *\n * Example 1: [-5, -5] pulls objects to top-left.\n * Example 2: [5, 5] pulls objects to bottom-right.\n * Example 2: [-5, 0] pulls objects to the left only.\n *\n * @constructor\n */\nvar Gravity = /** @class */ (function () {\n    function Gravity(gravity) {\n        if (gravity === void 0) { gravity = []; }\n        this.gravity = gravity;\n        this.progress = [0, 0];\n    }\n    /**\n     * @param elapsed\n     * @return {xss.Shift}\n     */\n    Gravity.prototype.getShift = function (elapsed) {\n        return [\n            this.updateInDirection(elapsed, 0),\n            this.updateInDirection(elapsed, 1)\n        ];\n    };\n    /**\n     * @param {number} delta\n     * @param {number} direction\n     * @return {number}\n     */\n    Gravity.prototype.updateInDirection = function (delta, direction) {\n        if (this.gravity[direction]) {\n            var treshold = 1000 / Math.abs(this.gravity[direction]);\n            this.progress[direction] += delta;\n            if (this.progress[direction] > treshold) {\n                this.progress[direction] -= treshold;\n                return this.gravity[direction] > 0 ? 1 : -1;\n            }\n        }\n        return 0;\n    };\n    return Gravity;\n}());\nexports.Gravity = Gravity;\n\n\n//# sourceURL=webpack://xssnake/./shared/level/gravity.ts?");

/***/ }),

/***/ "./shared/level/level.ts":
/*!*******************************!*\
  !*** ./shared/level/level.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Level = void 0;\nvar imageDecoder_1 = __webpack_require__(/*! ../../client/level/imageDecoder */ \"./client/level/imageDecoder.ts\");\nvar state_1 = __webpack_require__(/*! ../../client/state/state */ \"./client/state/state.ts\");\nvar clientShapes_1 = __webpack_require__(/*! ../../client/ui/clientShapes */ \"./client/ui/clientShapes.ts\");\nvar registry_1 = __webpack_require__(/*! ../levelanim/registry */ \"./shared/levelanim/registry.ts\");\nvar shape_1 = __webpack_require__(/*! ../shape */ \"./shared/shape.ts\");\nvar levelData_1 = __webpack_require__(/*! ./levelData */ \"./shared/level/levelData.ts\");\nvar gravity_1 = __webpack_require__(/*! ./gravity */ \"./shared/level/gravity.ts\");\nvar Level = /** @class */ (function () {\n    function Level(config) {\n        this.config = config;\n        this.config = config;\n        this.animations = new registry_1.LevelAnimationRegistry();\n        this.gravity = new gravity_1.Gravity(this.config.gravity);\n        this.data = config.level.cache || null;\n    }\n    Level.prototype.registerAnimations = function () {\n        // noop?\n    };\n    /**\n     * Client-Only!\n     * TODO: Create and add to xss.level.ClientLevel instead.\n     */\n    Level.prototype.destruct = function () {\n        if (true) {\n            state_1.State.shapes.level = null;\n            state_1.State.shapes.innerborder = null;\n            clientShapes_1.outerBorder(function (k) {\n                state_1.State.shapes[k] = null;\n            });\n        }\n    };\n    /**\n     * Client-Only!\n     * TODO: Create and add to xss.level.ClientLevel instead.\n     */\n    Level.prototype.paint = function () {\n        if (true) {\n            state_1.State.shapes.level = new shape_1.Shape(this.data.walls);\n            state_1.State.shapes.level.setGameTransform();\n            state_1.State.shapes.innerborder = clientShapes_1.innerBorder();\n            clientShapes_1.outerBorder(function (k, border) {\n                state_1.State.shapes[k] = border;\n            });\n        }\n    };\n    Level.prototype.preload = function (continueFn) {\n        var level = this.config.level;\n        if (level.cache) {\n            continueFn();\n        }\n        else {\n            new imageDecoder_1.ImageDecoder(level.imagedata).then(function (data) {\n                level.cache = new levelData_1.LevelData(data, this.animations);\n                level.imagedata = null;\n                this.data = level.cache;\n                this.registerAnimations();\n                continueFn();\n            }.bind(this));\n        }\n    };\n    return Level;\n}());\nexports.Level = Level;\n\n\n//# sourceURL=webpack://xssnake/./shared/level/level.ts?");

/***/ }),

/***/ "./shared/level/levelData.ts":
/*!***********************************!*\
  !*** ./shared/level/levelData.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LevelData = void 0;\n/**\n * @param {ImageData} imagedata\n * @param {LevelAnimationRegistry} animations\n * @constructor\n */\nvar const_1 = __webpack_require__(/*! ../../client/const */ \"./client/const.js\");\nvar const_2 = __webpack_require__(/*! ../const */ \"./shared/const.ts\");\nvar parser_1 = __webpack_require__(/*! ./parser */ \"./shared/level/parser.ts\");\nvar LevelData = /** @class */ (function () {\n    function LevelData(imagedata, animations) {\n        var parser = new parser_1.Parser(imagedata);\n        this.width = imagedata.width;\n        this.height = imagedata.height;\n        this.walls = parser.walls;\n        this.spawns = parser.spawns;\n        this.unreachables = parser.unreachables;\n        this.animations = animations;\n    }\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {boolean}\n     */\n    LevelData.prototype.isWall = function (x, y) {\n        if (this.outOfBounds(x, y)) {\n            return true;\n        }\n        else if (this.walls.has(x, y)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @param {xss.Coordinate} coordinate\n     * @return {boolean}\n     */\n    LevelData.prototype.isMovingWall = function (coordinate) {\n        for (var i = 0, m = this.animations.walls.length; i < m; i++) {\n            if (this.inShapes(this.animations.walls[i], coordinate)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {xss.ShapeCollection} shapeCollection\n     * @param {xss.Coordinate} coordinate\n     * @return {boolean}\n     */\n    LevelData.prototype.inShapes = function (shapeCollection, coordinate) {\n        for (var i = 0, m = shapeCollection.shapes.length; i < m; i++) {\n            var translate, translated, shape = shapeCollection.shapes[i];\n            if (shape) {\n                translate = shape.transform.translate;\n                translated = this.convertToGameSystem(coordinate, translate);\n                if (shape.pixels.has(translated[0], translated[1])) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * Translate coordinate to game coordinate system.\n     *\n     * @param {xss.Coordinate} coordinate\n     * @param {xss.Shift} translate\n     */\n    LevelData.prototype.convertToGameSystem = function (coordinate, translate) {\n        var tx, ty;\n        if (true) {\n            // In Client, Game transforms left/top. Not ideal, but it is done\n            // so that we can move shapes without losing cache => performance.\n            tx = (translate[0] - const_1.GAME_LEFT) / const_2.GAME_TILE;\n            ty = (translate[1] - const_1.GAME_TOP) / const_2.GAME_TILE;\n        }\n        else {}\n        return [coordinate[0] - tx, coordinate[1] - ty];\n    };\n    /**\n     * @param {number} playerID\n     * @return {xss.Coordinate}\n     */\n    LevelData.prototype.getSpawn = function (playerID) {\n        return this.spawns[playerID].location;\n    };\n    /**\n     * @param {number} playerID\n     * @return {number}\n     */\n    LevelData.prototype.getSpawnDirection = function (playerID) {\n        return this.spawns[playerID].direction;\n    };\n    /**\n     * @param {Array.<Array>} nonEmptyLocations\n     * @return {xss.Coordinate}\n     */\n    LevelData.prototype.getEmptyLocation = function (nonEmptyLocations) {\n        while (true) {\n            var location = [\n                Math.floor(Math.random() * this.width),\n                Math.floor(Math.random() * this.height)\n            ];\n            if (this.isEmptyLocation(nonEmptyLocations, location)) {\n                return location;\n            }\n        }\n    };\n    /**\n     * @param {Array.<Array>} nonEmptyLocations\n     * @param {xss.Coordinate} location\n     * @return {boolean}\n     */\n    LevelData.prototype.isEmptyLocation = function (nonEmptyLocations, location) {\n        if (this.isWall(location[0], location[1])) {\n            return false;\n        }\n        if (this.unreachables.has(location[0], location[1])) {\n            return false;\n        }\n        for (var i = 0, m = nonEmptyLocations.length; i < m; i++) {\n            var nonE = nonEmptyLocations[i];\n            if (nonE && nonE[0] === location[0] && nonE[1] === location[1]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {boolean}\n     */\n    LevelData.prototype.outOfBounds = function (x, y) {\n        if (x < 0 || y < 0) {\n            return true;\n        }\n        else {\n            return x >= this.width || y >= this.height;\n        }\n    };\n    return LevelData;\n}());\nexports.LevelData = LevelData;\n\n\n//# sourceURL=webpack://xssnake/./shared/level/levelData.ts?");

/***/ }),

/***/ "./shared/level/parser.ts":
/*!********************************!*\
  !*** ./shared/level/parser.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Parser = void 0;\nvar const_1 = __webpack_require__(/*! ../const */ \"./shared/const.ts\");\nvar pixelCollection_1 = __webpack_require__(/*! ../pixelCollection */ \"./shared/pixelCollection.ts\");\nvar spawn_1 = __webpack_require__(/*! ./spawn */ \"./shared/level/spawn.ts\");\n/**\n * @param {ImageData} imagedata\n * @constructor\n */\nvar Parser = /** @class */ (function () {\n    function Parser(imagedata) {\n        this.width = imagedata.width;\n        this.height = imagedata.height;\n        this.walls = new pixelCollection_1.PixelCollection();\n        this.unreachables = new pixelCollection_1.PixelCollection();\n        /** @type {Array.<xss.level.Spawn>} */\n        this.spawns = new Array(const_1.ROOM_CAPACITY);\n        /** @type {Array.<xss.Coordinate>} */\n        this.spawnCoordinates = new Array(const_1.ROOM_CAPACITY);\n        /** @type {Array.<xss.Coordinate>} */\n        this.spawnDirections = [];\n        this.parsePixels(imagedata.data);\n        this.generateSpawns();\n    }\n    /**\n     * @param {Object} imagedata\n     */\n    Parser.prototype.parsePixels = function (imagedata) {\n        for (var i = 0, m = imagedata.length / 4; i < m; i++) {\n            this.parsePixel([\n                imagedata[i * 4],\n                imagedata[i * 4 + 1],\n                imagedata[i * 4 + 2]\n            ], [\n                i % this.width,\n                Math.floor(i / this.width)\n            ]);\n        }\n    };\n    /**\n     * @param {Array.<number>} rgb\n     * @param {xss.Coordinate} coordinate\n     */\n    Parser.prototype.parsePixel = function (rgb, coordinate) {\n        function rgbEquals(r, g, b) {\n            return rgb[0] === r && rgb[1] === g && rgb[2] === b;\n        }\n        if (rgbEquals(0, 0, 0)) {\n            this.walls.add(coordinate[0], coordinate[1]);\n        }\n        else if (rgbEquals(222, 222, 222)) {\n            this.unreachables.add(coordinate[0], coordinate[1]);\n        }\n        else if (rgbEquals(99, 99, 99)) {\n            this.spawnDirections.push(coordinate);\n        }\n        else if (rgbEquals(255, 0, 0)) {\n            this.spawnCoordinates[0] = coordinate;\n        }\n        else if (rgbEquals(0, 255, 0)) {\n            this.spawnCoordinates[1] = coordinate;\n        }\n        else if (rgbEquals(0, 0, 255)) {\n            this.spawnCoordinates[2] = coordinate;\n        }\n        else if (rgbEquals(255, 255, 0)) {\n            this.spawnCoordinates[3] = coordinate;\n        }\n        else if (rgbEquals(255, 0, 255)) {\n            this.spawnCoordinates[4] = coordinate;\n        }\n        else if (rgbEquals(0, 255, 255)) {\n            this.spawnCoordinates[5] = coordinate;\n        }\n        else if (!rgbEquals(255, 255, 255)) {\n            throw new Error('Unknown color: ' + rgb + ' ' + 'at ' + coordinate);\n        }\n    };\n    Parser.prototype.generateSpawns = function () {\n        for (var i = 0, m = this.spawnCoordinates.length; i < m; i++) {\n            var spawnCoordinate = this.spawnCoordinates[i];\n            if (spawnCoordinate) {\n                this.spawns[i] = new spawn_1.Spawn(spawnCoordinate, this.getDirectionForSpawn(spawnCoordinate));\n            }\n            else {\n                throw new Error('Missing spawn with index: ' + i);\n            }\n        }\n    };\n    /**\n     * @param {xss.Coordinate} spawn\n     * @return {number}\n     */\n    Parser.prototype.getDirectionForSpawn = function (spawn) {\n        for (var i = 0, m = this.spawnDirections.length; i < m; i++) {\n            var dx, dy;\n            if (!this.spawnDirections[i]) {\n                continue;\n            }\n            dx = spawn[0] - this.spawnDirections[i][0];\n            dy = spawn[1] - this.spawnDirections[i][1];\n            if (1 === Math.abs(dx) + Math.abs(dy)) {\n                if (dx === 0) {\n                    return (dy === 1) ? const_1.DIRECTION_UP : const_1.DIRECTION_DOWN;\n                }\n                else {\n                    return (dx === 1) ? const_1.DIRECTION_LEFT : const_1.DIRECTION_RIGHT;\n                }\n            }\n        }\n        throw new Error('Spawn at ' + spawn + ' is missing a direction');\n    };\n    return Parser;\n}());\nexports.Parser = Parser;\n\n\n//# sourceURL=webpack://xssnake/./shared/level/parser.ts?");

/***/ }),

/***/ "./shared/level/spawn.ts":
/*!*******************************!*\
  !*** ./shared/level/spawn.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Spawn = void 0;\n/**\n * @param {xss.Coordinate} location\n * @param {number} direction\n * @constructor\n */\nvar Spawn = /** @class */ (function () {\n    function Spawn(location, direction) {\n        this.location = location;\n        this.direction = direction;\n    }\n    return Spawn;\n}());\nexports.Spawn = Spawn;\n\n\n//# sourceURL=webpack://xssnake/./shared/level/spawn.ts?");

/***/ }),

/***/ "./shared/levelanim/registry.ts":
/*!**************************************!*\
  !*** ./shared/levelanim/registry.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LevelAnimationRegistry = void 0;\nvar const_1 = __webpack_require__(/*! ../../client/const */ \"./client/const.js\");\nvar state_1 = __webpack_require__(/*! ../../client/state/state */ \"./client/state/state.ts\");\nvar LevelAnimationRegistry = /** @class */ (function () {\n    function LevelAnimationRegistry() {\n        this.animations = [];\n        this.walls = [];\n        this.started = false;\n        this.progress = 0;\n    }\n    LevelAnimationRegistry.prototype.register = function (animation) {\n        this.animations.push(animation);\n    };\n    LevelAnimationRegistry.prototype.update = function (delta, started) {\n        this.progress += delta;\n        this.started = started;\n        this.walls = this.updateAnimations();\n        this.updateShapes();\n    };\n    LevelAnimationRegistry.prototype.updateAnimations = function () {\n        var walls = [];\n        for (var i = 0, m = this.animations.length; i < m; i++) {\n            var shapeCollection = this.updateAnimation(this.animations[i]);\n            if (shapeCollection) {\n                walls.push(shapeCollection);\n            }\n        }\n        return walls;\n    };\n    LevelAnimationRegistry.prototype.updateAnimation = function (animation) {\n        return animation.update(this.progress, this.started);\n    };\n    LevelAnimationRegistry.prototype.updateShapes = function () {\n        for (var i = 0, m = this.walls.length; i < m; i++) {\n            if (this.walls[i]) {\n                this._updateShapes(i, this.walls[i]);\n            }\n        }\n    };\n    LevelAnimationRegistry.prototype._updateShapes = function (animIndex, shapeCollection) {\n        var shapes = shapeCollection.shapes;\n        for (var i = 0, m = shapes.length; i < m; i++) {\n            this._updateShape([const_1.NS_ANIM, animIndex, i].join('_'), shapes[i]);\n        }\n    };\n    LevelAnimationRegistry.prototype._updateShape = function (key, shape) {\n        if (shape) {\n            if (!shape.headers.transformed) {\n                shape.setGameTransform();\n                shape.headers.transformed = true;\n            }\n            state_1.State.shapes[key] = shape;\n        }\n        else {\n            state_1.State.shapes[key] = null;\n        }\n    };\n    return LevelAnimationRegistry;\n}());\nexports.LevelAnimationRegistry = LevelAnimationRegistry;\n\n\n//# sourceURL=webpack://xssnake/./shared/levelanim/registry.ts?");

/***/ }),

/***/ "./shared/levels/debug/crosshair.ts":
/*!******************************************!*\
  !*** ./shared/levels/debug/crosshair.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CrosshairLevel = void 0;\nvar levels_1 = __webpack_require__(/*! ../../data/levels */ \"./shared/data/levels.ts\");\nvar level_1 = __webpack_require__(/*! ../../level/level */ \"./shared/level/level.ts\");\nvar CrosshairLevel = /** @class */ (function (_super) {\n    __extends(CrosshairLevel, _super);\n    function CrosshairLevel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.level = levels_1.levels.crosshair;\n        return _this;\n    }\n    return CrosshairLevel;\n}(level_1.Level));\nexports.CrosshairLevel = CrosshairLevel;\n\n\n//# sourceURL=webpack://xssnake/./shared/levels/debug/crosshair.ts?");

/***/ }),

/***/ "./shared/levels/debug/lines.ts":
/*!**************************************!*\
  !*** ./shared/levels/debug/lines.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LinesLevel = void 0;\nvar levels_1 = __webpack_require__(/*! ../../data/levels */ \"./shared/data/levels.ts\");\nvar level_1 = __webpack_require__(/*! ../../level/level */ \"./shared/level/level.ts\");\nvar LinesLevel = /** @class */ (function (_super) {\n    __extends(LinesLevel, _super);\n    function LinesLevel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.level = levels_1.levels.lines;\n        return _this;\n    }\n    return LinesLevel;\n}(level_1.Level));\nexports.LinesLevel = LinesLevel;\n\n\n//# sourceURL=webpack://xssnake/./shared/levels/debug/lines.ts?");

/***/ }),

/***/ "./shared/levelset/config.ts":
/*!***********************************!*\
  !*** ./shared/levelset/config.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Config = void 0;\nvar levels_1 = __webpack_require__(/*! ../data/levels */ \"./shared/data/levels.ts\");\nvar Config = /** @class */ (function () {\n    function Config() {\n        this.level = levels_1.levels.blank;\n        this.gravity = [0, 0];\n        this.enableApples = true;\n        this.enablePowerups = [];\n        this.snakeSize = 4;\n        this.snakeSpeed = 120; // Change tile every ms.\n        this.snakeIncrease = 1;\n        this.pointsApple = 1;\n        this.pointsKnockout = 3;\n    }\n    return Config;\n}());\nexports.Config = Config;\n\n\n//# sourceURL=webpack://xssnake/./shared/levelset/config.ts?");

/***/ }),

/***/ "./shared/levelset/levelset.ts":
/*!*************************************!*\
  !*** ./shared/levelset/levelset.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Levelset = void 0;\nvar util_1 = __webpack_require__(/*! ../util */ \"./shared/util.ts\");\nvar config_1 = __webpack_require__(/*! ./config */ \"./shared/levelset/config.ts\");\nvar Levelset = /** @class */ (function () {\n    function Levelset() {\n        this.title = '';\n        this.levels = [];\n        this.loaded = false;\n    }\n    Levelset.prototype.getConfig = function () {\n        return new config_1.Config();\n    };\n    Levelset.prototype.getLevel = function (index) {\n        return this.levels[index];\n    };\n    Levelset.prototype.register = function (Level) {\n        this.levels.push(new Level(this.getConfig()));\n    };\n    Levelset.prototype.preload = function (continueFn) {\n        var checkAllLoaded, loaded = 0;\n        checkAllLoaded = function () {\n            if (++loaded === this.levels.length) {\n                continueFn();\n            }\n        }.bind(this);\n        if (this.levels.length) {\n            for (var i = 0, m = this.levels.length; i < m; i++) {\n                this.levels[i].preload(checkAllLoaded);\n            }\n        }\n        else {\n            continueFn();\n        }\n    };\n    Levelset.prototype.getRandomLevelIndex = function (levelsPlayed) {\n        var notPlayed = this.levels.slice();\n        if (notPlayed.length <= 1) {\n            return 0;\n        }\n        // All levels were played.\n        // Play any level except the one just played.\n        if (this.levels.length === levelsPlayed.length) {\n            levelsPlayed.splice(0, levelsPlayed.length - 1);\n        }\n        for (var i = 0, m = levelsPlayed.length; i < m; i++) {\n            notPlayed.splice(levelsPlayed[i], 1);\n        }\n        return util_1.randomArrIndex(notPlayed);\n    };\n    return Levelset;\n}());\nexports.Levelset = Levelset;\n;\n\n\n//# sourceURL=webpack://xssnake/./shared/levelset/levelset.ts?");

/***/ }),

/***/ "./shared/levelset/registry.ts":
/*!*************************************!*\
  !*** ./shared/levelset/registry.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Registry = void 0;\nvar util_1 = __webpack_require__(/*! ../util */ \"./shared/util.ts\");\n/**\n * @constructor\n */\nvar Registry = /** @class */ (function () {\n    function Registry() {\n        this.levelsets = [];\n        this.loaded = false;\n    }\n    Registry.prototype.register = function (levelset) {\n        this.levelsets.push(levelset);\n    };\n    Registry.prototype.preloadLevels = function (continueFn) {\n        if (continueFn === void 0) { continueFn = function () { }; }\n        var checkAllLoaded, loaded = 0;\n        checkAllLoaded = function () {\n            if (++loaded === this.levelsets.length) {\n                this.loaded = true;\n                continueFn();\n            }\n        }.bind(this);\n        for (var i = 0, m = this.levelsets.length; i < m; i++) {\n            this.levelsets[i].preload(checkAllLoaded);\n        }\n    };\n    Registry.prototype.getLevelset = function (index) {\n        return this.levelsets[index];\n    };\n    /**\n     * @return {Array.<Array.<number|string>>}\n     */\n    Registry.prototype.getAsFieldValues = function () {\n        var values = [];\n        for (var i = 0, m = this.levelsets.length; i < m; i++) {\n            values.push([i, this.levelsets[i].title.toUpperCase()]);\n        }\n        return values;\n    };\n    /**\n     * @return {number}\n     */\n    Registry.prototype.getRandomLevelsetIndex = function () {\n        return util_1.randomArrIndex(this.levelsets);\n    };\n    return Registry;\n}());\nexports.Registry = Registry;\n\n\n//# sourceURL=webpack://xssnake/./shared/levelset/registry.ts?");

/***/ }),

/***/ "./shared/levelsets/basic.ts":
/*!***********************************!*\
  !*** ./shared/levelsets/basic.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Basic = void 0;\nvar copy_1 = __webpack_require__(/*! ../../client/copy/copy */ \"./client/copy/copy.ts\");\nvar levelset_1 = __webpack_require__(/*! ../levelset/levelset */ \"./shared/levelset/levelset.ts\");\nvar Basic = /** @class */ (function (_super) {\n    __extends(Basic, _super);\n    function Basic() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.title = copy_1.COPY_LEVELSET_BASIC;\n        return _this;\n    }\n    return Basic;\n}(levelset_1.Levelset));\nexports.Basic = Basic;\n\n\n//# sourceURL=webpack://xssnake/./shared/levelsets/basic.ts?");

/***/ }),

/***/ "./shared/pixelCollection.ts":
/*!***********************************!*\
  !*** ./shared/pixelCollection.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PixelCollection = void 0;\nvar boundingBox_1 = __webpack_require__(/*! ./boundingBox */ \"./shared/boundingBox.ts\");\nvar util_1 = __webpack_require__(/*! ./util */ \"./shared/util.ts\");\n/**\n * xss.Shape pixels stored in a multi-dimensional array.\n * I tried using an Uint8Array, but performance was bad.\n * @param {Array.<Array.<number>>=} pixels\n * @constructor\n */\nvar PixelCollection = /** @class */ (function () {\n    function PixelCollection(pixels) {\n        if (pixels === void 0) { pixels = []; }\n        /** @type {Array.<Array.<number>>} */\n        this.pixels = pixels;\n    }\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {xss.PixelCollection}\n     */\n    PixelCollection.prototype.add = function (x, y) {\n        var pixels = this.pixels;\n        if (pixels[y]) {\n            pixels[y].push(x);\n        }\n        else {\n            pixels[y] = [x];\n        }\n        return this;\n    };\n    /**\n     * @return {!xss.BoundingBox}\n     */\n    PixelCollection.prototype.bbox = function () {\n        return new boundingBox_1.BoundingBox(this);\n    };\n    /**\n     * @param {Array.<xss.Coordinate>} pairs\n     * @return {xss.PixelCollection}\n     */\n    PixelCollection.prototype.addPairs = function (pairs) {\n        for (var i = 0, m = pairs.length; i < m; i++) {\n            this.add(pairs[i][0], pairs[i][1]);\n        }\n        return this;\n    };\n    /**\n     * @return {xss.PixelCollection}\n     */\n    PixelCollection.prototype.sort = function () {\n        var pixels = this.pixels;\n        for (var i = 0, m = pixels.length; i < m; i++) {\n            if (pixels[i]) {\n                pixels[i] = util_1.sort(pixels[i]);\n            }\n        }\n        return this;\n    };\n    /**\n     * @param {function(number,number)} callback\n     */\n    PixelCollection.prototype.each = function (callback) {\n        var pixels = this.pixels;\n        for (var y = 0, m = pixels.length; y < m; y++) {\n            var row = pixels[y];\n            if (row) {\n                for (var i = 0, mm = row.length; i < mm; i++) {\n                    callback(row[i], y);\n                }\n            }\n        }\n    };\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {number}\n     */\n    PixelCollection.prototype.index = function (x, y) {\n        var row = this.pixels[y];\n        if (row) {\n            for (var i = 0, m = row.length; i < m; i++) {\n                if (row[i] === x) {\n                    return i;\n                }\n            }\n        }\n        return -1;\n    };\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {boolean}\n     */\n    PixelCollection.prototype.has = function (x, y) {\n        return -1 !== this.index(x, y);\n    };\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {xss.PixelCollection}\n     */\n    PixelCollection.prototype.remove = function (x, y) {\n        var index = this.index(x, y);\n        if (-1 !== index) {\n            this.pixels[y].splice(index, 1);\n        }\n        return this;\n    };\n    /**\n     * @param {number} y\n     * @return {xss.PixelCollection}\n     */\n    PixelCollection.prototype.removeLine = function (y) {\n        if (this.pixels[y]) {\n            this.pixels[y].length = 0;\n        }\n        return this;\n    };\n    return PixelCollection;\n}());\nexports.PixelCollection = PixelCollection;\n\n\n//# sourceURL=webpack://xssnake/./shared/pixelCollection.ts?");

/***/ }),

/***/ "./shared/shape.ts":
/*!*************************!*\
  !*** ./shared/shape.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Shape = void 0;\nvar transform_1 = __webpack_require__(/*! ../client/ui/transform */ \"./client/ui/transform.ts\");\nvar pixelCollection_1 = __webpack_require__(/*! ./pixelCollection */ \"./shared/pixelCollection.ts\");\nvar Shape = /** @class */ (function () {\n    function Shape() {\n        var pixelCollections = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            pixelCollections[_i] = arguments[_i];\n        }\n        /** @type {xss.PixelCollection} */\n        this.pixels = new pixelCollection_1.PixelCollection();\n        /** @type {xss.ShapeCache} */\n        this.cache = null;\n        /** @type {boolean} */\n        this.enabled = true;\n        /** @type {boolean} */\n        this.isOverlay = false;\n        /** @type {Object.<string,*>} */\n        this.effects = {};\n        /** @type {number} */\n        this.expand = 0;\n        /** @type {Object.<string,*>} */\n        this.headers = {};\n        /**\n         * x0, y0, x1, y2\n         * @type {Array.<number>}\n         */\n        this.mask = null;\n        /**\n         * Transform is applied at paint time, does not affect PixelCollection.\n         * @type {{translate: xss.Shift, scale: number}}\n         */\n        this.transform = {\n            translate: [0, 0],\n            scale: 1\n        };\n        this.add.apply(this, pixelCollections);\n    }\n    /**\n     * @return {xss.Shape}\n     */\n    Shape.prototype.clone = function () {\n        return new Shape(this.pixels);\n    };\n    /**\n     * @param {number=} hPadding\n     * @param {number=} vPadding\n     * @return {xss.Shape}\n     */\n    Shape.prototype.outline = function (hPadding, vPadding) {\n        transform_1.outline(this, hPadding, vPadding);\n        return this;\n    };\n    /**\n     * @param {xss.BoundingBox=} bbox\n     * @return {xss.Shape}\n     */\n    Shape.prototype.invert = function (bbox) {\n        var pixels = this.pixels, inverted;\n        inverted = new pixelCollection_1.PixelCollection();\n        bbox = bbox || this.bbox();\n        for (var x = bbox.x0; x <= bbox.x1; x++) {\n            for (var y = bbox.y0; y < bbox.y1; y++) {\n                if (!pixels.has(x, y)) {\n                    inverted.add(x, y);\n                }\n            }\n        }\n        return this.set(inverted);\n    };\n    /**\n     * @return {xss.Shape}\n     */\n    Shape.prototype.uncache = function () {\n        this.cache = null;\n        this._bbox = null;\n        return this;\n    };\n    /**\n     * @param {...xss.PixelCollection} varArgs\n     * @return {xss.Shape}\n     */\n    Shape.prototype.set = function (varArgs) {\n        this.pixels = new pixelCollection_1.PixelCollection();\n        return this.add.apply(this, arguments);\n    };\n    /**\n     * @param {...xss.PixelCollection} pixelCollections\n     * @return {xss.Shape}\n     */\n    Shape.prototype.add = function () {\n        var pixelCollections = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            pixelCollections[_i] = arguments[_i];\n        }\n        var add = this.pixels.add.bind(this.pixels);\n        for (var i = 0, m = pixelCollections.length; i < m; i++) {\n            arguments[i].each(add);\n        }\n        return this.uncache();\n    };\n    /**\n     * @param {...xss.PixelCollection} pixels\n     * @return {xss.Shape}\n     */\n    Shape.prototype.remove = function (pixels) {\n        var remove = this.pixels.remove.bind(this.pixels);\n        for (var i = 0, m = arguments.length; i < m; i++) {\n            arguments[i].each(remove);\n        }\n        return this.uncache();\n    };\n    /**\n     * @param {number=} expand\n     * @return {xss.BoundingBox}\n     */\n    Shape.prototype.bbox = function (expand) {\n        if (expand === void 0) { expand = 0; }\n        if (!this._bbox || this.expand !== expand) {\n            this._bbox = this.pixels.bbox();\n            if (expand) {\n                this._bbox.expand(expand);\n            }\n        }\n        this.expand = expand;\n        return this._bbox;\n    };\n    return Shape;\n}());\nexports.Shape = Shape;\n;\n\n\n//# sourceURL=webpack://xssnake/./shared/shape.ts?");

/***/ }),

/***/ "./shared/shapeGenerator.ts":
/*!**********************************!*\
  !*** ./shared/shapeGenerator.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.line = exports.radianLine = exports.lineShape = void 0;\n/**\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @return {xss.Shape}\n */\nvar pixelCollection_1 = __webpack_require__(/*! ./pixelCollection */ \"./shared/pixelCollection.ts\");\nvar shape_1 = __webpack_require__(/*! ./shape */ \"./shared/shape.ts\");\nfunction lineShape(x0, y0, x1, y1) {\n    return new shape_1.Shape(this.line(x0, y0, x1, y1));\n}\nexports.lineShape = lineShape;\n/**\n * @param {number} xc\n * @param {number} yc\n * @param {number} radian\n * @param {number} length\n * @return {xss.PixelCollection}\n */\nfunction radianLine(xc, yc, radian, length) {\n    var x0, y0, x1, y1;\n    x0 = xc + length / 2 * Math.cos(radian);\n    y0 = yc + length / 2 * Math.sin(radian);\n    x1 = xc + length / 2 * Math.cos(radian + Math.PI);\n    y1 = yc + length / 2 * Math.sin(radian + Math.PI);\n    return this.line(Math.round(x0), Math.round(y0), Math.round(x1), Math.round(y1));\n}\nexports.radianLine = radianLine;\n/**\n * Bresenham's line algorithm\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @return {xss.PixelCollection}\n */\nfunction line(x0, y0, x1, y1) {\n    var pixels, dx, sx, dy, sy, err, err2;\n    pixels = new pixelCollection_1.PixelCollection();\n    dx = Math.abs(x1 - x0);\n    sx = x0 < x1 ? 1 : -1;\n    dy = Math.abs(y1 - y0);\n    sy = y0 < y1 ? 1 : -1;\n    err = (dx > dy ? dx : -dy) / 2;\n    while (true) {\n        pixels.add(x0, y0);\n        if (x0 === x1 && y0 === y1) {\n            break;\n        }\n        err2 = err;\n        if (err2 > -dx) {\n            err -= dy;\n            x0 += sx;\n        }\n        if (err2 < dy) {\n            err += dx;\n            y0 += sy;\n        }\n    }\n    return pixels;\n}\nexports.line = line;\n\n\n//# sourceURL=webpack://xssnake/./shared/shapeGenerator.ts?");

/***/ }),

/***/ "./shared/transform.ts":
/*!*****************************!*\
  !*** ./shared/transform.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.shift = void 0;\n/**\n * @param {xss.PixelCollection} pixels\n * @param {number=} xshift\n * @param {number=} yshift\n * @return {xss.PixelCollection}\n */\nvar pixelCollection_1 = __webpack_require__(/*! ./pixelCollection */ \"./shared/pixelCollection.ts\");\nfunction shift(pixels, xshift, yshift) {\n    var ret;\n    if (xshift === 0 && yshift === 0) {\n        return pixels; // No shift\n    }\n    ret = new pixelCollection_1.PixelCollection();\n    xshift = xshift || 0;\n    yshift = yshift || 0;\n    pixels.each(function (x, y) {\n        ret.add(x + xshift, y + yshift);\n    });\n    return ret;\n}\nexports.shift = shift;\n\n\n//# sourceURL=webpack://xssnake/./shared/transform.ts?");

/***/ }),

/***/ "./shared/util.ts":
/*!************************!*\
  !*** ./shared/util.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getRandomName = exports.benchmark = exports.sort = exports.getKey = exports.eq = exports.delta = exports.average = exports.ensureIndexWithinBounds = exports.randomStr = exports.randomArrIndex = exports.randomArrItem = exports.randomRange = exports.compareProperties = exports.filter = exports.extend = exports.clone = void 0;\n/**\n * @param {Object} obj Object to clone.\n * @return {?} Clone of the input object.\n */\nfunction clone(obj) {\n    var res = {};\n    for (var k in obj) {\n        if (obj.hasOwnProperty(k)) {\n            res[k] = obj[k];\n        }\n    }\n    return res;\n}\nexports.clone = clone;\n/**\n * @param {Object} target\n * @param {...Object} varArgs\n */\nfunction extend(target, varArgs) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var k in source) {\n            if (source.hasOwnProperty(k)) {\n                target[k] = source[k];\n            }\n        }\n    }\n}\nexports.extend = extend;\n/**\n * @param {Array} haystack\n * @param {*} needle\n * @return {Array}\n */\nfunction filter(haystack, needle) {\n    var filtered = [];\n    for (var i = 0, m = haystack.length; i < m; i++) {\n        if (compareProperties(haystack[i], needle)) {\n            filtered.push(haystack[i]);\n        }\n    }\n    return filtered;\n}\nexports.filter = filter;\n/**\n * @param {*} completeObject\n * @param {*} subsetObject\n * @return {boolean}\n */\nfunction compareProperties(completeObject, subsetObject) {\n    if (completeObject === subsetObject) {\n        return true;\n    }\n    else if (subsetObject instanceof Object) {\n        var keys = Object.keys(subsetObject);\n        for (var i = 0, l = keys.length; i < l; i++) {\n            if (!compareProperties(completeObject[keys[i]], subsetObject[keys[i]])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\nexports.compareProperties = compareProperties;\n/**\n * @param {number} min\n * @param {number} max\n * @return {number}\n */\nfunction randomRange(min, max) {\n    return min + Math.floor(Math.random() * (max - min + 1));\n}\nexports.randomRange = randomRange;\n/**\n * @param {Array} arr\n * @return {?}\n */\nfunction randomArrItem(arr) {\n    return arr[Math.floor(Math.random() * arr.length)];\n}\nexports.randomArrItem = randomArrItem;\n/**\n * @param {Array} arr\n * @return {number}\n */\nfunction randomArrIndex(arr) {\n    return Math.floor(Math.random() * arr.length);\n}\nexports.randomArrIndex = randomArrIndex;\n/**\n * @param {number=} len\n * @return {string}\n */\nfunction randomStr(len) {\n    if (len === void 0) { len = 3; }\n    return Math.random().toString(36).substr(2, len);\n}\nexports.randomStr = randomStr;\n/**\n * Ensure an array index is within bounds.\n * @param {number} index\n * @param {Array} arr\n * @return {number}\n */\nfunction ensureIndexWithinBounds(index, arr) {\n    var len = arr.length;\n    if (index >= len) {\n        return 0;\n    }\n    else if (index < 0) {\n        return len - 1;\n    }\n    return index;\n}\nexports.ensureIndexWithinBounds = ensureIndexWithinBounds;\n/**\n * @param {Array.<number>} numbers\n * @return {number}\n */\nfunction average(numbers) {\n    var total = 0;\n    for (var i = 0, m = numbers.length; i < m; i++) {\n        total += numbers[i];\n    }\n    return m ? total / m : 0;\n}\nexports.average = average;\n/**\n * @param {xss.Coordinate} a\n * @param {xss.Coordinate} b\n * @return {number}\n */\nfunction delta(a, b) {\n    return Math.abs(a[0] - b[0]) + Math.abs(a[1] - b[1]);\n}\nexports.delta = delta;\n/**\n * @param {xss.Coordinate} a\n * @param {xss.Coordinate} b\n * @return {boolean}\n */\nfunction eq(a, b) {\n    return a[0] === b[0] && a[1] === b[1];\n}\nexports.eq = eq;\n/**\n * @param {*} obj\n * @param {*} val\n * @return {?string}\n */\nfunction getKey(obj, val) {\n    for (var k in obj) {\n        if (obj.hasOwnProperty(k) && val === obj[k]) {\n            return k;\n        }\n    }\n    return null;\n}\nexports.getKey = getKey;\n/**\n * Faster sorting function.\n * http://jsperf.com/javascript-sort/\n *\n * @param {Array.<number>} arr\n * @return {Array.<number>}\n */\nfunction sort(arr) {\n    for (var i = 1; i < arr.length; i++) {\n        var tmp = arr[i], index = i;\n        while (arr[index - 1] > tmp) {\n            arr[index] = arr[index - 1];\n            --index;\n        }\n        arr[index] = tmp;\n    }\n    return arr;\n}\nexports.sort = sort;\n/**\n * @param {number} iterations\n * @param {Function} fn\n * @param {string|number=} label\n */\nfunction benchmark(iterations, fn, label) {\n    var duration, i = iterations, start = +new Date();\n    while (i--) {\n        fn();\n    }\n    duration = +new Date() - start;\n    console.log(label || 'Benchmark', {\n        x: iterations,\n        avg: duration / iterations,\n        total: duration\n    });\n}\nexports.benchmark = benchmark;\n/**\n * @return {string}\n */\nfunction getRandomName() {\n    var name = randomArrItem([\n        'Ant', 'Bat', 'Bear', 'Bird', 'Cat', 'Cow', 'Crab', 'Croc', 'Deer',\n        'Dodo', 'Dog', 'Duck', 'Emu', 'Fish', 'Fly', 'Fox', 'Frog', 'Goat',\n        'Hare', 'Ibis', 'Kiwi', 'Lion', 'Lynx', 'Miao', 'Mole', 'Moth', 'Mule',\n        'Oger', 'Pig', 'Pika', 'Poke', 'Puma', 'Puss', 'Rat', 'Seal', 'Swan',\n        'Wasp', 'Wolf', 'Yak', 'Zeb'\n    ]);\n    return name + '.' + randomRange(10, 99);\n}\nexports.getRandomName = getRandomName;\n\n\n//# sourceURL=webpack://xssnake/./shared/util.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./client/index.ts");
/******/ 	
/******/ })()
;